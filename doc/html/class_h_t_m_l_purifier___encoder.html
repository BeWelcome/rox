<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>My Project: HTMLPurifier_Encoder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_h_t_m_l_purifier___encoder.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">HTMLPurifier_Encoder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a822154acac8abd2e9f6ae5510873685c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_m_l_purifier___encoder.html#a822154acac8abd2e9f6ae5510873685c">muteErrorHandler</a> ()</td></tr>
<tr class="separator:a822154acac8abd2e9f6ae5510873685c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a792f9382f34b51ae03dd994b28836c4c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_m_l_purifier___encoder.html#a792f9382f34b51ae03dd994b28836c4c">unsafeIconv</a> ($in, $out, $text)</td></tr>
<tr class="separator:a792f9382f34b51ae03dd994b28836c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2627c0f4c7c490eea54a138f62e43fb9"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_m_l_purifier___encoder.html#a2627c0f4c7c490eea54a138f62e43fb9">iconv</a> ($in, $out, $text, $max_chunk_size=8000)</td></tr>
<tr class="separator:a2627c0f4c7c490eea54a138f62e43fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c73449c7694af8a0e77573096cf02d3"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_m_l_purifier___encoder.html#a0c73449c7694af8a0e77573096cf02d3">cleanUTF8</a> ($str, $force_php=false)</td></tr>
<tr class="separator:a0c73449c7694af8a0e77573096cf02d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5fd2ba9c08b3fe7ac2f1c5d4d2820db"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_m_l_purifier___encoder.html#ac5fd2ba9c08b3fe7ac2f1c5d4d2820db">unichr</a> ($code)</td></tr>
<tr class="separator:ac5fd2ba9c08b3fe7ac2f1c5d4d2820db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2d2971806a120cf8c5116bd8440331c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2d2971806a120cf8c5116bd8440331c"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>iconvAvailable</b> ()</td></tr>
<tr class="separator:af2d2971806a120cf8c5116bd8440331c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade438b0f33d4200863e94e0c6945ac4c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_m_l_purifier___encoder.html#ade438b0f33d4200863e94e0c6945ac4c">convertToUTF8</a> ($str, $config, $context)</td></tr>
<tr class="separator:ade438b0f33d4200863e94e0c6945ac4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d072ef4253cf0402ddb18938eb14422"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_m_l_purifier___encoder.html#a9d072ef4253cf0402ddb18938eb14422">convertFromUTF8</a> ($str, $config, $context)</td></tr>
<tr class="separator:a9d072ef4253cf0402ddb18938eb14422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2c32dd3f555451e22509dd04ba5d526"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_m_l_purifier___encoder.html#ae2c32dd3f555451e22509dd04ba5d526">convertToASCIIDumbLossless</a> ($str)</td></tr>
<tr class="separator:ae2c32dd3f555451e22509dd04ba5d526"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b4b03b49847aedebd36a960ed5c9bc"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_m_l_purifier___encoder.html#a21b4b03b49847aedebd36a960ed5c9bc">testIconvTruncateBug</a> ()</td></tr>
<tr class="separator:a21b4b03b49847aedebd36a960ed5c9bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0df89dbbec7db7ceb7309212ce17119"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_m_l_purifier___encoder.html#ae0df89dbbec7db7ceb7309212ce17119">testEncodingSupportsASCII</a> ($encoding, $bypass=false)</td></tr>
<tr class="separator:ae0df89dbbec7db7ceb7309212ce17119"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a7e7b7c21d55fb28286e19b4e856272fa"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_m_l_purifier___encoder.html#a7e7b7c21d55fb28286e19b4e856272fa">ICONV_OK</a> = 0</td></tr>
<tr class="separator:a7e7b7c21d55fb28286e19b4e856272fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5cb3b5a3a8e3982115228da695a231e"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_m_l_purifier___encoder.html#af5cb3b5a3a8e3982115228da695a231e">ICONV_TRUNCATES</a> = 1</td></tr>
<tr class="separator:af5cb3b5a3a8e3982115228da695a231e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebe7671e1988e31019da99c583a7efd9"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_m_l_purifier___encoder.html#aebe7671e1988e31019da99c583a7efd9">ICONV_UNUSABLE</a> = 2</td></tr>
<tr class="separator:aebe7671e1988e31019da99c583a7efd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A UTF-8 specific character encoder that handles cleaning and transforming. </p>
<dl class="section note"><dt>Note</dt><dd>All functions in this class should be static. </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0c73449c7694af8a0e77573096cf02d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static cleanUTF8 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$force_php</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Cleans a UTF-8 string for well-formedness and SGML validity</p>
<p>It will parse according to UTF-8 and return a valid UTF8 string, with non-SGML codepoints excluded.</p>
<dl class="section note"><dt>Note</dt><dd>Just for reference, the non-SGML code points are 0 to 31 and 127 to 159, inclusive. However, we allow code points 9, 10 and 13, which are the tab, line feed and carriage return respectively. 128 and above the code points map to multibyte UTF-8 representations.</dd>
<dd>
Fallback code adapted from utf8ToUnicode by Henri Sivonen and <a href="#" onclick="location.href='mai'+'lto:'+'hsi'+'vo'+'nen'+'@i'+'ki.'+'fi'; return false;">hsivo<span style="display: none;">.nosp@m.</span>nen@<span style="display: none;">.nosp@m.</span>iki.f<span style="display: none;">.nosp@m.</span>i</a> at <a href="http://iki.fi/hsivonen/php-utf8/">http://iki.fi/hsivonen/php-utf8/</a> under the LGPL license. Notes on what changed are inside, but in general, the original code transformed UTF-8 text into an array of integer Unicode codepoints. Understandably, transforming that back to a string would be somewhat expensive, so the function was modded to directly operate on the string. However, this discourages code reuse, and the logic enumerated here would be useful for any function that needs to be able to understand UTF-8 characters. As of right now, only smart lossless character encoding converters would need that, and I'm probably not going to implement them. Once again, PHP 6 should solve all our problems. </dd></dl>

</div>
</div>
<a class="anchor" id="a9d072ef4253cf0402ddb18938eb14422"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static convertFromUTF8 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Converts a string from UTF-8 based on configuration. </p>
<dl class="section note"><dt>Note</dt><dd>Currently, this is a lossy conversion, with unexpressable characters being omitted. </dd></dl>

</div>
</div>
<a class="anchor" id="ae2c32dd3f555451e22509dd04ba5d526"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static convertToASCIIDumbLossless </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Lossless (character-wise) conversion of HTML to ASCII </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$str</td><td>UTF-8 string to be converted to ASCII </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ASCII encoded string with non-ASCII character entity-ized </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Adapted from MediaWiki, claiming fair use: this is a common algorithm. If you disagree with this license fudgery, implement it yourself. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Uses decimal numeric entities since they are best supported. </dd>
<dd>
This is a DUMB function: it has no concept of keeping character entities that the projected character encoding can allow. We could possibly implement a smart version but that would require it to also know which Unicode codepoints the charset supported (not an easy task). </dd>
<dd>
Sort of with <a class="el" href="class_h_t_m_l_purifier___encoder.html#a0c73449c7694af8a0e77573096cf02d3">cleanUTF8()</a> but it assumes that $str is well-formed UTF-8 </dd></dl>

</div>
</div>
<a class="anchor" id="ade438b0f33d4200863e94e0c6945ac4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static convertToUTF8 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Converts a string to UTF-8 based on configuration. </p>

</div>
</div>
<a class="anchor" id="a2627c0f4c7c490eea54a138f62e43fb9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static iconv </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$max_chunk_size</em> = <code>8000</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>iconv wrapper which mutes errors and works around bugs. </p>

</div>
</div>
<a class="anchor" id="a822154acac8abd2e9f6ae5510873685c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static muteErrorHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Error-handler that mutes errors, alternative to shut-up operator. </p>

</div>
</div>
<a class="anchor" id="ae0df89dbbec7db7ceb7309212ce17119"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static testEncodingSupportsASCII </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$encoding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bypass</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This expensive function tests whether or not a given character encoding supports ASCII. 7/8-bit encodings like Shift_JIS will fail this test, and require special processing. Variable width encodings shouldn't ever fail.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$encoding</td><td>Encoding name to test, as per iconv format </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$bypass</td><td>Whether or not to bypass the precompiled arrays. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Array of UTF-8 characters to their corresponding ASCII, which can be used to "undo" any overzealous iconv action. </dd></dl>

</div>
</div>
<a class="anchor" id="a21b4b03b49847aedebd36a960ed5c9bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static testIconvTruncateBug </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>glibc iconv has a known bug where it doesn't handle the magic //IGNORE stanza correctly. In particular, rather than ignore characters, it will return an EILSEQ after consuming some number of characters, and expect you to restart iconv as if it were an E2BIG. Old versions of PHP did not respect the errno, and returned the fragment, so as a result you would see iconv mysteriously truncating output. We can work around this by manually chopping our input into segments of about 8000 characters, as long as PHP ignores the error code. If PHP starts paying attention to the error code, iconv becomes unusable.</p>
<dl class="section return"><dt>Returns</dt><dd>Error code indicating severity of bug. </dd></dl>

</div>
</div>
<a class="anchor" id="ac5fd2ba9c08b3fe7ac2f1c5d4d2820db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unichr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Translates a Unicode codepoint into its corresponding UTF-8 character. </p>
<dl class="section note"><dt>Note</dt><dd>Based on Feyd's function at <a href="http://forums.devnetwork.net/viewtopic.php?p=191404#191404">http://forums.devnetwork.net/viewtopic.php?p=191404#191404</a>, which is in public domain. </dd>
<dd>
While we're going to do code point parsing anyway, a good optimization would be to refuse to translate code points that are non-SGML characters. However, this could lead to duplication. </dd>
<dd>
This is very similar to the unichr function in maintenance/generate-entity-file.php (although this is superior, due to its sanity checks). </dd></dl>

</div>
</div>
<a class="anchor" id="a792f9382f34b51ae03dd994b28836c4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsafeIconv </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$text</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>iconv wrapper which mutes errors, but doesn't work around bugs. </p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a7e7b7c21d55fb28286e19b4e856272fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const ICONV_OK = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>No bugs detected in iconv. </p>

</div>
</div>
<a class="anchor" id="af5cb3b5a3a8e3982115228da695a231e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const ICONV_TRUNCATES = 1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Iconv truncates output if converting from UTF-8 to another character set with //IGNORE, and a non-encodable character is found </p>

</div>
</div>
<a class="anchor" id="aebe7671e1988e31019da99c583a7efd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const ICONV_UNUSABLE = 2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Iconv does not support //IGNORE, making it unusable for transcoding purposes </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/xampp/htdocs/rox/lib/htmlpurifier-4.5.0-standalone/<a class="el" href="_h_t_m_l_purifier_8standalone_8php.html">HTMLPurifier.standalone.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_h_t_m_l_purifier___encoder.html">HTMLPurifier_Encoder</a></li>
    <li class="footer">Generated on Sun Jan 12 2014 17:39:50 for My Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
