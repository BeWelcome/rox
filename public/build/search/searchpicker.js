(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["search/searchpicker"],{

/***/ "./assets/public/js/search/searchpicker.js":
/*!*************************************************!*\
  !*** ./assets/public/js/search/searchpicker.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {$(function () {
  $.widget("custom.catcomplete", $.ui.autocomplete, {
    _create: function _create() {
      this._super();

      this.widget().menu("option", "items", "> :not(.ui-autocomplete-category)");
    },
    _renderMenu: function _renderMenu(ul, items) {
      var that = this,
          currentCategory = "";
      $.each(items, function (index, item) {
        var li;

        if (item.category !== currentCategory) {
          ul.append("<li class='ui-autocomplete-category'>" + item.category + "</li>");
          currentCategory = item.category;
        }

        li = that._renderItemData(ul, item);

        if (item.category) {
          li.attr("aria-label", item.category + " : " + item.label);
        }
      });
    }
  });
  $(".search-picker").on("keydown", function (event) {
    $("#" + this.id + "_geoname_id").val("");
    $("#" + this.id + "_latitude").val("");
    $("#" + this.id + "_longitude").val("");
  }).catcomplete({
    source: function source(request, response) {
      $.ajax({
        url: "/search/locations/all",
        dataType: "jsonp",
        data: {
          name: request.term
        },
        success: function success(data) {
          if (data.status !== "success") {
            // TODO i18n for name property
            data.locations = [{
              name: 'No matches found.',
              category: "Information",
              cnt: 0
            }];
          }

          response($.map(data.locations, function (item) {
            return {
              label: (item.name ? item.name : "") + (item.admin1 ? (item.name ? ", " : "") + item.admin1 : "") + (item.country ? ", " + item.country : "") + (item.cnt !== 0 ? " (" + item.cnt + ")" : ""),
              labelnocount: (item.name ? item.name : "") + (item.admin1 ? (item.name ? ", " : "") + item.admin1 : "") + (item.country ? ", " + item.country : ""),
              value: item.geonameid,
              latitude: item.latitude,
              longitude: item.longitude,
              category: item.category
            };
          }));
        }
      });
    },
    focus: function focus(event, ui) {
      if (typeof ui.item === 'undefined' || ui.item === null) {
        $("#" + this.id + "_geoname_id").val("");
        $("#" + this.id + "_latitude").val("");
        $("#" + this.id + "_longitude").val("");
      } else {
        $(this).val(ui.item.labelnocount);
        $("#" + this.id + "_geoname_id").val(ui.item.value);
        $("#" + this.id + "_latitude").val(ui.item.latitude);
        $("#" + this.id + "_longitude").val(ui.item.longitude);
      }

      return false;
    },
    change: function change(event, ui) {
      if (typeof ui.item === 'undefined' || ui.item === null) {
        $("#" + this.id + "_geoname_id").val("");
        $("#" + this.id + "_latitude").val("");
        $("#" + this.id + "_longitude").val("");
      } else {
        $(this).val(ui.item.labelnocount);
        $("#" + this.id + "_geoname_id").val(ui.item.value);
        $("#" + this.id + "_latitude").val(ui.item.latitude);
        $("#" + this.id + "_longitude").val(ui.item.longitude);
      }
    },
    select: function select(event, ui) {
      if (typeof ui.item === 'undefined' || ui.item === null) {
        return false;
      }

      $("#" + this.id + "_geoname_id").val(ui.item.value);
      $("#" + this.id + "_latitude").val(ui.item.latitude);
      $("#" + this.id + "_longitude").val(ui.item.longitude);
      $(this).val(ui.item.labelnocount);
      return false;
    },
    minLength: 1,
    delay: 500
  });
});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js-exposed")))

/***/ })

},[["./assets/public/js/search/searchpicker.js","runtime","bewelcome"]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvcHVibGljL2pzL3NlYXJjaC9zZWFyY2hwaWNrZXIuanMiXSwibmFtZXMiOlsiJCIsIndpZGdldCIsInVpIiwiYXV0b2NvbXBsZXRlIiwiX2NyZWF0ZSIsIl9zdXBlciIsIm1lbnUiLCJfcmVuZGVyTWVudSIsInVsIiwiaXRlbXMiLCJ0aGF0IiwiY3VycmVudENhdGVnb3J5IiwiZWFjaCIsImluZGV4IiwiaXRlbSIsImxpIiwiY2F0ZWdvcnkiLCJhcHBlbmQiLCJfcmVuZGVySXRlbURhdGEiLCJhdHRyIiwibGFiZWwiLCJvbiIsImV2ZW50IiwiaWQiLCJ2YWwiLCJjYXRjb21wbGV0ZSIsInNvdXJjZSIsInJlcXVlc3QiLCJyZXNwb25zZSIsImFqYXgiLCJ1cmwiLCJkYXRhVHlwZSIsImRhdGEiLCJuYW1lIiwidGVybSIsInN1Y2Nlc3MiLCJzdGF0dXMiLCJsb2NhdGlvbnMiLCJjbnQiLCJtYXAiLCJhZG1pbjEiLCJjb3VudHJ5IiwibGFiZWxub2NvdW50IiwidmFsdWUiLCJnZW9uYW1laWQiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImZvY3VzIiwiY2hhbmdlIiwic2VsZWN0IiwibWluTGVuZ3RoIiwiZGVsYXkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBQSwwQ0FBQyxDQUFFLFlBQVc7QUFDVkEsR0FBQyxDQUFDQyxNQUFGLENBQVMsb0JBQVQsRUFBK0JELENBQUMsQ0FBQ0UsRUFBRixDQUFLQyxZQUFwQyxFQUFrRDtBQUM5Q0MsV0FBTyxFQUFFLG1CQUFXO0FBQ2hCLFdBQUtDLE1BQUw7O0FBQ0EsV0FBS0osTUFBTCxHQUFjSyxJQUFkLENBQW9CLFFBQXBCLEVBQThCLE9BQTlCLEVBQXVDLG1DQUF2QztBQUNILEtBSjZDO0FBSzlDQyxlQUFXLEVBQUUscUJBQVVDLEVBQVYsRUFBY0MsS0FBZCxFQUFzQjtBQUMvQixVQUFJQyxJQUFJLEdBQUcsSUFBWDtBQUFBLFVBQ0lDLGVBQWUsR0FBRyxFQUR0QjtBQUVBWCxP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RSxDQUFDWSxJQUFILENBQVFnQyxTQUE1QztBQUNIO0FBQ0osS0FqRFU7QUFrRFhHLFVBQU0sRUFBRSxnQkFBVTNCLEtBQVYsRUFBaUJwQixFQUFqQixFQUFxQjtBQUN6QixVQUFJLE9BQU9BLEVBQUUsQ0FBQ1ksSUFBVixLQUFtQixXQUFuQixJQUFrQ1osRUFBRSxDQUFDWSxJQUFILEtBQVksSUFBbEQsRUFBd0Q7QUFDcEQsZUFBTyxLQUFQO0FBQ0g7O0FBRURkLE9BQUMsQ0FBQyxNQUFNLEtBQUt1QixFQUFYLEdBQWdCLGFBQWpCLENBQUQsQ0FBaUNDLEdBQWpDLENBQXFDdEIsRUFBRSxDQUFDWSxJQUFILENBQVE2QixLQUE3QztBQUNBM0MsT0FBQyxDQUFDLE1BQU0sS0FBS3VCLEVBQVgsR0FBZ0IsV0FBakIsQ0FBRCxDQUErQkMsR0FBL0IsQ0FBbUN0QixFQUFFLENBQUNZLElBQUgsQ0FBUStCLFFBQTNDO0FBQ0E3QyxPQUFDLENBQUMsTUFBTSxLQUFLdUIsRUFBWCxHQUFnQixZQUFqQixDQUFELENBQWdDQyxHQUFoQyxDQUFvQ3RCLEVBQUUsQ0FBQ1ksSUFBSCxDQUFRZ0MsU0FBNUM7QUFFQTlDLE9BQUMsQ0FBQyxJQUFELENBQUQsQ0FBUXdCLEdBQVIsQ0FBWXRCLEVBQUUsQ0FBQ1ksSUFBSCxDQUFRNEIsWUFBcEI7QUFFQSxhQUFPLEtBQVA7QUFDSCxLQTlEVTtBQStEWFEsYUFBUyxFQUFFLENBL0RBO0FBZ0VYQyxTQUFLLEVBQUU7QUFoRUksR0FKZjtBQXNFSCxDQTdGQSxDQUFELEMiLCJmaWxlIjoic2VhcmNoL3NlYXJjaHBpY2tlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoIGZ1bmN0aW9uKCkge1xuICAgICQud2lkZ2V0KFwiY3VzdG9tLmNhdGNvbXBsZXRlXCIsICQudWkuYXV0b2NvbXBsZXRlLCB7XG4gICAgICAgIF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fc3VwZXIoKTtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0KCkubWVudSggXCJvcHRpb25cIiwgXCJpdGVtc1wiLCBcIj4gOm5vdCgudWktYXV0b2NvbXBsZXRlLWNhdGVnb3J5KVwiICk7XG4gICAgICAgIH0sXG4gICAgICAgIF9yZW5kZXJNZW51OiBmdW5jdGlvbiggdWwsIGl0ZW1zICkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRDYXRlZ29yeSA9IFwiXCI7XG4gICAgICAgICAgICAkLmVhY2goIGl0ZW1zLCBmdW5jdGlvbiggaW5kZXgsIGl0ZW0gKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpO1xuICAgICAgICAgICAgICAgIGlmICggaXRlbS5jYXRlZ29yeSAhPT0gY3VycmVudENhdGVnb3J5ICkge1xuICAgICAgICAgICAgICAgICAgICB1bC5hcHBlbmQoIFwiPGxpIGNsYXNzPSd1aS1hdXRvY29tcGxldGUtY2F0ZWdvcnknPlwiICsgaXRlbS5jYXRlZ29yeSArIFwiPC9saT5cIiApO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2F0ZWdvcnkgPSBpdGVtLmNhdGVnb3J5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaSA9IHRoYXQuX3JlbmRlckl0ZW1EYXRhKCB1bCwgaXRlbSApO1xuICAgICAgICAgICAgICAgIGlmICggaXRlbS5jYXRlZ29yeSApIHtcbiAgICAgICAgICAgICAgICAgICAgbGkuYXR0ciggXCJhcmlhLWxhYmVsXCIsIGl0ZW0uY2F0ZWdvcnkgKyBcIiA6IFwiICsgaXRlbS5sYWJlbCApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKFwiLnNlYXJjaC1waWNrZXJcIikub24oXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAkKFwiI1wiICsgdGhpcy5pZCArIFwiX2dlb25hbWVfaWRcIikudmFsKFwiXCIpO1xuICAgICAgICAkKFwiI1wiICsgdGhpcy5pZCArIFwiX2xhdGl0dWRlXCIpLnZhbChcIlwiKTtcbiAgICAgICAgJChcIiNcIiArIHRoaXMuaWQgKyBcIl9sb25naXR1ZGVcIikudmFsKFwiXCIpO1xuICAgIH0pLmNhdGNvbXBsZXRlKHtcbiAgICAgICAgc291cmNlOiBmdW5jdGlvbiAocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiBcIi9zZWFyY2gvbG9jYXRpb25zL2FsbFwiLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25wXCIsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0LnRlcm1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyAhPT0gXCJzdWNjZXNzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gaTE4biBmb3IgbmFtZSBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5sb2NhdGlvbnMgPSBbe25hbWU6ICdObyBtYXRjaGVzIGZvdW5kLicsIGNhdGVnb3J5OiBcIkluZm9ybWF0aW9uXCIsIGNudDogMH1dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgJC5tYXAoZGF0YS5sb2NhdGlvbnMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IChpdGVtLm5hbWUgPyBpdGVtLm5hbWUgOiBcIlwiKSArIChpdGVtLmFkbWluMSA/IChpdGVtLm5hbWUgPyBcIiwgXCIgOiBcIlwiKSArIGl0ZW0uYWRtaW4xIDogXCJcIikgKyAoaXRlbS5jb3VudHJ5ID8gXCIsIFwiICsgaXRlbS5jb3VudHJ5IDogXCJcIikgKyAoaXRlbS5jbnQgIT09IDAgPyBcIiAoXCIgKyBpdGVtLmNudCArIFwiKVwiIDogXCJcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsbm9jb3VudDogKGl0ZW0ubmFtZSA/IGl0ZW0ubmFtZSA6IFwiXCIpICsgKGl0ZW0uYWRtaW4xID8gKGl0ZW0ubmFtZSA/IFwiLCBcIiA6IFwiXCIpICsgaXRlbS5hZG1pbjEgOiBcIlwiKSArIChpdGVtLmNvdW50cnkgPyBcIiwgXCIgKyBpdGVtLmNvdW50cnkgOiBcIlwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0uZ2VvbmFtZWlkLCBsYXRpdHVkZTogaXRlbS5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBpdGVtLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGl0ZW0uY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1czogZnVuY3Rpb24gKGV2ZW50LCB1aSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1aS5pdGVtID09PSAndW5kZWZpbmVkJyB8fCB1aS5pdGVtID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgJChcIiNcIiArIHRoaXMuaWQgKyBcIl9nZW9uYW1lX2lkXCIpLnZhbChcIlwiKTtcbiAgICAgICAgICAgICAgICAkKFwiI1wiICsgdGhpcy5pZCArIFwiX2xhdGl0dWRlXCIpLnZhbChcIlwiKTtcbiAgICAgICAgICAgICAgICAkKFwiI1wiICsgdGhpcy5pZCArIFwiX2xvbmdpdHVkZVwiKS52YWwoXCJcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQodGhpcykudmFsKHVpLml0ZW0ubGFiZWxub2NvdW50KTtcbiAgICAgICAgICAgICAgICAkKFwiI1wiICsgdGhpcy5pZCArIFwiX2dlb25hbWVfaWRcIikudmFsKHVpLml0ZW0udmFsdWUpO1xuICAgICAgICAgICAgICAgICQoXCIjXCIgKyB0aGlzLmlkICsgXCJfbGF0aXR1ZGVcIikudmFsKHVpLml0ZW0ubGF0aXR1ZGUpO1xuICAgICAgICAgICAgICAgICQoXCIjXCIgKyB0aGlzLmlkICsgXCJfbG9uZ2l0dWRlXCIpLnZhbCh1aS5pdGVtLmxvbmdpdHVkZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGNoYW5nZTogZnVuY3Rpb24gKGV2ZW50LCB1aSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1aS5pdGVtID09PSAndW5kZWZpbmVkJyB8fCB1aS5pdGVtID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgJChcIiNcIiArIHRoaXMuaWQgKyBcIl9nZW9uYW1lX2lkXCIpLnZhbChcIlwiKTtcbiAgICAgICAgICAgICAgICAkKFwiI1wiICsgdGhpcy5pZCArIFwiX2xhdGl0dWRlXCIpLnZhbChcIlwiKTtcbiAgICAgICAgICAgICAgICAkKFwiI1wiICsgdGhpcy5pZCArIFwiX2xvbmdpdHVkZVwiKS52YWwoXCJcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQodGhpcykudmFsKHVpLml0ZW0ubGFiZWxub2NvdW50KTtcbiAgICAgICAgICAgICAgICAkKFwiI1wiICsgdGhpcy5pZCArIFwiX2dlb25hbWVfaWRcIikudmFsKHVpLml0ZW0udmFsdWUpO1xuICAgICAgICAgICAgICAgICQoXCIjXCIgKyB0aGlzLmlkICsgXCJfbGF0aXR1ZGVcIikudmFsKHVpLml0ZW0ubGF0aXR1ZGUpO1xuICAgICAgICAgICAgICAgICQoXCIjXCIgKyB0aGlzLmlkICsgXCJfbG9uZ2l0dWRlXCIpLnZhbCh1aS5pdGVtLmxvbmdpdHVkZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdDogZnVuY3Rpb24gKGV2ZW50LCB1aSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1aS5pdGVtID09PSAndW5kZWZpbmVkJyB8fCB1aS5pdGVtID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKFwiI1wiICsgdGhpcy5pZCArIFwiX2dlb25hbWVfaWRcIikudmFsKHVpLml0ZW0udmFsdWUpO1xuICAgICAgICAgICAgJChcIiNcIiArIHRoaXMuaWQgKyBcIl9sYXRpdHVkZVwiKS52YWwodWkuaXRlbS5sYXRpdHVkZSk7XG4gICAgICAgICAgICAkKFwiI1wiICsgdGhpcy5pZCArIFwiX2xvbmdpdHVkZVwiKS52YWwodWkuaXRlbS5sb25naXR1ZGUpO1xuXG4gICAgICAgICAgICAkKHRoaXMpLnZhbCh1aS5pdGVtLmxhYmVsbm9jb3VudCk7XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgbWluTGVuZ3RoOiAxLFxuICAgICAgICBkZWxheTogNTAwXG4gICAgfSk7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=