<?php

declare(strict_types=1);

namespace App\Migrations;

use Doctrine\DBAL\Schema\Schema;
use Doctrine\Migrations\AbstractMigration;

/**
 * Auto-generated Migration: Please modify to your needs!
 */
final class Version20211128162559 extends AbstractMigration
{
    public function getDescription() : string
    {
        return '';
    }

    public function up(Schema $schema) : void
    {
        // this up() migration is auto-generated, please modify it to your needs
        $this->abortIf($this->connection->getDatabasePlatform()->getName() !== 'mysql', 'Migration can only be executed safely on \'mysql\'.');

        $this->addSql('CREATE TABLE geonames_admincodes (code VARCHAR(5) NOT NULL, country_code VARCHAR(2) NOT NULL, admin_code VARCHAR(2) NOT NULL, name VARCHAR(64) NOT NULL, INDEX country_code (country_code), INDEX admin_code (admin_code), PRIMARY KEY(code)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_520_ci` ENGINE = InnoDB');
        $this->addSql('DROP TABLE blog');
        $this->addSql('DROP TABLE blog_categories');
        $this->addSql('DROP TABLE blog_categories_seq');
        $this->addSql('DROP TABLE blog_comments');
        $this->addSql('DROP TABLE blog_comments_seq');
        $this->addSql('DROP TABLE blog_data');
        $this->addSql('DROP TABLE blog_seq');
        $this->addSql('DROP TABLE blog_tags');
        $this->addSql('DROP TABLE blog_to_category');
        $this->addSql('DROP TABLE blog_to_tag');
        $this->addSql('DROP TABLE forums_posts_votes');
        $this->addSql('DROP TABLE forums_tags');
        $this->addSql('DROP TABLE gallery_items_seq');
        $this->addSql('DROP TABLE gallery_seq');
        $this->addSql('DROP TABLE geo_hierarchy');
        $this->addSql('DROP TABLE geo_type');
        $this->addSql('DROP TABLE geo_usage');
        $this->addSql('DROP TABLE geonames_new');
        $this->addSql('DROP TABLE geonamesadminunits_new');
        $this->addSql('DROP TABLE geonamesalternatenames_new');
        $this->addSql('DROP TABLE geonamescountries_new');
        $this->addSql('DROP TABLE group_membership_trads');
        $this->addSql('DROP TABLE groups_related');
        $this->addSql('DROP TABLE groupsmessages');
        $this->addSql('DROP TABLE intermembertranslations');
        $this->addSql('DROP TABLE linklist');
        $this->addSql('DROP TABLE members_groups_subscribed');
        $this->addSql('DROP TABLE members_not_suspended');
        $this->addSql('DROP TABLE members_roles');
        $this->addSql('DROP TABLE members_sessions');
        $this->addSql('DROP TABLE members_tags_subscribed');
        $this->addSql('DROP TABLE memberspublicprofiles');
        $this->addSql('DROP TABLE mod_user_apps');
        $this->addSql('DROP TABLE mod_user_auth');
        $this->addSql('DROP TABLE mod_user_authgroups');
        $this->addSql('DROP TABLE mod_user_authrights');
        $this->addSql('DROP TABLE mod_user_groupauth');
        $this->addSql('DROP TABLE mod_user_grouprights');
        $this->addSql('DROP TABLE mod_user_implications');
        $this->addSql('DROP TABLE mod_user_rights');
        $this->addSql('DROP TABLE online');
        $this->addSql('DROP TABLE pendingmandatory');
        $this->addSql('DROP TABLE phinxlog');
        $this->addSql('DROP TABLE poll_choices_translations');
        $this->addSql('DROP TABLE polls_choices_hierachy');
        $this->addSql('DROP TABLE polls_list_allowed_countries');
        $this->addSql('DROP TABLE polls_list_allowed_locations');
        $this->addSql('DROP TABLE polls_translations');
        $this->addSql('DROP TABLE previousversion');
        $this->addSql('DROP TABLE recentvisits');
        $this->addSql('DROP TABLE recorded_usernames_of_left_members');
        $this->addSql('DROP TABLE roles_privileges');
        $this->addSql('DROP TABLE sqlforgroupsmembers');
        $this->addSql('DROP TABLE sqlforvolunteers');
        $this->addSql('DROP TABLE suggestions');
        $this->addSql('DROP TABLE suggestions_option_ranks');
        $this->addSql('DROP TABLE suggestions_options');
        $this->addSql('DROP TABLE suggestions_votes');
        $this->addSql('DROP TABLE t_countries');
        $this->addSql('DROP TABLE tags');
        $this->addSql('DROP TABLE tags_threads');
        $this->addSql('DROP TABLE tantable');
        $this->addSql('DROP TABLE timezone');
        $this->addSql('DROP TABLE trip');
        $this->addSql('DROP TABLE trip_data');
        $this->addSql('DROP TABLE trip_to_gallery');
        $this->addSql('DROP TABLE urlheader_languages');
        $this->addSql('DROP TABLE user_friends');
        $this->addSql('DROP TABLE user_inbox');
        $this->addSql('DROP TABLE user_outbox');
        $this->addSql('DROP TABLE user_seq');
        $this->addSql('DROP TABLE user_settings');
        $this->addSql('DROP TABLE verifiedmembers');
        $this->addSql('DROP TABLE volunteer_boards');
        $this->addSql('ALTER TABLE activities CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE creator creator INT DEFAULT NULL, CHANGE dateTimeEnd dateTimeEnd DATETIME DEFAULT NULL, CHANGE locationId locationId INT DEFAULT NULL, CHANGE address address VARCHAR(320) DEFAULT NULL, CHANGE public public SMALLINT DEFAULT NULL');
        $this->addSql('ALTER TABLE activities ADD CONSTRAINT FK_B5F1AFE5BC06EA63 FOREIGN KEY (creator) REFERENCES members (id)');
        $this->addSql('ALTER TABLE activities ADD CONSTRAINT FK_B5F1AFE596D7286D FOREIGN KEY (locationId) REFERENCES geonames (geonameId)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_B5F1AFE5BC06EA63 ON activities (creator)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_B5F1AFE596D7286D ON activities (locationId)');
        $this->addSql('ALTER TABLE activitiesattendees MODIFY id BIGINT NOT NULL COMMENT \'Primary key\'');
        $this->addSql('DROP INDEX id_UNIQUE ON activitiesattendees');
        $this->addSql('ALTER TABLE activitiesattendees DROP PRIMARY KEY');
        $this->addSql('ALTER TABLE activitiesattendees DROP id, CHANGE activityId activityId INT NOT NULL, CHANGE attendeeId attendeeId INT NOT NULL');
        $this->addSql('ALTER TABLE activitiesattendees ADD CONSTRAINT FK_430BE90A1335E2FC FOREIGN KEY (activityId) REFERENCES activities (id)');
        $this->addSql('ALTER TABLE activitiesattendees ADD CONSTRAINT FK_430BE90AF6B88999 FOREIGN KEY (attendeeId) REFERENCES members (id)');
        $this->addSql('CREATE INDEX IDX_430BE90A1335E2FC ON activitiesattendees (activityId)');
        $this->addSql('CREATE INDEX IDX_430BE90AF6B88999 ON activitiesattendees (attendeeId)');
        $this->addSql('ALTER TABLE activitiesattendees ADD PRIMARY KEY (activityId, attendeeId)');
        $this->addSql('ALTER TABLE addresses CHANGE IdMember IdMember INT DEFAULT NULL, CHANGE HouseNumber HouseNumber INT NOT NULL, CHANGE StreetName StreetName INT NOT NULL, CHANGE Zip Zip INT NOT NULL, CHANGE IdCity IdCity INT DEFAULT NULL, CHANGE Explanation Explanation INT NOT NULL, CHANGE `Rank` `Rank` TINYINT(1) NOT NULL, CHANGE updated updated DATETIME NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE IdGettingThere IdGettingThere INT NOT NULL');
        $this->addSql('ALTER TABLE addresses ADD CONSTRAINT FK_6FCA7516EA8330B4 FOREIGN KEY (IdMember) REFERENCES members (id)');
        $this->addSql('ALTER TABLE addresses ADD CONSTRAINT FK_6FCA7516590A599C FOREIGN KEY (IdCity) REFERENCES geonames (geonameId)');
        $this->addSql('ALTER TABLE addresses RENAME INDEX idmember TO address_member');
        $this->addSql('ALTER TABLE addresses RENAME INDEX idcity TO address_city');
        $this->addSql('ALTER TABLE broadcast CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE IdCreator IdCreator INT DEFAULT NULL, CHANGE Name Name TEXT NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE Status Status VARCHAR(255) NOT NULL, CHANGE Type Type VARCHAR(255) DEFAULT NULL, CHANGE EmailFrom EmailFrom TEXT DEFAULT NULL');
        $this->addSql('ALTER TABLE broadcast ADD CONSTRAINT FK_9BF17CF52E4E0332 FOREIGN KEY (IdCreator) REFERENCES members (id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_9BF17CF52E4E0332 ON broadcast (IdCreator)');
        $this->addSql('DROP INDEX idxStatus ON broadcastmessages');
        $this->addSql('ALTER TABLE broadcastmessages CHANGE IdBroadcast IdBroadcast INT NOT NULL, CHANGE IdReceiver IdReceiver INT NOT NULL, CHANGE IdEnqueuer IdEnqueuer INT DEFAULT NULL, CHANGE Status Status VARCHAR(255) NOT NULL, CHANGE updated updated DATETIME NOT NULL, CHANGE unsubscribe_key unsubscribe_key VARCHAR(64) DEFAULT NULL');
        $this->addSql('ALTER TABLE broadcastmessages ADD CONSTRAINT FK_3F59625A3351FC26 FOREIGN KEY (IdEnqueuer) REFERENCES members (id)');
        $this->addSql('ALTER TABLE broadcastmessages ADD CONSTRAINT FK_3F59625AE187D874 FOREIGN KEY (IdBroadcast) REFERENCES broadcast (id)');
        $this->addSql('ALTER TABLE broadcastmessages ADD CONSTRAINT FK_3F59625A2146A51D FOREIGN KEY (IdReceiver) REFERENCES members (id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_3F59625A3351FC26 ON broadcastmessages (IdEnqueuer)');
        $this->addSql('CREATE INDEX IDX_3F59625AE187D874 ON broadcastmessages (IdBroadcast)');
        $this->addSql('CREATE INDEX IDX_3F59625A2146A51D ON broadcastmessages (IdReceiver)');
        $this->addSql('ALTER TABLE comments DROP FOREIGN KEY comments_ibfk_2');
        $this->addSql('ALTER TABLE comments CHANGE IdFromMember IdFromMember INT DEFAULT NULL, CHANGE IdToMember IdToMember INT DEFAULT NULL, CHANGE Relations relations SET(\'hewasmyguest\', \'hehostedme\', \'OnlyOnce\', \'HeIsMyFamily\', \'HeHisMyOldCloseFriend\', \'NeverMetInRealLife\', \'TravelledTogether\', \'WeAreFriends\', \'CommunicatedOnline\') NOT NULL COMMENT \'(DC2Type:comment_relations)\', CHANGE Quality Quality ENUM(\'Good\', \'Neutral\', \'Bad\') NOT NULL COMMENT \'(DC2Type:comment_quality)\', CHANGE updated updated DATETIME DEFAULT NULL, CHANGE created created DATETIME NOT NULL, CHANGE AdminAction AdminAction ENUM(\'NothingNeeded\', \'AdminCommentMustCheck\', \'AdminAbuserMustCheck\', \'Checked\') NOT NULL COMMENT \'(DC2Type:comment_admin_action)\', CHANGE DisplayableInCommentOfTheMonth DisplayableInCommentOfTheMonth VARCHAR(255) NOT NULL, CHANGE DisplayInPublic DisplayInPublic TINYINT(1) NOT NULL, CHANGE AllowEdit AllowEdit TINYINT(1) NOT NULL');
        $this->addSql('ALTER TABLE comments RENAME INDEX idfrommember TO comments_ibfk_1');
        $this->addSql('ALTER TABLE community_news DROP deleted_at, DROP deleted_by, CHANGE title title VARCHAR(255) NOT NULL, CHANGE text text TEXT NOT NULL, CHANGE public public TINYINT(1) NOT NULL, CHANGE created_at created_at DATETIME DEFAULT NULL, CHANGE created_by created_by INT DEFAULT NULL, CHANGE updated_at updated_at DATETIME DEFAULT NULL, CHANGE updated_by updated_by INT DEFAULT NULL');
        $this->addSql('ALTER TABLE community_news ADD CONSTRAINT FK_DC82739ADE12AB56 FOREIGN KEY (created_by) REFERENCES members (id)');
        $this->addSql('ALTER TABLE community_news ADD CONSTRAINT FK_DC82739A16FE72E1 FOREIGN KEY (updated_by) REFERENCES members (id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_DC82739ADE12AB56 ON community_news (created_by)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_DC82739A16FE72E1 ON community_news (updated_by)');
        $this->addSql('ALTER TABLE community_news_comment DROP INDEX author_id, ADD UNIQUE INDEX UNIQ_9C81F615F675F31B (author_id)');
        $this->addSql('ALTER TABLE community_news_comment CHANGE community_news_id community_news_id INT DEFAULT NULL, CHANGE author_id author_id INT DEFAULT NULL, CHANGE text text LONGTEXT NOT NULL');
        $this->addSql('ALTER TABLE community_news_comment RENAME INDEX community_news_id TO IDX_9C81F615916130F3');
        $this->addSql('ALTER TABLE cryptedfields CHANGE IsCrypted IsCrypted VARCHAR(255) NOT NULL, CHANGE IdMember IdMember INT DEFAULT NULL, CHANGE ToDo ToDo VARCHAR(255) NOT NULL, CHANGE temporary_uncrypted_buffer temporary_uncrypted_buffer TEXT DEFAULT NULL, CHANGE IdRecord IdRecord INT NOT NULL, CHANGE TableColumn TableColumn VARCHAR(200) NOT NULL');
        $this->addSql('ALTER TABLE cryptedfields ADD CONSTRAINT FK_8280104CEA8330B4 FOREIGN KEY (IdMember) REFERENCES members (id)');
        $this->addSql('ALTER TABLE cryptedfields RENAME INDEX idmember TO cryptedfields_member');
        $this->addSql('ALTER TABLE donations DROP INDEX IdMember, ADD UNIQUE INDEX UNIQ_CDE98962EA8330B4 (IdMember)');
        $this->addSql('ALTER TABLE donations CHANGE IdMember IdMember INT DEFAULT NULL, CHANGE Email Email TINYTEXT NOT NULL, CHANGE StatusPrivate StatusPrivate VARCHAR(255) NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE Amount Amount NUMERIC(10, 2) NOT NULL, CHANGE Money Money VARCHAR(10) NOT NULL, CHANGE IdCountry IdCountry VARCHAR(2) DEFAULT NULL, CHANGE namegiven namegiven TEXT NOT NULL, CHANGE referencepaypal referencepaypal TEXT NOT NULL, CHANGE membercomment membercomment TEXT NOT NULL, CHANGE SystemComment SystemComment TEXT NOT NULL');
        $this->addSql('ALTER TABLE donations ADD CONSTRAINT FK_CDE98962EA8330B4 FOREIGN KEY (IdMember) REFERENCES members (id)');
        $this->addSql('ALTER TABLE donations ADD CONSTRAINT FK_CDE98962C13B2037 FOREIGN KEY (IdCountry) REFERENCES geonamescountries (country)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_CDE98962C13B2037 ON donations (IdCountry)');
        $this->addSql('ALTER TABLE ewiki CHANGE version version INT NOT NULL, CHANGE flags flags INT DEFAULT NULL, CHANGE author author VARCHAR(100) DEFAULT NULL, CHANGE created created INT DEFAULT NULL, CHANGE lastmodified lastmodified INT DEFAULT NULL, CHANGE hits hits INT DEFAULT NULL');
        $this->addSql('ALTER TABLE failure_login_attempt CHANGE username username VARCHAR(255) DEFAULT NULL');
        $this->addSql('ALTER TABLE faq CHANGE QandA QandA VARCHAR(255) NOT NULL, CHANGE updated updated DATETIME NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE Active Active VARCHAR(255) NOT NULL, CHANGE SortOrder SortOrder INT NOT NULL, CHANGE IdCategory IdCategory INT DEFAULT NULL');
        $this->addSql('ALTER TABLE faq ADD CONSTRAINT FK_E8FF75CC1AB2304A FOREIGN KEY (IdCategory) REFERENCES faqcategories (id)');
        $this->addSql('ALTER TABLE faqcategories CHANGE Description description VARCHAR(255) NOT NULL, CHANGE SortOrder SortOrder INT NOT NULL, CHANGE updated updated DATETIME NOT NULL, CHANGE created created DATETIME NOT NULL');
        $this->addSql('ALTER TABLE feedbackcategories CHANGE Name Name TINYTEXT NOT NULL, CHANGE CategoryDescription CategoryDescription TINYTEXT NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE EmailToNotify EmailToNotify TEXT NOT NULL, CHANGE IdVolunteer IdVolunteer INT NOT NULL, CHANGE sortOrder sortOrder INT NOT NULL, CHANGE visible visible INT NOT NULL');
        $this->addSql('DROP INDEX IdMember ON feedbacks');
        $this->addSql('DROP INDEX IdVolunteer ON feedbacks');
        $this->addSql('ALTER TABLE feedbacks DROP IdVolunteer, DROP Status, CHANGE updated updated DATETIME NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE idMember IdMember INT DEFAULT NULL, CHANGE IdFeedbackCategory IdFeedbackCategory INT DEFAULT NULL, CHANGE IdLanguage IdLanguage INT DEFAULT NULL');
        $this->addSql('ALTER TABLE feedbacks ADD CONSTRAINT FK_7E6C3F89EA8330B4 FOREIGN KEY (IdMember) REFERENCES members (id)');
        $this->addSql('ALTER TABLE feedbacks ADD CONSTRAINT FK_7E6C3F89C825583E FOREIGN KEY (IdLanguage) REFERENCES languages (id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_7E6C3F89EA8330B4 ON feedbacks (IdMember)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_7E6C3F89C825583E ON feedbacks (IdLanguage)');
        $this->addSql('ALTER TABLE feedbacks RENAME INDEX idfeedbackcategory TO IDX_7E6C3F89C4D75D60');
        $this->addSql('ALTER TABLE flags ADD updated DATETIME DEFAULT NULL, CHANGE created created DATETIME NOT NULL, CHANGE Relevance Relevance INT NOT NULL');
        $this->addSql('ALTER TABLE flagsmembers CHANGE Level Level INT NOT NULL, CHANGE updated updated DATETIME DEFAULT NULL, CHANGE created created DATETIME NOT NULL');
        $this->addSql('ALTER TABLE flagsmembers RENAME INDEX idmember TO flagsmembers_members');
        $this->addSql('DROP INDEX IdLocalEvent ON forums_posts');
        $this->addSql('DROP INDEX IdPoll ON forums_posts');
        $this->addSql('DROP INDEX authorid ON forums_posts');
        $this->addSql('DROP INDEX IdLocalVolMessage ON forums_posts');
        $this->addSql('DROP INDEX id ON forums_posts');
        $this->addSql('ALTER TABLE forums_posts DROP authorid, DROP HasVotes, DROP IdLocalVolMessage, DROP IdLocalEvent, DROP IdPoll, CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE threadid threadid INT DEFAULT NULL, CHANGE PostVisibility PostVisibility ENUM(\'NoRestriction\', \'MembersOnly\', \'GroupOnly\', \'Moderator\') NOT NULL COMMENT \'(DC2Type:forum_visibility)\', CHANGE IdWriter IdWriter INT DEFAULT NULL, CHANGE message message TEXT NOT NULL, CHANGE IdContent IdContent INT NOT NULL, CHANGE OwnerCanStillEdit OwnerCanStillEdit ENUM(\'Yes\', \'No\') NOT NULL COMMENT \'(DC2Type:can_still_edit)\', CHANGE last_edittime last_edittime DATETIME DEFAULT NULL, CHANGE last_editorid last_editorid INT DEFAULT NULL, CHANGE edit_count edit_count TINYINT(1) NOT NULL, CHANGE IdFirstLanguageUsed IdFirstLanguageUsed INT NOT NULL, CHANGE PostDeleted PostDeleted ENUM(\'NotDeleted\', \'Deleted\') NOT NULL COMMENT \'(DC2Type:forum_delete_status)\'');
        $this->addSql('ALTER TABLE forums_posts ADD CONSTRAINT FK_12D7365FD0FD9043 FOREIGN KEY (threadid) REFERENCES forums_threads (id)');
        $this->addSql('ALTER TABLE forums_posts ADD CONSTRAINT FK_12D7365FDC7124E FOREIGN KEY (IdWriter) REFERENCES members (id)');
        $this->addSql('ALTER TABLE forums_posts ADD CONSTRAINT FK_12D7365FDF8D7ABF FOREIGN KEY (IdFirstLanguageUsed) REFERENCES languages (id)');
        $this->addSql('CREATE INDEX IDX_12D7365FDF8D7ABF ON forums_posts (IdFirstLanguageUsed)');
        $this->addSql('DROP INDEX continent ON forums_threads');
        $this->addSql('DROP INDEX geonameid ON forums_threads');
        $this->addSql('DROP INDEX admincode ON forums_threads');
        $this->addSql('DROP INDEX countrycode ON forums_threads');
        $this->addSql('ALTER TABLE forums_threads DROP geonameid, DROP admincode, DROP countrycode, DROP continent, DROP tag1, DROP tag2, DROP tag3, DROP tag4, DROP tag5, DROP created_at, DROP updated_at, DROP deleted_at, DROP created, DROP updated, CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE expiredate expiredate DATETIME DEFAULT NULL, CHANGE IdTitle IdTitle INT NOT NULL, CHANGE first_postid first_postid INT NOT NULL, CHANGE last_postid last_postid INT NOT NULL, CHANGE replies replies INT NOT NULL, CHANGE views views INT NOT NULL, CHANGE stickyvalue stickyvalue INT NOT NULL, CHANGE IdFirstLanguageUsed IdFirstLanguageUsed INT NOT NULL, CHANGE IdGroup IdGroup INT DEFAULT NULL, CHANGE ThreadVisibility ThreadVisibility ENUM(\'NoRestriction\', \'MembersOnly\', \'GroupOnly\', \'Moderator\') NOT NULL COMMENT \'(DC2Type:forum_visibility)\', CHANGE WhoCanReply WhoCanReply ENUM(\'MembersOnly\', \'GroupMembersOnly\', \'Moderators\') NOT NULL COMMENT \'(DC2Type:thread_reply)\', CHANGE ThreadDeleted ThreadDeleted ENUM(\'NotDeleted\', \'Deleted\') NOT NULL COMMENT \'(DC2Type:forum_delete_status)\'');
        $this->addSql('ALTER TABLE forums_threads ADD CONSTRAINT FK_58F020F095E45CB7 FOREIGN KEY (first_postid) REFERENCES forums_posts (id)');
        $this->addSql('ALTER TABLE forums_threads ADD CONSTRAINT FK_58F020F0FF177475 FOREIGN KEY (last_postid) REFERENCES forums_posts (id)');
        $this->addSql('ALTER TABLE forums_threads ADD CONSTRAINT FK_58F020F0DF8D7ABF FOREIGN KEY (IdFirstLanguageUsed) REFERENCES languages (id)');
        $this->addSql('ALTER TABLE forums_threads ADD CONSTRAINT FK_58F020F0B5B93E44 FOREIGN KEY (IdGroup) REFERENCES `groups` (id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_58F020F095E45CB7 ON forums_threads (first_postid)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_58F020F0FF177475 ON forums_threads (last_postid)');
        $this->addSql('CREATE INDEX IDX_58F020F0DF8D7ABF ON forums_threads (IdFirstLanguageUsed)');
        $this->addSql('ALTER TABLE gallery CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE user_id_foreign user_id_foreign INT DEFAULT NULL');
        $this->addSql('ALTER TABLE gallery ADD CONSTRAINT FK_472B783ABD0881BC FOREIGN KEY (user_id_foreign) REFERENCES members (id)');
        $this->addSql('ALTER TABLE gallery RENAME INDEX user_id_foreign TO gallery_user_id_foreign');
        $this->addSql('ALTER TABLE gallery_items_to_gallery CHANGE item_id_foreign item_id_foreign INT NOT NULL, CHANGE gallery_id_foreign gallery_id_foreign INT NOT NULL, ADD PRIMARY KEY (gallery_id_foreign, item_id_foreign)');
        $this->addSql('ALTER TABLE gallery_items_to_gallery ADD CONSTRAINT FK_2B8493957583B656 FOREIGN KEY (gallery_id_foreign) REFERENCES gallery (id)');
        $this->addSql('ALTER TABLE gallery_items_to_gallery ADD CONSTRAINT FK_2B849395A7DE6F5A FOREIGN KEY (item_id_foreign) REFERENCES gallery_items (id)');
        $this->addSql('ALTER TABLE gallery_items_to_gallery RENAME INDEX gallery_id_foreign TO IDX_2B8493957583B656');
        $this->addSql('ALTER TABLE gallery_items_to_gallery RENAME INDEX item_id_foreign TO IDX_2B849395A7DE6F5A');
        $this->addSql('ALTER TABLE gallery_comments CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE gallery_id_foreign gallery_id_foreign INT NOT NULL, CHANGE gallery_items_id_foreign gallery_items_id_foreign INT NOT NULL, CHANGE user_id_foreign user_id_foreign INT DEFAULT NULL, CHANGE title title VARCHAR(75) NOT NULL');
        $this->addSql('ALTER TABLE gallery_comments ADD CONSTRAINT FK_6A134491F858910A FOREIGN KEY (gallery_items_id_foreign) REFERENCES gallery_items (id)');
        $this->addSql('ALTER TABLE gallery_comments ADD CONSTRAINT FK_6A134491BD0881BC FOREIGN KEY (user_id_foreign) REFERENCES members (id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_6A134491F858910A ON gallery_comments (gallery_items_id_foreign)');
        $this->addSql('ALTER TABLE gallery_comments RENAME INDEX blog_id_foreign TO gallery_comments_blog_id_foreign');
        $this->addSql('ALTER TABLE gallery_comments RENAME INDEX user_id_foreign TO gallery_comments_user_id_foreign');
        $this->addSql('ALTER TABLE gallery_items CHANGE user_id_foreign user_id_foreign INT DEFAULT NULL, CHANGE file file VARCHAR(48) NOT NULL, CHANGE width width INT NOT NULL, CHANGE height height INT NOT NULL');
        $this->addSql('ALTER TABLE gallery_items ADD CONSTRAINT FK_583396EBD0881BC FOREIGN KEY (user_id_foreign) REFERENCES members (id)');
        $this->addSql('ALTER TABLE gallery_items RENAME INDEX file TO gallery_items_file');
        $this->addSql('ALTER TABLE gallery_items RENAME INDEX user_id_foreign TO gallery_items_user_id_foreign');
        $this->addSql('ALTER TABLE geonames CHANGE geonameId geonameId INT AUTO_INCREMENT NOT NULL, CHANGE name name VARCHAR(200) DEFAULT NULL, CHANGE latitude latitude NUMERIC(10, 7) DEFAULT NULL, CHANGE longitude longitude NUMERIC(10, 7) DEFAULT NULL, CHANGE fclass fclass VARCHAR(1) DEFAULT NULL, CHANGE fcode fcode VARCHAR(10) DEFAULT NULL, CHANGE country country VARCHAR(2) DEFAULT NULL, CHANGE admin1 admin1 VARCHAR(20) DEFAULT NULL, CHANGE population population INT DEFAULT NULL, CHANGE moddate moddate DATE DEFAULT NULL');
        $this->addSql('ALTER TABLE geonames ADD CONSTRAINT FK_AB31165B5373C966 FOREIGN KEY (country) REFERENCES geonamescountries (country)');
        $this->addSql('ALTER TABLE geonames RENAME INDEX idx_name TO geonames_idx_name');
        $this->addSql('ALTER TABLE geonames RENAME INDEX idx_latitude TO geonames_idx_latitude');
        $this->addSql('ALTER TABLE geonames RENAME INDEX idx_longitude TO geonames_idx_longitude');
        $this->addSql('ALTER TABLE geonames RENAME INDEX idx_fclass TO geonames_idx_fclass');
        $this->addSql('ALTER TABLE geonames RENAME INDEX idx_fcode TO geonames_idx_fcode');
        $this->addSql('ALTER TABLE geonames RENAME INDEX idx_country TO geonames_idx_country');
        $this->addSql('ALTER TABLE geonames RENAME INDEX idx_admin1 TO geonames_idx_admin1');
        $this->addSql('ALTER TABLE geonamesadminunits DROP PRIMARY KEY');
        $this->addSql('ALTER TABLE geonamesadminunits CHANGE name name VARCHAR(200) DEFAULT NULL, CHANGE fclass fclass VARCHAR(1) DEFAULT NULL, CHANGE fcode fcode VARCHAR(10) DEFAULT NULL, CHANGE country country VARCHAR(2) NOT NULL, CHANGE admin1 admin1 VARCHAR(20) NOT NULL, CHANGE moddate moddate DATE DEFAULT NULL');
        $this->addSql('ALTER TABLE geonamesadminunits ADD PRIMARY KEY (country, admin1)');
        $this->addSql('ALTER TABLE geonamesalternatenames DROP FOREIGN KEY geonamesalternatenames_ibfk_1');
        $this->addSql('ALTER TABLE geonamesalternatenames CHANGE alternatenameId alternatenameId INT AUTO_INCREMENT NOT NULL, CHANGE geonameId geonameId INT DEFAULT NULL, CHANGE isolanguage isolanguage VARCHAR(7) DEFAULT NULL, CHANGE alternatename alternatename VARCHAR(200) DEFAULT NULL, CHANGE ispreferred ispreferred TINYINT(1) DEFAULT NULL, CHANGE isshort isshort TINYINT(1) DEFAULT NULL, CHANGE iscolloquial iscolloquial TINYINT(1) DEFAULT NULL, CHANGE ishistoric ishistoric TINYINT(1) DEFAULT NULL');
        $this->addSql('ALTER TABLE geonamesalternatenames ADD CONSTRAINT FK_7DBD41E641662DDF FOREIGN KEY (geonameId) REFERENCES geonames (geonameId)');
        $this->addSql('ALTER TABLE geonamescountries CHANGE geonameId geonameId INT DEFAULT NULL, CHANGE name name VARCHAR(200) DEFAULT NULL, CHANGE continent continent VARCHAR(2) DEFAULT NULL');
        $this->addSql('ALTER TABLE `groups` DROP HasMembers, DROP NbChilds, DROP DisplayedOnProfile, DROP VisibleComments, CHANGE Name Name VARCHAR(40) NOT NULL, CHANGE Type Type ENUM(\'Public\', \'NeedAcceptance\', \'NeedInvitation\') NOT NULL COMMENT \'(DC2Type:group_type)\', CHANGE created created DATETIME NOT NULL, CHANGE Picture Picture TEXT NOT NULL, CHANGE MoreInfo MoreInfo TEXT NOT NULL, CHANGE IdDescription IdDescription INT NOT NULL, CHANGE VisiblePosts VisiblePosts VARCHAR(255) NOT NULL, CHANGE approved approved SMALLINT DEFAULT NULL');
        $this->addSql('ALTER TABLE groups_trads ADD CONSTRAINT FK_DB6D9193FE54D947 FOREIGN KEY (group_id) REFERENCES `groups` (id)');
        $this->addSql('ALTER TABLE groups_trads ADD CONSTRAINT FK_DB6D91934AB7A507 FOREIGN KEY (trad_id) REFERENCES memberstrads (id)');
        $this->addSql('ALTER TABLE groups_trads RENAME INDEX group_id TO IDX_DB6D9193FE54D947');
        $this->addSql('ALTER TABLE groups_trads RENAME INDEX trad_id TO UNIQ_DB6D91934AB7A507');
        $this->addSql('ALTER TABLE hosting_eagerness_slider ADD created DATETIME NOT NULL, DROP initialized, CHANGE member_id member_id INT NOT NULL, CHANGE step step INT NOT NULL, CHANGE current current INT NOT NULL, CHANGE remaining remaining INT NOT NULL, CHANGE enddate enddate DATETIME NOT NULL, CHANGE updated updated DATETIME NOT NULL');
        $this->addSql('ALTER TABLE hosting_eagerness_slider ADD CONSTRAINT FK_6DDF26E77597D3FE FOREIGN KEY (member_id) REFERENCES members (id)');
        $this->addSql('ALTER TABLE hosting_eagerness_slider RENAME INDEX member_id_foreign_idx TO IDX_6DDF26E77597D3FE');
        $this->addSql('DROP INDEX language_by_wordcode ON languages');
        $this->addSql('ALTER TABLE languages CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE ShortCode ShortCode VARCHAR(16) NOT NULL, CHANGE wordcode WordCode TINYTEXT NOT NULL, CHANGE FlagSortCriteria FlagSortCriteria INT NOT NULL, CHANGE IsWrittenLanguage IsWrittenLanguage TINYINT(1) NOT NULL, CHANGE IsSpokenLanguage IsSpokenLanguage TINYINT(1) NOT NULL, CHANGE IsSignLanguage IsSignLanguage TINYINT(1) NOT NULL');
        $this->addSql('ALTER TABLE login_messages CHANGE text text VARCHAR(255) NOT NULL, CHANGE created created DATETIME NOT NULL');
        $this->addSql('ALTER TABLE login_messages_acknowledged ADD CONSTRAINT FK_D6A0E5F131478478 FOREIGN KEY (messageid) REFERENCES login_messages (id)');
        $this->addSql('ALTER TABLE login_messages_acknowledged ADD CONSTRAINT FK_D6A0E5F15B7FF48 FOREIGN KEY (memberid) REFERENCES members (id)');
        $this->addSql('CREATE INDEX IDX_D6A0E5F131478478 ON login_messages_acknowledged (messageid)');
        $this->addSql('CREATE INDEX IDX_D6A0E5F15B7FF48 ON login_messages_acknowledged (memberid)');
        $this->addSql('DROP INDEX logs_by_time ON logs');
        $this->addSql('ALTER TABLE logs CHANGE IdMember idMember INT DEFAULT NULL, CHANGE created created DATETIME NOT NULL');
        $this->addSql('ALTER TABLE logs ADD CONSTRAINT FK_F08FC65C13F552E2 FOREIGN KEY (idMember) REFERENCES members (id)');
        $this->addSql('ALTER TABLE logs RENAME INDEX idmember TO IDX_F08FC65C13F552E2');
        $this->addSql('DROP INDEX index_by_created ON members');
        $this->addSql('DROP INDEX StatusIdCity ON members');
        $this->addSql('DROP INDEX ex_user_id ON members');
        $this->addSql('DROP INDEX i_Username ON members');
        $this->addSql('DROP INDEX Status ON members');
        $this->addSql('ALTER TABLE members DROP Id4City, CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE ex_user_id ex_user_id INT NOT NULL, CHANGE Username Username VARCHAR(32) NOT NULL, CHANGE Status Status ENUM(\'MailToConfirm\', \'Pending\', \'DuplicateSigned\', \'NeedMore\', \'Rejected\', \'CompletedPending\', \'Active\', \'TakenOut\', \'Banned\', \'Sleeper\', \'ChoiceInactive\', \'OutOfRemind\', \'Renamed\', \'ActiveHidden\', \'SuspendedBeta\', \'AskToLeave\', \'StopBoringMe\', \'PassedAway\', \'Buggy\') NOT NULL COMMENT \'(DC2Type:member_status)\', CHANGE ChangedId ChangedId INT NOT NULL, CHANGE IdCity IdCity INT DEFAULT NULL, CHANGE Latitude Latitude NUMERIC(10, 7) DEFAULT NULL, CHANGE Longitude Longitude NUMERIC(10, 7) DEFAULT NULL, CHANGE NbRemindWithoutLogingIn NbRemindWithoutLogingIn INT NOT NULL, CHANGE HomePhoneNumber HomePhoneNumber INT NOT NULL, CHANGE CellPhoneNumber CellPhoneNumber INT NOT NULL, CHANGE WorkPhoneNumber WorkPhoneNumber INT NOT NULL, CHANGE SecEmail SecEmail INT NOT NULL, CHANGE SecondName SecondName VARCHAR(255) DEFAULT NULL, CHANGE Accomodation Accomodation ENUM(\'anytime\', \'dependonrequest\', \'neverask\') NOT NULL COMMENT \'(DC2Type:accommodation)\', CHANGE AdditionalAccomodationInfo AdditionalAccomodationInfo INT NOT NULL, CHANGE ILiveWith ILiveWith INT NOT NULL, CHANGE IdentityCheckLevel IdentityCheckLevel TINYINT(1) NOT NULL, CHANGE InformationToGuest InformationToGuest INT NOT NULL, CHANGE TypicOffer TypicOffer SET(\'dinner\', \'guidedtour\', \'CanHostWeelChair\') NOT NULL COMMENT \'(DC2Type:typical_offer)\', CHANGE Offer Offer INT NOT NULL, CHANGE MaxGuest MaxGuest INT NOT NULL, CHANGE MaxLenghtOfStay MaxLenghtOfStay INT NOT NULL, CHANGE Organizations Organizations INT NOT NULL, CHANGE Restrictions Restrictions VARCHAR(255) NOT NULL, CHANGE OtherRestrictions OtherRestrictions INT NOT NULL, CHANGE bday bday INT NOT NULL, CHANGE bmonth bmonth INT NOT NULL, CHANGE byear byear INT NOT NULL, CHANGE updated updated DATETIME NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE LastLogin LastLogin DATETIME DEFAULT NULL, CHANGE SecurityFlag SecurityFlag INT NOT NULL, CHANGE Quality Quality VARCHAR(255) NOT NULL, CHANGE ProfileSummary ProfileSummary INT NOT NULL, CHANGE Occupation Occupation INT NOT NULL, CHANGE CounterGuests CounterGuests INT NOT NULL, CHANGE CounterHosts CounterHosts INT NOT NULL, CHANGE CounterTrusts CounterTrusts INT NOT NULL, CHANGE PassWord PassWord VARCHAR(100) DEFAULT NULL, CHANGE Gender Gender VARCHAR(255) NOT NULL, CHANGE HideGender HideGender VARCHAR(255) NOT NULL, CHANGE GenderOfGuest GenderOfGuest VARCHAR(255) NOT NULL, CHANGE MotivationForHospitality MotivationForHospitality INT DEFAULT NULL, CHANGE HideBirthDate HideBirthDate VARCHAR(255) NOT NULL, CHANGE BirthDate BirthDate DATE DEFAULT NULL, CHANGE AdressHidden AdressHidden VARCHAR(255) NOT NULL, CHANGE WebSite WebSite TINYTEXT DEFAULT NULL, CHANGE chat_SKYPE chat_SKYPE TINYTEXT DEFAULT NULL, CHANGE chat_ICQ chat_ICQ TINYTEXT DEFAULT NULL, CHANGE chat_AOL chat_AOL TINYTEXT DEFAULT NULL, CHANGE chat_MSN chat_MSN TINYTEXT DEFAULT NULL, CHANGE chat_YAHOO chat_YAHOO TINYTEXT DEFAULT NULL, CHANGE chat_Others chat_Others TINYTEXT DEFAULT NULL, CHANGE FutureTrips FutureTrips INT NOT NULL, CHANGE OldTrips OldTrips INT NOT NULL, CHANGE LogCount LogCount INT NOT NULL, CHANGE LastSwitchToActive LastSwitchToActive DATETIME DEFAULT NULL, CHANGE HideAttribute HideAttribute INT NOT NULL, CHANGE hosting_interest hosting_interest INT DEFAULT NULL');
        $this->addSql('ALTER TABLE members ADD CONSTRAINT FK_45A0D2FF590A599C FOREIGN KEY (IdCity) REFERENCES geonames (geonameId)');
        $this->addSql('ALTER TABLE members RENAME INDEX id2city TO IDX_45A0D2FF590A599C');
        $this->addSql('DROP INDEX IdSubscriber ON members_threads_subscribed');
        $this->addSql('ALTER TABLE members_threads_subscribed CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE IdSubscriber IdSubscriber INT NOT NULL, CHANGE IdThread IdThread INT NOT NULL, CHANGE ActionToWatch ActionToWatch ENUM(\'replies\', \'updates\') NOT NULL COMMENT \'(DC2Type:action_to_watch)\', CHANGE UnSubscribeKey UnSubscribeKey VARCHAR(20) NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE notificationsEnabled notificationsEnabled TINYINT(1) NOT NULL');
        $this->addSql('ALTER TABLE members_threads_subscribed ADD CONSTRAINT FK_3A1A005C37C59E7B FOREIGN KEY (IdSubscriber) REFERENCES members (id)');
        $this->addSql('ALTER TABLE members_threads_subscribed ADD CONSTRAINT FK_3A1A005CAB47864F FOREIGN KEY (IdThread) REFERENCES forums_threads (id)');
        $this->addSql('CREATE INDEX IDX_3A1A005C37C59E7B ON members_threads_subscribed (IdSubscriber)');
        $this->addSql('CREATE INDEX IDX_3A1A005CAB47864F ON members_threads_subscribed (IdThread)');
        $this->addSql('ALTER TABLE membersgroups CHANGE updated updated DATETIME NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE Comment comment INT NOT NULL, CHANGE IdMember IdMember INT NOT NULL, CHANGE IdGroup IdGroup INT NOT NULL, CHANGE Status Status ENUM(\'In\', \'WantToBeIn\', \'Kicked\', \'Invited\') NOT NULL COMMENT \'(DC2Type:group_membership_status)\', CHANGE IacceptMassMailFromThisGroup IacceptMassMailFromThisGroup VARCHAR(255) NOT NULL, CHANGE CanSendGroupMessage CanSendGroupMessage VARCHAR(255) NOT NULL');
        $this->addSql('ALTER TABLE membersgroups ADD CONSTRAINT FK_DCA6E8ABEA8330B4 FOREIGN KEY (IdMember) REFERENCES members (id)');
        $this->addSql('ALTER TABLE membersgroups ADD CONSTRAINT FK_DCA6E8ABB5B93E44 FOREIGN KEY (IdGroup) REFERENCES `groups` (id)');
        $this->addSql('ALTER TABLE membersgroups RENAME INDEX idgroup TO membersgroups_groups');
        $this->addSql('ALTER TABLE membersgroups RENAME INDEX idmember TO membersgroups_members');
        $this->addSql('ALTER TABLE memberslanguageslevel CHANGE updated updated DATETIME DEFAULT NULL, CHANGE created created DATETIME NOT NULL, CHANGE IdMember IdMember INT NOT NULL, CHANGE IdLanguage IdLanguage INT NOT NULL, CHANGE Level Level ENUM(\'MotherLanguage\', \'Expert\', \'Fluent\', \'Intermediate\', \'Beginner\', \'HelloOnly\') NOT NULL COMMENT \'(DC2Type:language_level)\'');
        $this->addSql('ALTER TABLE memberslanguageslevel ADD CONSTRAINT FK_BC0143C6EA8330B4 FOREIGN KEY (IdMember) REFERENCES members (id)');
        $this->addSql('ALTER TABLE memberslanguageslevel ADD CONSTRAINT FK_BC0143C6C825583E FOREIGN KEY (IdLanguage) REFERENCES languages (id)');
        $this->addSql('CREATE INDEX IDX_BC0143C6EA8330B4 ON memberslanguageslevel (IdMember)');
        $this->addSql('CREATE INDEX IDX_BC0143C6C825583E ON memberslanguageslevel (IdLanguage)');
        $this->addSql('ALTER TABLE memberslanguageslevel RENAME INDEX idmember TO members_languages');
        $this->addSql('ALTER TABLE membersphotos CHANGE FilePath FilePath TINYTEXT NOT NULL, CHANGE IdMember IdMember INT DEFAULT NULL, CHANGE SortOrder SortOrder SMALLINT NOT NULL, CHANGE updated updated DATETIME NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE Comment Comment INT NOT NULL');
        $this->addSql('ALTER TABLE membersphotos ADD CONSTRAINT FK_24BD3102EA8330B4 FOREIGN KEY (IdMember) REFERENCES members (id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_24BD3102EA8330B4 ON membersphotos (IdMember)');
        $this->addSql('ALTER TABLE membersphotos RENAME INDEX idmember TO membersphotos_members');
        $this->addSql('ALTER TABLE memberspreferences CHANGE IdMember IdMember INT NOT NULL, CHANGE IdPreference IdPreference INT NOT NULL, CHANGE Value Value TEXT NOT NULL, CHANGE updated updated DATETIME NOT NULL, CHANGE created created DATETIME NOT NULL');
        $this->addSql('ALTER TABLE memberspreferences ADD CONSTRAINT FK_2D37244EEA8330B4 FOREIGN KEY (IdMember) REFERENCES members (id)');
        $this->addSql('ALTER TABLE memberspreferences ADD CONSTRAINT FK_2D37244EC7AC7541 FOREIGN KEY (IdPreference) REFERENCES preferences (id)');
        $this->addSql('CREATE INDEX IDX_2D37244EEA8330B4 ON memberspreferences (IdMember)');
        $this->addSql('ALTER TABLE memberspreferences RENAME INDEX idmember TO memberspreferences_members');
        $this->addSql('ALTER TABLE memberspreferences RENAME INDEX idpreference TO memberspreferences_preferences');
        $this->addSql('ALTER TABLE memberstrads CHANGE IdLanguage IdLanguage INT DEFAULT NULL, CHANGE IdOwner IdOwner INT NOT NULL, CHANGE IdTrad IdTrad INT NOT NULL, CHANGE IdTranslator IdTranslator INT NOT NULL, CHANGE updated updated DATETIME DEFAULT NULL, CHANGE created created DATETIME NOT NULL, CHANGE Type Type VARCHAR(255) NOT NULL, CHANGE Sentence Sentence TEXT NOT NULL, CHANGE IdRecord IdRecord INT NOT NULL, CHANGE TableColumn TableColumn VARCHAR(200) NOT NULL');
        $this->addSql('CREATE INDEX memberstrads_trad_language ON memberstrads (IdLanguage, IdTrad)');
        $this->addSql('ALTER TABLE memberstrads RENAME INDEX idtrad TO memberstrads_trads');
        $this->addSql('ALTER TABLE memberstrads RENAME INDEX idlanguage TO memberstrads_language');
        $this->addSql('DROP INDEX FK_DB021E967DB3B714_idx ON messages');
        $this->addSql('ALTER TABLE messages DROP IdMessageFromLocalVol, DROP IdentityInformation, DROP SendConfirmation, DROP IdChecker, DROP IdTriggerer, DROP JoinMemberPict, DROP CheckerComment, CHANGE MessageType MessageType VARCHAR(255) NOT NULL, CHANGE updated updated DATETIME DEFAULT NULL, CHANGE created created DATETIME NOT NULL, CHANGE DateSent DateSent DATETIME NOT NULL, CHANGE DeleteRequest DeleteRequest SET(\'senderdeleted\', \'receiverdeleted\', \'senderpurged\', \'receiverpurged\') DEFAULT NULL COMMENT \'(DC2Type:delete_request)\', CHANGE IdParent idParent INT DEFAULT NULL, CHANGE IdReceiver idReceiver INT DEFAULT NULL, CHANGE IdSender idSender INT DEFAULT NULL, CHANGE SpamInfo SpamInfo SET(\'NotSpam\', \'SpamBlkWord\', \'SpamSayMember\', \'SpamSayChecker\', \'ProcessedBySpamManager\') NOT NULL COMMENT \'(DC2Type:spam_info)\', CHANGE Status Status ENUM(\'Draft\', \'ToCheck\', \'Checked\', \'ToSend\', \'Sent\', \'Freeze\') NOT NULL COMMENT \'(DC2Type:message_status)\', CHANGE Message Message TEXT NOT NULL, CHANGE InFolder InFolder ENUM(\'Normal\', \'junk\', \'Spam\', \'Draft\', \'requests\') NOT NULL COMMENT \'(DC2Type:in_folder)\', CHANGE WhenFirstRead WhenFirstRead DATETIME DEFAULT NULL, CHANGE subject_id subject_id INT DEFAULT NULL, CHANGE request_id request_id INT DEFAULT NULL, CHANGE initiator_id initiator_id INT DEFAULT NULL');
        $this->addSql('ALTER TABLE messages ADD CONSTRAINT FK_DB021E965E9FC8D5 FOREIGN KEY (idParent) REFERENCES messages (id)');
        $this->addSql('ALTER TABLE messages ADD CONSTRAINT FK_DB021E967DB3B714 FOREIGN KEY (initiator_id) REFERENCES members (id)');
        $this->addSql('ALTER TABLE messages ADD CONSTRAINT FK_DB021E966E1BA6CD FOREIGN KEY (idReceiver) REFERENCES members (id)');
        $this->addSql('ALTER TABLE messages ADD CONSTRAINT FK_DB021E963C11E255 FOREIGN KEY (idSender) REFERENCES members (id)');
        $this->addSql('ALTER TABLE messages ADD CONSTRAINT FK_DB021E9623EDC87 FOREIGN KEY (subject_id) REFERENCES subject (id)');
        $this->addSql('ALTER TABLE messages ADD CONSTRAINT FK_DB021E96427EB8A5 FOREIGN KEY (request_id) REFERENCES request (id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_DB021E965E9FC8D5 ON messages (idParent)');
        $this->addSql('CREATE INDEX IDX_DB021E967DB3B714 ON messages (initiator_id)');
        $this->addSql('CREATE INDEX IDX_DB021E9623EDC87 ON messages (subject_id)');
        $this->addSql('CREATE INDEX IDX_DB021E96427EB8A5 ON messages (request_id)');
        $this->addSql('ALTER TABLE mycontacts CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE Idmember IdMember INT DEFAULT NULL, CHANGE IdContact IdContact INT DEFAULT NULL, CHANGE updated updated DATETIME NOT NULL, CHANGE Category Category VARCHAR(255) NOT NULL, CHANGE Comment Comment LONGTEXT NOT NULL, CHANGE created created DATETIME NOT NULL');
        $this->addSql('ALTER TABLE mycontacts ADD CONSTRAINT FK_CDF15822EA8330B4 FOREIGN KEY (IdMember) REFERENCES members (id)');
        $this->addSql('ALTER TABLE mycontacts ADD CONSTRAINT FK_CDF15822DE2A0F69 FOREIGN KEY (IdContact) REFERENCES members (id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_CDF15822EA8330B4 ON mycontacts (IdMember)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_CDF15822DE2A0F69 ON mycontacts (IdContact)');
        $this->addSql('ALTER TABLE notes CHANGE IdMember IdMember INT DEFAULT NULL, CHANGE IdRelMember IdRelMember INT DEFAULT NULL, CHANGE Checked Checked TINYINT(1) NOT NULL, CHANGE SendMail SendMail TINYINT(1) NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE TranslationParams TranslationParams TEXT DEFAULT NULL');
        $this->addSql('ALTER TABLE notes ADD CONSTRAINT FK_11BA68CEA8330B4 FOREIGN KEY (IdMember) REFERENCES members (id)');
        $this->addSql('ALTER TABLE notes ADD CONSTRAINT FK_11BA68C50BD8DDF FOREIGN KEY (IdRelMember) REFERENCES members (id)');
        $this->addSql('CREATE INDEX IDX_11BA68CEA8330B4 ON notes (IdMember)');
        $this->addSql('CREATE INDEX IDX_11BA68C50BD8DDF ON notes (IdRelMember)');
        $this->addSql('ALTER TABLE params CHANGE updated updated DATETIME NOT NULL, CHANGE IsRealProductionDatabase IsRealProductionDatabase VARCHAR(255) NOT NULL, CHANGE recordonline recordonline INT NOT NULL, CHANGE ToggleDonateBar ToggleDonateBar INT NOT NULL, CHANGE neededperyear neededperyear INT NOT NULL, CHANGE campaignstartdate campaignstartdate DATE NOT NULL, CHANGE MailToNotifyWhenNewMemberSignup MailToNotifyWhenNewMemberSignup TEXT NOT NULL, CHANGE FeatureForumClosed FeatureForumClosed VARCHAR(255) NOT NULL, CHANGE FeatureAjaxChatClosed FeatureAjaxChatClosed VARCHAR(255) NOT NULL, CHANGE FeatureSignupClose FeatureSignupClose VARCHAR(255) NOT NULL, CHANGE FeatureSearchPageIsClosed FeatureSearchPageIsClosed VARCHAR(255) NOT NULL, CHANGE FeatureQuickSearchIsClosed FeatureQuickSearchIsClosed VARCHAR(255) NOT NULL, CHANGE RssFeedIsClosed RssFeedIsClosed VARCHAR(255) NOT NULL, CHANGE AjaxChatSpecialAllowedList AjaxChatSpecialAllowedList TEXT NOT NULL, CHANGE AjaxChatDebuLevel AjaxChatDebuLevel INT NOT NULL, CHANGE ReloadRightsAndFlags ReloadRightsAndFlags VARCHAR(255) NOT NULL, CHANGE logs_id_midnight logs_id_midnight INT NOT NULL, CHANGE previous_logs_id_midnight previous_logs_id_midnight INT NOT NULL, CHANGE memcache memcache VARCHAR(255) NOT NULL, CHANGE DayLightOffset DayLightOffset INT NOT NULL, CHANGE NbCommentsInLastComments NbCommentsInLastComments INT NOT NULL, CHANGE IdCommentOfTheMoment IdCommentOfTheMoment INT NOT NULL, CHANGE MailBotMode MailBotMode VARCHAR(255) NOT NULL, CHANGE ToggleStatsForWordsUsage ToggleStatsForWordsUsage VARCHAR(255) NOT NULL');
        $this->addSql('ALTER TABLE passwordreset CHANGE member_id member_id INT DEFAULT NULL, CHANGE token token VARCHAR(64) NOT NULL');
        $this->addSql('ALTER TABLE passwordreset ADD CONSTRAINT FK_9FEDC81D7597D3FE FOREIGN KEY (member_id) REFERENCES members (id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_9FEDC81D7597D3FE ON passwordreset (member_id)');
        $this->addSql('ALTER TABLE polls CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE IdCreator IdCreator INT DEFAULT NULL, CHANGE IdGroupCreator IdGroupCreator INT DEFAULT NULL, CHANGE Status Status VARCHAR(255) NOT NULL, CHANGE ResultsVisibility ResultsVisibility VARCHAR(255) NOT NULL, CHANGE Type Type VARCHAR(255) NOT NULL, CHANGE updated updated DATETIME NOT NULL, CHANGE Started Started DATETIME NOT NULL, CHANGE Ended Ended DATETIME NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE Title title INT NOT NULL, CHANGE ForMembersOnly ForMembersOnly VARCHAR(255) NOT NULL, CHANGE IdLocationsList IdLocationsList INT NOT NULL, CHANGE IdGroupsList IdGroupsList INT NOT NULL, CHANGE IdCountriesList IdCountriesList INT NOT NULL, CHANGE OpenToSubGroups OpenToSubGroups VARCHAR(255) NOT NULL, CHANGE TypeOfChoice TypeOfChoice VARCHAR(255) NOT NULL, CHANGE CanChangeVote CanChangeVote VARCHAR(255) NOT NULL, CHANGE AllowComment AllowComment VARCHAR(255) NOT NULL, CHANGE Description Description INT NOT NULL, CHANGE WhereToRestrictMember WhereToRestrictMember TEXT NOT NULL, CHANGE Anonym Anonym VARCHAR(255) NOT NULL');
        $this->addSql('ALTER TABLE polls ADD CONSTRAINT FK_1D3CC6EECAF43085 FOREIGN KEY (IdGroupCreator) REFERENCES members (id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_1D3CC6EECAF43085 ON polls (IdGroupCreator)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_1D3CC6EE2E4E0332 ON polls (IdCreator)');
        $this->addSql('DROP INDEX IdPoll ON polls_list_allowed_groups');
        $this->addSql('ALTER TABLE polls_list_allowed_groups CHANGE IdPoll IdPoll INT NOT NULL, CHANGE IdGroup IdGroup INT NOT NULL, ADD PRIMARY KEY (IdPoll, IdGroup)');
        $this->addSql('ALTER TABLE polls_list_allowed_groups RENAME INDEX idgroup TO IDX_B72F84B5B93E44');
        $this->addSql('ALTER TABLE polls_choices CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE IdPoll IdPoll INT DEFAULT NULL, CHANGE IdChoiceText IdChoiceText INT NOT NULL, CHANGE Counter Counter INT NOT NULL, CHANGE updated updated DATETIME NOT NULL, CHANGE created created DATETIME NOT NULL');
        $this->addSql('ALTER TABLE polls_contributions DROP INDEX idEmail, ADD INDEX polls_contributions_email (Email)');
        $this->addSql('ALTER TABLE polls_contributions CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE IdMember IdMember INT DEFAULT NULL, CHANGE Email `Email` VARCHAR(255) NOT NULL, CHANGE EmailIsConfirmed EmailIsConfirmed VARCHAR(255) NOT NULL, CHANGE updated updated DATETIME NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE comment comment TEXT NOT NULL, CHANGE IdPoll IdPoll INT DEFAULT NULL');
        $this->addSql('ALTER TABLE polls_contributions RENAME INDEX idpoll TO polls_contributions_Poll');
        $this->addSql('ALTER TABLE polls_contributions RENAME INDEX idmember TO polls_contributions_members');
        $this->addSql('ALTER TABLE polls_record_of_choices DROP INDEX idEmail, ADD INDEX polls_record_of_choices_email (Email)');
        $this->addSql('ALTER TABLE polls_record_of_choices DROP HierarchyValue, CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE updated updated DATETIME NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE IdPoll IdPoll INT DEFAULT NULL, CHANGE IdPollChoice IdPollChoice INT DEFAULT NULL, CHANGE IdMember IdMember INT DEFAULT NULL, CHANGE Email Email VARCHAR(255) NOT NULL');
        $this->addSql('ALTER TABLE polls_record_of_choices ADD CONSTRAINT FK_807EBBBDB04B0BEB FOREIGN KEY (IdPollChoice) REFERENCES polls_choices (id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_807EBBBDEA8330B4 ON polls_record_of_choices (IdMember)');
        $this->addSql('ALTER TABLE polls_record_of_choices RENAME INDEX idmember TO polls_record_of_choices_members');
        $this->addSql('ALTER TABLE polls_record_of_choices RENAME INDEX idpoll TO polls_record_of_choices_poll');
        $this->addSql('ALTER TABLE polls_record_of_choices RENAME INDEX idpollchoice TO polls_record_of_choices_poll_choice');
        $this->addSql('ALTER TABLE posts_notificationqueue CHANGE Status Status VARCHAR(255) NOT NULL, CHANGE IdMember IdMember INT DEFAULT NULL, CHANGE IdPost IdPost INT DEFAULT NULL, CHANGE updated updated DATETIME DEFAULT NULL, CHANGE created created DATETIME NOT NULL, CHANGE Type Type VARCHAR(255) NOT NULL, CHANGE IdSubscription IdSubscription INT NOT NULL, CHANGE TableSubscription TableSubscription VARCHAR(64) NOT NULL');
        $this->addSql('ALTER TABLE posts_notificationqueue ADD CONSTRAINT FK_D2884CD3EA8330B4 FOREIGN KEY (IdMember) REFERENCES members (id)');
        $this->addSql('ALTER TABLE posts_notificationqueue ADD CONSTRAINT FK_D2884CD32EDB3725 FOREIGN KEY (IdPost) REFERENCES forums_posts (id)');
        $this->addSql('CREATE INDEX IDX_D2884CD3EA8330B4 ON posts_notificationqueue (IdMember)');
        $this->addSql('CREATE INDEX IDX_D2884CD32EDB3725 ON posts_notificationqueue (IdPost)');
        $this->addSql('ALTER TABLE posts_notificationqueue RENAME INDEX idxstatus TO posts_notificationqueue_status');
        $this->addSql('ALTER TABLE preferences DROP EvalString, CHANGE codeName codeName VARCHAR(30) NOT NULL, CHANGE codeDescription codeDescription VARCHAR(30) NOT NULL, CHANGE Description Description TEXT NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE Status Status VARCHAR(255) NOT NULL');
        $this->addSql('ALTER TABLE privileges CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE controller controller VARCHAR(64) NOT NULL, CHANGE method method VARCHAR(64) NOT NULL, CHANGE type type VARCHAR(64) NOT NULL');
        $this->addSql('ALTER TABLE privilegescopes CHANGE IdMember IdMember INT NOT NULL, CHANGE IdRole IdRole INT NOT NULL, CHANGE IdPrivilege IdPrivilege INT NOT NULL, CHANGE IdType IdType VARCHAR(32) NOT NULL, CHANGE updated updated DATETIME NOT NULL');
        $this->addSql('ALTER TABLE privilegescopes ADD CONSTRAINT FK_D89F5ADAEA8330B4 FOREIGN KEY (IdMember) REFERENCES members (id)');
        $this->addSql('ALTER TABLE privilegescopes ADD CONSTRAINT FK_D89F5ADA2338D1C2 FOREIGN KEY (IdRole) REFERENCES roles (id)');
        $this->addSql('ALTER TABLE privilegescopes ADD CONSTRAINT FK_D89F5ADAFD563E06 FOREIGN KEY (IdPrivilege) REFERENCES privileges (id)');
        $this->addSql('CREATE INDEX IDX_D89F5ADAEA8330B4 ON privilegescopes (IdMember)');
        $this->addSql('CREATE INDEX IDX_D89F5ADA2338D1C2 ON privilegescopes (IdRole)');
        $this->addSql('CREATE INDEX IDX_D89F5ADAFD563E06 ON privilegescopes (IdPrivilege)');
        $this->addSql('ALTER TABLE profilesvisits CHANGE IdMember IdMember INT NOT NULL, CHANGE IdVisitor IdVisitor INT NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE updated updated DATETIME NOT NULL');
        $this->addSql('ALTER TABLE profilesvisits ADD CONSTRAINT FK_247F0D65EA8330B4 FOREIGN KEY (IdMember) REFERENCES members (id)');
        $this->addSql('ALTER TABLE profilesvisits ADD CONSTRAINT FK_247F0D6558AD08CE FOREIGN KEY (IdVisitor) REFERENCES members (id)');
        $this->addSql('CREATE INDEX IDX_247F0D65EA8330B4 ON profilesvisits (IdMember)');
        $this->addSql('ALTER TABLE reports_to_moderators CHANGE updated updated DATETIME DEFAULT NULL, CHANGE created created DATETIME NOT NULL, CHANGE PostComment PostComment TEXT NOT NULL, CHANGE IdReporter IdReporter INT DEFAULT NULL, CHANGE ModeratorComment ModeratorComment TEXT NOT NULL, CHANGE IdModerator IdModerator INT DEFAULT NULL, CHANGE Status Status ENUM(\'Open\', \'OnDiscussion\', \'Closed\') NOT NULL COMMENT \'(DC2Type:report_status)\', CHANGE IdPost IdPost INT NOT NULL, CHANGE IdThread IdThread INT NOT NULL, CHANGE Type Type ENUM(\'SeeText\', \'AllowMeToEdit\', \'Insults\', \'RemoveMyPost\') NOT NULL COMMENT \'(DC2Type:report_type)\', CHANGE LastWhoSpoke LastWhoSpoke ENUM(\'Member\', \'Moderator\') NOT NULL COMMENT \'(DC2Type:who_spoke_last)\'');
        $this->addSql('ALTER TABLE reports_to_moderators ADD CONSTRAINT FK_4DD28F876A28C979 FOREIGN KEY (IdReporter) REFERENCES members (id)');
        $this->addSql('ALTER TABLE reports_to_moderators ADD CONSTRAINT FK_4DD28F87104616E9 FOREIGN KEY (IdModerator) REFERENCES members (id)');
        $this->addSql('CREATE INDEX IDX_4DD28F876A28C979 ON reports_to_moderators (IdReporter)');
        $this->addSql('CREATE INDEX IDX_4DD28F87104616E9 ON reports_to_moderators (IdModerator)');
        $this->addSql('ALTER TABLE request DROP INDEX IDX_3B978F9F9B262DC, ADD UNIQUE INDEX UNIQ_3B978F9F9B262DC (invite_for_leg)');
        $this->addSql('ALTER TABLE request CHANGE invite_for_leg invite_for_leg INT DEFAULT NULL, CHANGE departure departure DATETIME NOT NULL, CHANGE flexible flexible TINYINT(1) DEFAULT NULL, CHANGE number_of_travellers number_of_travellers INT NOT NULL, CHANGE status status INT NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE updated updated DATETIME DEFAULT NULL');
        $this->addSql('DROP INDEX Name ON rights');
        $this->addSql('ALTER TABLE rights CHANGE created created DATETIME NOT NULL');
        $this->addSql('ALTER TABLE rightsvolunteers CHANGE IdMember IdMember INT DEFAULT NULL, CHANGE IdRight IdRight INT DEFAULT NULL, CHANGE Level Level INT NOT NULL, CHANGE updated updated DATETIME NOT NULL, CHANGE created created DATETIME NOT NULL');
        $this->addSql('ALTER TABLE rightsvolunteers ADD CONSTRAINT FK_9489C1FFEA8330B4 FOREIGN KEY (IdMember) REFERENCES members (id)');
        $this->addSql('ALTER TABLE rightsvolunteers ADD CONSTRAINT FK_9489C1FF6CB30F95 FOREIGN KEY (IdRight) REFERENCES rights (id)');
        $this->addSql('CREATE INDEX IDX_9489C1FFEA8330B4 ON rightsvolunteers (IdMember)');
        $this->addSql('CREATE INDEX IDX_9489C1FF6CB30F95 ON rightsvolunteers (IdRight)');
        $this->addSql('ALTER TABLE rightsvolunteers RENAME INDEX idmember TO rightsvolunteers_members');
        $this->addSql('ALTER TABLE roles CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE name name VARCHAR(128) NOT NULL, CHANGE description description VARCHAR(256) NOT NULL');
        $this->addSql('ALTER TABLE shouts CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE member_id_foreign member_id_foreign INT DEFAULT NULL, CHANGE table_id table_id INT NOT NULL');
        $this->addSql('ALTER TABLE shouts ADD CONSTRAINT FK_261633DAF12159B9 FOREIGN KEY (member_id_foreign) REFERENCES members (id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_261633DAF12159B9 ON shouts (member_id_foreign)');
        $this->addSql('DROP INDEX UniqueRelation ON specialrelations');
        $this->addSql('ALTER TABLE specialrelations CHANGE updated updated DATETIME NOT NULL, CHANGE Type Type VARCHAR(255) NOT NULL, CHANGE Comment Comment INT NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE IdOwner IdOwner INT DEFAULT NULL, CHANGE IdRelation IdRelation INT DEFAULT NULL, CHANGE Confirmed Confirmed VARCHAR(255) NOT NULL');
        $this->addSql('ALTER TABLE specialrelations ADD CONSTRAINT FK_BA11918F17199CFD FOREIGN KEY (IdOwner) REFERENCES members (id)');
        $this->addSql('ALTER TABLE specialrelations ADD CONSTRAINT FK_BA11918F7E776EC2 FOREIGN KEY (IdRelation) REFERENCES members (id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_BA11918F17199CFD ON specialrelations (IdOwner)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_BA11918F7E776EC2 ON specialrelations (IdRelation)');
        $this->addSql('CREATE UNIQUE INDEX UniqueRelation ON specialrelations (IdOwner, IdRelation)');
        $this->addSql('ALTER TABLE stats CHANGE created created DATETIME NOT NULL, CHANGE NbActiveMembers NbActiveMembers INT NOT NULL, CHANGE NbMessageSent NbMessageSent INT NOT NULL, CHANGE NbMessageRead NbMessageRead INT NOT NULL, CHANGE NbMemberWithOneTrust NbMemberWithOneTrust INT NOT NULL, CHANGE NbMemberWhoLoggedToday NbMemberWhoLoggedToday INT NOT NULL');
        $this->addSql('ALTER TABLE sub_trips DROP FOREIGN KEY tripId');
        $this->addSql('ALTER TABLE sub_trips CHANGE trip_id trip_id INT DEFAULT NULL, CHANGE invited_by invited_by INT DEFAULT NULL, CHANGE location location INT DEFAULT NULL, CHANGE arrival arrival DATE DEFAULT NULL, CHANGE departure departure DATE DEFAULT NULL, CHANGE options options SET(\'Private\', \'MeetLocals\', \'LookingForHosts\') DEFAULT NULL COMMENT \'(DC2Type:subtrip_options)\'');
        $this->addSql('ALTER TABLE sub_trips ADD CONSTRAINT FK_463714635E9E89CB FOREIGN KEY (location) REFERENCES geonames (geonameId)');
        $this->addSql('ALTER TABLE sub_trips ADD CONSTRAINT FK_46371463A5BC2E0E FOREIGN KEY (trip_id) REFERENCES trips (id)');
        $this->addSql('CREATE INDEX IDX_463714635E9E89CB ON sub_trips (location)');
        $this->addSql('ALTER TABLE sub_trips RENAME INDEX trip_id_idx TO IDX_46371463A5BC2E0E');
        $this->addSql('ALTER TABLE subject CHANGE subject subject VARCHAR(255) NOT NULL');
        $this->addSql('DROP INDEX IdTrad ON translations');
        $this->addSql('DROP INDEX unique_entry ON translations');
        $this->addSql('ALTER TABLE translations CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE IdLanguage IdLanguage INT DEFAULT NULL, CHANGE IdOwner IdOwner INT DEFAULT NULL, CHANGE IdTrad IdTrad INT NOT NULL, CHANGE IdTranslator IdTranslator INT DEFAULT NULL, CHANGE updated updated DATETIME NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE Type Type VARCHAR(255) NOT NULL, CHANGE Sentence Sentence TEXT NOT NULL, CHANGE IdRecord IdRecord INT NOT NULL, CHANGE TableColumn TableColumn VARCHAR(200) NOT NULL');
        $this->addSql('ALTER TABLE translations ADD CONSTRAINT FK_C6B7DA87C825583E FOREIGN KEY (IdLanguage) REFERENCES languages (id)');
        $this->addSql('ALTER TABLE translations ADD CONSTRAINT FK_C6B7DA8717199CFD FOREIGN KEY (IdOwner) REFERENCES members (id)');
        $this->addSql('ALTER TABLE translations ADD CONSTRAINT FK_C6B7DA87C20826F9 FOREIGN KEY (IdTranslator) REFERENCES members (id)');
        $this->addSql('CREATE INDEX IDX_C6B7DA87C825583E ON translations (IdLanguage)');
        $this->addSql('CREATE INDEX IDX_C6B7DA8717199CFD ON translations (IdOwner)');
        $this->addSql('CREATE INDEX IDX_C6B7DA87C20826F9 ON translations (IdTranslator)');
        $this->addSql('ALTER TABLE trips DROP FOREIGN KEY created_by');
        $this->addSql('ALTER TABLE trips CHANGE created_by created_by INT DEFAULT NULL, CHANGE summary summary VARCHAR(150) NOT NULL, CHANGE description description VARCHAR(4096) NOT NULL, CHANGE countOfTravellers countOfTravellers INT NOT NULL, CHANGE created created DATETIME NOT NULL, CHANGE updated updated DATETIME DEFAULT NULL, CHANGE deleted deleted DATETIME DEFAULT NULL, CHANGE additionalInfo additionalInfo ENUM(\'none\', \'single\', \'couple\', \'friends_mixed\', \'friends_same\', \'family\') DEFAULT NULL COMMENT \'(DC2Type:trip_additional_info)\', CHANGE invitation_radius invitation_radius INT NOT NULL');
        $this->addSql('ALTER TABLE trips ADD CONSTRAINT FK_AA7370DADE12AB56 FOREIGN KEY (created_by) REFERENCES members (id)');
        $this->addSql('ALTER TABLE uploaded_image CHANGE size size INT NOT NULL, CHANGE fileinfo fileinfo TINYTEXT NOT NULL, CHANGE filehash filehash TINYTEXT NOT NULL');
        $this->addSql('DROP INDEX handle ON user');
        $this->addSql('DROP INDEX email ON user');
        $this->addSql('DROP INDEX location ON user');
        $this->addSql('DROP INDEX user_id ON user');
        $this->addSql('ALTER TABLE user ADD PassWord VARCHAR(100) DEFAULT NULL, DROP auth_id, DROP pw, DROP active, CHANGE id id INT AUTO_INCREMENT NOT NULL, CHANGE handle handle VARCHAR(32) NOT NULL, CHANGE email email VARCHAR(255) NOT NULL, CHANGE lastlogin LastLogin DATETIME NOT NULL, CHANGE location location INT DEFAULT NULL');
        $this->addSql('ALTER TABLE words CHANGE code code VARCHAR(128) NOT NULL, CHANGE domain domain ENUM(\'messages\', \'messages+intl-icu\', \'validators\') NOT NULL COMMENT \'(DC2Type:domain)\', CHANGE ShortCode ShortCode VARCHAR(16) NOT NULL, CHANGE Sentence Sentence TEXT NOT NULL, CHANGE updated updated DATETIME NOT NULL, CHANGE donottranslate donottranslate ENUM(\'yes\', \'no\') NOT NULL COMMENT \'(DC2Type:translation_allowed)\', CHANGE IdLanguage IdLanguage INT DEFAULT NULL, CHANGE Description Description TEXT NOT NULL, CHANGE IdMember IdMember INT DEFAULT NULL, CHANGE created created DATETIME NOT NULL, CHANGE TranslationPriority TranslationPriority INT NOT NULL, CHANGE isarchived isarchived TINYINT(1) DEFAULT NULL, CHANGE majorupdate majorupdate DATETIME NOT NULL');
        $this->addSql('CREATE INDEX IDX_717D1E8CEA8330B4 ON words (IdMember)');
        $this->addSql('CREATE INDEX IDX_717D1E8CC825583E ON words (IdLanguage)');
    }

    public function down(Schema $schema) : void
    {
        // this down() migration is auto-generated, please modify it to your needs
        $this->abortIf($this->connection->getDatabasePlatform()->getName() !== 'mysql', 'Migration can only be executed safely on \'mysql\'.');

        $this->addSql('CREATE TABLE blog (blog_id INT UNSIGNED DEFAULT 0 NOT NULL, flags BLOB NOT NULL, blog_created DATETIME NOT NULL, country_id_foreign INT UNSIGNED DEFAULT NULL, trip_id_foreign INT UNSIGNED DEFAULT NULL, IdMember INT DEFAULT NULL COMMENT \'References members table\', INDEX trip_id_foreign (trip_id_foreign), INDEX IdMember (IdMember), INDEX country_id_foreign (country_id_foreign), PRIMARY KEY(blog_id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Blog references and technical data\' ');
        $this->addSql('CREATE TABLE blog_categories (blog_category_id INT UNSIGNED DEFAULT 0 NOT NULL, name VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, IdMember INT DEFAULT NULL COMMENT \'References members table\', INDEX IdMember (IdMember), PRIMARY KEY(blog_category_id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Categorylabels for blogs created by members\' ');
        $this->addSql('CREATE TABLE blog_categories_seq (id INT AUTO_INCREMENT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Technical table created by innodb\' ');
        $this->addSql('CREATE TABLE blog_comments (id INT UNSIGNED DEFAULT 0 NOT NULL, blog_id_foreign INT UNSIGNED DEFAULT 0 NOT NULL, created DATETIME NOT NULL, title VARCHAR(75) CHARACTER SET utf8mb4 DEFAULT \'\'\'\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, text LONGTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, IdMember INT DEFAULT NULL COMMENT \'References members table\', INDEX IdMember (IdMember), INDEX id (id), INDEX blog_id_foreign (blog_id_foreign)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Comments of members to blog articles\' ');
        $this->addSql('CREATE TABLE blog_comments_seq (id INT AUTO_INCREMENT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Technical table created by innodb\' ');
        $this->addSql('CREATE TABLE blog_data (blog_id INT UNSIGNED DEFAULT 0 NOT NULL, edited DATETIME DEFAULT \'NULL\', blog_title VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT \'\'\'\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, blog_text LONGTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, blog_start DATETIME DEFAULT \'NULL\' COMMENT \'when this subtrip starts\', blog_end DATETIME DEFAULT \'NULL\' COMMENT \'when this subtrip ends\', blog_latitude DOUBLE PRECISION DEFAULT \'0\' NOT NULL, blog_longitude DOUBLE PRECISION DEFAULT \'0\' NOT NULL, blog_geonameid INT UNSIGNED DEFAULT NULL, blog_display_order INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'TODO: only used if start and end are unset and user wants to reorder\', FULLTEXT INDEX blog_text (blog_text), FULLTEXT INDEX blog_title (blog_title), PRIMARY KEY(blog_id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Blog articles and metadata\' ');
        $this->addSql('CREATE TABLE blog_seq (id INT AUTO_INCREMENT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Technical table created by innodb\' ');
        $this->addSql('CREATE TABLE blog_tags (id INT AUTO_INCREMENT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE blog_to_category (created DATETIME NOT NULL, blog_category_id_foreign INT UNSIGNED DEFAULT 0 NOT NULL, blog_id_foreign INT UNSIGNED DEFAULT 0 NOT NULL, INDEX blog_category_id_foreign (blog_category_id_foreign), INDEX blog_id_foreign (blog_id_foreign)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Binding blogitems to categories\' ');
        $this->addSql('CREATE TABLE blog_to_tag (blog_id_foreign INT UNSIGNED DEFAULT 0 NOT NULL, blog_tag_id_foreign INT UNSIGNED DEFAULT 0 NOT NULL, INDEX blog_tag_id_foreign (blog_tag_id_foreign), INDEX blog_id_foreign (blog_id_foreign)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Binding blogitems to tags\' ');
        $this->addSql('CREATE TABLE forums_posts_votes (IdPost INT NOT NULL COMMENT \'Id of the corresponding post\', IdContributor INT NOT NULL COMMENT \'if of the member who contributes\', Choice VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci` COMMENT \'result of vote\', updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'when it was updated\', created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL COMMENT \'when it was created\', NbUpdates INT DEFAULT 0 NOT NULL COMMENT \'use to count the number of time a guy has voted/updated for a given post\', PRIMARY KEY(IdPost, IdContributor)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED, feature no longer in use\' ');
        $this->addSql('CREATE TABLE forums_tags (tagid INT UNSIGNED AUTO_INCREMENT NOT NULL, tag VARCHAR(64) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Obsolete look to IdName\', tag_description VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci` COMMENT \'obsolete look to IdDescription\', tag_position TINYINT(1) DEFAULT \'250\' NOT NULL, counter INT UNSIGNED DEFAULT 0 NOT NULL, IdName INT DEFAULT 0 NOT NULL COMMENT \'Name of the tag (in forum_trads)\', IdDescription INT DEFAULT 0 NOT NULL COMMENT \'Description of the tag (in forum_trads)\', Type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Member\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Type of the tag\', id INT NOT NULL COMMENT \'id of the tag (for transition with tagid)\', INDEX tag (tag), INDEX id (id), PRIMARY KEY(tagid)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Tags of groups and forums\' ');
        $this->addSql('CREATE TABLE gallery_items_seq (id INT UNSIGNED AUTO_INCREMENT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE gallery_seq (id INT UNSIGNED AUTO_INCREMENT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE geo_hierarchy (id INT AUTO_INCREMENT NOT NULL, geoId INT NOT NULL COMMENT \'can be geonameId or locationId\', parentId INT NOT NULL COMMENT \'geonameId of the parent region\', comment VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci`, UNIQUE INDEX id (id), INDEX geoId (geoId, parentId)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED, use geonames\' ');
        $this->addSql('CREATE TABLE geo_type (id INT AUTO_INCREMENT NOT NULL COMMENT \'typeId\', name VARCHAR(20) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'short name to specify the usage type for geo information , eg member\', description VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci`, UNIQUE INDEX id (id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED\' ');
        $this->addSql('CREATE TABLE geo_usage (id INT AUTO_INCREMENT NOT NULL, geoId INT NOT NULL COMMENT \'geonameId or locationId\', typeId INT NOT NULL COMMENT \'id specifying the usage type, eg member, blog or gallery, its a foreign key to geo_types\', count INT NOT NULL COMMENT \'counts the number of references of type typeId to ths geoId\', UNIQUE INDEX id (id), PRIMARY KEY(geoId, typeId)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED\' ');
        $this->addSql('CREATE TABLE geonames_new (geonameid INT NOT NULL, name VARCHAR(200) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, latitude NUMERIC(10, 7) DEFAULT \'NULL\', longitude NUMERIC(10, 7) DEFAULT \'NULL\', fclass CHAR(1) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, fcode VARCHAR(10) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, country VARCHAR(2) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, admin1 VARCHAR(20) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, population INT DEFAULT NULL, moddate DATE DEFAULT \'NULL\', INDEX idx_latitude (latitude), INDEX idx_country (country), INDEX idx_longitude (longitude), INDEX idx_admin1 (admin1), INDEX idx_fclass (fclass), INDEX idx_name (name(191)), INDEX idx_fcode (fcode), PRIMARY KEY(geonameid)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE geonamesadminunits_new (geonameid INT NOT NULL, name VARCHAR(200) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, fclass CHAR(1) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, fcode VARCHAR(10) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, country VARCHAR(2) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, admin1 VARCHAR(20) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, moddate DATE DEFAULT \'NULL\', INDEX idx_fclass (fclass), INDEX idx_fcode (fcode), INDEX idx_country (country), INDEX idx_name (name(191)), INDEX idx_admin1 (admin1), PRIMARY KEY(geonameid)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE geonamesalternatenames_new (geonameid INT NOT NULL, alternatenameId INT NOT NULL, isolanguage VARCHAR(7) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, alternatename VARCHAR(200) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, ispreferred TINYINT(1) DEFAULT \'NULL\', isshort TINYINT(1) DEFAULT \'NULL\', iscolloquial TINYINT(1) DEFAULT \'NULL\', ishistoric TINYINT(1) DEFAULT \'NULL\', INDEX geonameid (geonameid), PRIMARY KEY(alternatenameId)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE geonamescountries_new (country CHAR(2) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_general_ci`, geonameId INT DEFAULT NULL, name VARCHAR(200) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, continent CHAR(2) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, PRIMARY KEY(country)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE group_membership_trads (group_membership_id INT NOT NULL, members_trad_id INT NOT NULL, UNIQUE INDEX members_trad_id (members_trad_id), INDEX group_membership_id (group_membership_id), PRIMARY KEY(group_membership_id, members_trad_id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE groups_related (id INT AUTO_INCREMENT NOT NULL, group_id INT DEFAULT NULL, related_id INT DEFAULT NULL, addedby INT DEFAULT NULL, deletedby INT DEFAULT NULL, ts DATETIME DEFAULT \'current_timestamp()\' NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Relations between groups\' ');
        $this->addSql('CREATE TABLE groupsmessages (id INT AUTO_INCREMENT NOT NULL, created DATETIME DEFAULT \'current_timestamp()\' NOT NULL, Title MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'message title\', Message MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'message text\', IdSender INT NOT NULL COMMENT \'cid of the sender\', IdGroup INT NOT NULL COMMENT \'concerned group\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Messages sent to groups\' ');
        $this->addSql('CREATE TABLE intermembertranslations (id INT AUTO_INCREMENT NOT NULL, IdTranslator INT NOT NULL COMMENT \'Id of the member who can translate\', IdMember INT NOT NULL COMMENT \'Id of the member who\'\'s profile can be translated\', updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, IdLanguage INT NOT NULL COMMENT \'id of the language the translator can translate in\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED\' ');
        $this->addSql('CREATE TABLE linklist (id INT AUTO_INCREMENT NOT NULL, fromID INT NOT NULL, toID INT NOT NULL, degree TINYINT(1) NOT NULL, `rank` TINYINT(1) NOT NULL, path VARCHAR(10000) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, INDEX kkey (fromID, toID), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED (no longer updated)\' ');
        $this->addSql('CREATE TABLE members_groups_subscribed (id INT NOT NULL, IdSubscriber INT NOT NULL COMMENT \'Id of the member who is subscribing\', IdGroup INT NOT NULL COMMENT \'Id of the group the member is subscribing to\', ActionToWatch VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'replies\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'type/scope of subscription\', UnSubscribeKey VARCHAR(20) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Key to check when someone click on unsubscribe (to be sure he has right to do so)\', created DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'when the subscription was created\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Subscriptions of members to groups\' ');
        $this->addSql('CREATE TABLE members_not_suspended (id INT AUTO_INCREMENT NOT NULL COMMENT \'IdMember\', ex_user_id INT NOT NULL COMMENT \'Temporary key to save the calues of corresponding user.id\', Username VARCHAR(32) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'This is the username of the member its a unique field (shared with the user table)\', Status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'MailToConfirm\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Status of the member (if just subscribed, mail confimed or not, accepted, etc) the usual being &amp;quot;Active&amp;quot;) \', ChangedId INT DEFAULT 0 NOT NULL COMMENT \'Used in case the member had a Username renamed (CurrentId is then the id of the members entry to use)\', Email INT NOT NULL COMMENT \'this is the main (verified at signup) mail of the member it is Crypted\', IdCity INT NOT NULL COMMENT \'This is the city the members leaves in (redundancy with address)\', NbRemindWithoutLogingIn INT NOT NULL COMMENT \'This counter stores the number of time a member has been reminded to use BeWelcome\', HomePhoneNumber INT NOT NULL COMMENT \'This is the phone number of the member its a field the member can choose to display or not , it is Crypted\', CellPhoneNumber INT NOT NULL COMMENT \'This is the cell phone number of the member its a field the member can choose to display or not , it is Crypted\', WorkPhoneNumber INT NOT NULL COMMENT \'This is the work phone number of the member its a field the member can choose to display or not , it is Crypted\', SecEmail INT NOT NULL COMMENT \'This is an eventual second email for contacting the member it is crypted\', FirstName INT DEFAULT 0 NOT NULL COMMENT \'This is the first name of the member, the member can choose to hide it or not, it is crypted\', SecondName INT DEFAULT 0 NOT NULL COMMENT \'This is the first name of the member, the member can choose to hide it or not, it is crypted\', LastName INT DEFAULT 0 NOT NULL COMMENT \'This is the lastname (family name) of the member, the member can choose to hide it or not, it is crypted\', Accomodation VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'dependonrequest\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Here the member can state if he can offer accomodation and which kind\', AdditionalAccomodationInfo INT NOT NULL COMMENT \'Here the member can enter as text more precision about his accomodation possibilities;, this is can be translated\', ILiveWith INT NOT NULL COMMENT \'Here the member can describe has text the people who he live with, this can be translated\', IdentityCheckLevel TINYINT(1) DEFAULT \'000\' NOT NULL COMMENT \'Futur Use, will define how far the identity of the member can be certified\', InformationToGuest INT NOT NULL COMMENT \'Here the member can enter specific information that may be of general interest for his guest, this can be translated\', TypicOffer VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Other typical offer that a member can choose to propose\', Offer INT NOT NULL COMMENT \'Here the member can describe additional things he can offer, this can be translated\', MaxGuest INT DEFAULT 0 NOT NULL, MaxLenghtOfStay INT DEFAULT 0 NOT NULL COMMENT \'Max lenght of stay, this is a text field that can be translated\', Organizations INT NOT NULL COMMENT \'Here the member can list in text the organization he belongs to, this can be translated\', Restrictions VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Standard usual restriction, the member can choose several of them\', OtherRestrictions INT NOT NULL COMMENT \'Additional non usual restriction that the member can enter as text, this can be translated\', bday INT NOT NULL COMMENT \'day of birth for the member (not mandatory)\', bmonth INT NOT NULL COMMENT \'lonth of birth for the member (not mandatory)\', byear INT NOT NULL COMMENT \'year of birth for the member (not mandatory)\', updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'last time the profile was updated\', created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, LastLogin DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL COMMENT \'last time the member login\', SecurityFlag INT DEFAULT 0 NOT NULL COMMENT \'not yet use\', Quality VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'NeverLog\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Specific quality flags (several of them possible at the same time) which will be used to compute a "member quality" (big discussion in pespective !)\', ProfileSummary INT NOT NULL COMMENT \'Very important field, he the member can fill as text a summary description of her/himself.  This information will be used for short summary of profile on search page results for example. This will be translatable\', Occupation INT NOT NULL COMMENT \'Occupation of the member , free text the member can enter, it will be translatable\', CounterGuests INT DEFAULT 0 NOT NULL COMMENT \'Counter of guest (for performance when displaying profile)\', CounterHosts INT DEFAULT 0 NOT NULL COMMENT \'Counter of hosts (for performance when displaying profile)\', CounterTrusts INT DEFAULT 0 NOT NULL COMMENT \'Counter of trusts(for performance when displaying profile)\', PassWord VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT \'\'\'ENCRYPT(\'\'\'\'password\'\'\'\')\'\'\' COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The password of the member (encrypted of course), this is typically a field of the users table\', Gender VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'IDontTell\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The gender of the member\', HideGender VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, GenderOfGuest VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'any\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The prfered gender for guest\', MotivationForHospitality INT DEFAULT NULL COMMENT \'Allow member to describe why he has subscribe to this web site(can be translated)\', HideBirthDate VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'wether the member want\'\'s to hide his birthdate or not\', BirthDate DATE DEFAULT \'NULL\' COMMENT \'birthdate of the member\', AdressHidden VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Yes\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Wether the first address of a member is hidden\', WebSite TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'optional website of the member\', chat_SKYPE TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Optionnal SKYPE address\', chat_ICQ TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Optionnal ICQ address\', chat_AOL TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Optionnal AOL address\', chat_MSN TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Optionnal MSN address\', chat_YAHOO TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Optionnal YAHOO address\', chat_Others TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Optionnal others Chat address\', Id4City INT NOT NULL COMMENT \'This is the deprecated IdCIty\', FutureTrips INT DEFAULT 0 NOT NULL COMMENT \'This is a translatable word for when a member want to describe his furture trips\', OldTrips INT DEFAULT 0 NOT NULL COMMENT \'This is a translatable sentence where a member can describe his past trips\', LogCount INT DEFAULT 0 NOT NULL COMMENT \'This is the counter of number of time a member logged in\', Hobbies INT NOT NULL, Books INT NOT NULL, Music INT NOT NULL, PastTrips INT NOT NULL, PlannedTrips INT NOT NULL, PleaseBring INT NOT NULL, OfferGuests INT NOT NULL, OfferHosts INT NOT NULL, PublicTransport INT NOT NULL, Movies INT NOT NULL, chat_GOOGLE INT NOT NULL, LastSwitchToActive DATETIME DEFAULT \'NULL\' COMMENT \'Stores the last time profile was set to \'\'Active\'\'.  Needed to limit switches between \'\'ChoiceInactive\'\' and \'\'Active\'\'.\', bewelcomed INT NOT NULL, INDEX index_by_created (created), INDEX Id2City (IdCity), INDEX ex_user_id (ex_user_id), UNIQUE INDEX i_Username (Username), INDEX Status (Status), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Members data table\' ');
        $this->addSql('CREATE TABLE members_roles (IdMember INT NOT NULL COMMENT \'Foreign key to the members table\', IdRole INT NOT NULL COMMENT \'Foreign key to the roles table\', updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, PRIMARY KEY(IdMember, IdRole)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'N-to-N table for members and roles\' ');
        $this->addSql('CREATE TABLE members_sessions (IdMember INT DEFAULT NULL, SeriesToken CHAR(32) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci`, AuthToken CHAR(32) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci`, modified DATETIME DEFAULT \'current_timestamp()\' NOT NULL) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Tokens of sessions\' ');
        $this->addSql('CREATE TABLE members_tags_subscribed (id INT AUTO_INCREMENT NOT NULL COMMENT \'primary key\', IdSubscriber INT NOT NULL COMMENT \'Id of the member who is subscribing\', IdTag INT NOT NULL COMMENT \'Id of the tagthe member is subscribing to\', ActionToWatch VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'replies\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'type/scope of subscription\', UnSubscribeKey VARCHAR(20) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Key to check when someone click on unsubscribe (to be sure he has ridght to do so)\', created DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'when the subscription was created\', notificationsEnabled TINYINT(1) DEFAULT \'1\' NOT NULL, INDEX IdSubscriber (IdSubscriber, IdTag), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Subscriptions of members to tags\' ');
        $this->addSql('CREATE TABLE memberspublicprofiles (id INT AUTO_INCREMENT NOT NULL, IdMember INT NOT NULL, created DATETIME DEFAULT \'current_timestamp()\' NOT NULL, type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'normal\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Specify the type of public profile (like for example if it is a one to propose has a sample)\', INDEX IdMember (IdMember), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Members who have a public profile\' ');
        $this->addSql('CREATE TABLE mod_user_apps (id INT UNSIGNED DEFAULT 0 NOT NULL, name VARCHAR(75) CHARACTER SET utf8mb4 DEFAULT \'\'\'\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, INDEX name (name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED\' ');
        $this->addSql('CREATE TABLE mod_user_auth (id INT UNSIGNED DEFAULT 0 NOT NULL, name VARCHAR(75) CHARACTER SET utf8mb4 DEFAULT \'\'\'\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, INDEX name (name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED\' ');
        $this->addSql('CREATE TABLE mod_user_authgroups (id INT UNSIGNED DEFAULT 0 NOT NULL, name VARCHAR(75) CHARACTER SET utf8mb4 DEFAULT \'\'\'\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, INDEX name (name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED\' ');
        $this->addSql('CREATE TABLE mod_user_authrights (auth_id INT UNSIGNED DEFAULT NULL, right_id INT UNSIGNED DEFAULT NULL, INDEX auth_id (auth_id), INDEX right_id (right_id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED\' ');
        $this->addSql('CREATE TABLE mod_user_groupauth (auth_id INT UNSIGNED DEFAULT 0 NOT NULL, group_id INT UNSIGNED DEFAULT 0 NOT NULL, INDEX user_id (auth_id), INDEX group_id (group_id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED\' ');
        $this->addSql('CREATE TABLE mod_user_grouprights (group_id INT UNSIGNED DEFAULT NULL, right_id INT UNSIGNED DEFAULT NULL, INDEX group_id (group_id), INDEX right_id (right_id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED\' ');
        $this->addSql('CREATE TABLE mod_user_implications (right_id INT UNSIGNED DEFAULT NULL, implies_id INT UNSIGNED DEFAULT NULL, INDEX right_id (right_id), INDEX implies_id (implies_id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED\' ');
        $this->addSql('CREATE TABLE mod_user_rights (id INT UNSIGNED NOT NULL, app_id INT UNSIGNED DEFAULT NULL, name VARCHAR(75) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, has_implied INT UNSIGNED DEFAULT 0 NOT NULL, level INT UNSIGNED DEFAULT 0 NOT NULL, INDEX name (name), INDEX app_id (app_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED\' ');
        $this->addSql('CREATE TABLE online (IdMember INT NOT NULL COMMENT \'member who is online\', updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'last time the member  was active\', appearance VARCHAR(256) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'What to show about the member this can be a html thing\', lastactivity VARCHAR(256) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Last url the member call\', Status VARCHAR(32) CHARACTER SET utf8mb4 DEFAULT \'\'\'Active\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'a copy of the status of the member (sometime he can be ActiveHidden)\', PRIMARY KEY(IdMember)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED, feature to be deleted\' ');
        $this->addSql('CREATE TABLE pendingmandatory (id INT AUTO_INCREMENT NOT NULL, IdMember INT NOT NULL COMMENT \'id of the concerned member\', created DATETIME DEFAULT \'current_timestamp()\' NOT NULL, FirstName MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'new firstname of the member\', SecondName MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'new secondname of the member\', LastName MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'new lastname of the member\', HouseNumber MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'new housemember for the member\', StreetName MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'new street name for the member\', Zip MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'new zip for the member\', IdCity INT NOT NULL COMMENT \'New id city for the member\', Comment MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'A comment the member can set\', Status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Pending\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Status of the request\', IdAddress INT NOT NULL COMMENT \'Id of the address to update (member can have several)\', INDEX IdMember (IdMember), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED, feature no longer in use\' ');
        $this->addSql('CREATE TABLE phinxlog (version BIGINT NOT NULL, migration_name VARCHAR(100) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, start_time DATETIME DEFAULT \'current_timestamp()\' NOT NULL, end_time DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, breakpoint TINYINT(1) DEFAULT \'0\' NOT NULL) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Database versions\' ');
        $this->addSql('CREATE TABLE poll_choices_translations (poll_choice_id INT NOT NULL, translation_id INT NOT NULL, UNIQUE INDEX translation_id (translation_id), INDEX poll_choice_id (poll_choice_id), PRIMARY KEY(poll_choice_id, translation_id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE polls_choices_hierachy (IdPollChoice INT NOT NULL COMMENT \'This is the choice this records refers to\', HierarchyValue INT DEFAULT 0 NOT NULL COMMENT \'This is the hierarchy value\', Counter INT DEFAULT 0 NOT NULL COMMENT \'This store the number of time this choice was made\', updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'when it was updated\', created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL COMMENT \'when it was updated\', INDEX IdPollChoice (IdPollChoice), PRIMARY KEY(IdPollChoice, HierarchyValue)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Count results for poll choices\' ');
        $this->addSql('CREATE TABLE polls_list_allowed_countries (IdPoll INT NOT NULL COMMENT \'id of the poll\', IdCountry INT NOT NULL COMMENT \'id of the country\', INDEX IdCountry (IdCountry), INDEX IdPoll (IdPoll)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Restrictions for polls based on countries  \' ');
        $this->addSql('CREATE TABLE polls_list_allowed_locations (IdPoll INT NOT NULL COMMENT \'id of the poll\', IdLocation INT NOT NULL COMMENT \'id of the location\', INDEX IdPoll (IdPoll, IdLocation), INDEX IDX_DFB51F5BF0EDA1ED (IdPoll)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Restrictions for polls based on location \' ');
        $this->addSql('CREATE TABLE polls_translations (poll_id INT NOT NULL, translation_id INT NOT NULL, UNIQUE INDEX translation_id (translation_id), INDEX poll_id (poll_id), PRIMARY KEY(poll_id, translation_id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE previousversion (id INT AUTO_INCREMENT NOT NULL, IdMember INT NOT NULL, TableName TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, IdInTable INT NOT NULL, Type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'DoneByMember\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, XmlOldVersion MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, created DATETIME DEFAULT \'current_timestamp()\' NOT NULL, INDEX IdMember (IdMember), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'History of translations\' ');
        $this->addSql('CREATE TABLE recentvisits (id INT AUTO_INCREMENT NOT NULL, IdMember INT NOT NULL COMMENT \'id of the visited profile\', IdVisitor INT NOT NULL COMMENT \'id of the visitor\', created DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'when the visit occured\', INDEX IdVisitor (IdVisitor), INDEX IdMember (IdMember), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED, use profilesvisits\' ');
        $this->addSql('CREATE TABLE recorded_usernames_of_left_members (UsernameNotToUse VARCHAR(32) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'This is the Username\', PRIMARY KEY(UsernameNotToUse)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED\' ');
        $this->addSql('CREATE TABLE roles_privileges (IdRole INT NOT NULL COMMENT \'Foreign key to the roles table\', IdPrivilege INT NOT NULL COMMENT \'Foreign key to the privileges table\', updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, PRIMARY KEY(IdRole, IdPrivilege)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'N-to-N table for roles and privileges\' ');
        $this->addSql('CREATE TABLE sqlforgroupsmembers (IdGroup INT NOT NULL COMMENT \'Id of the group \', IdQuery INT NOT NULL COMMENT \'Id of the corresponding query\', created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, INDEX IdGroup (IdGroup, IdQuery)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED, feature no longer in use\' ');
        $this->addSql('CREATE TABLE sqlforvolunteers (id INT AUTO_INCREMENT NOT NULL, Name MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'name of the query\', Query MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'content of the query\', updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, param1 MEDIUMTEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'first optional parameter the user will be prompt for if no empty (the text will be displayed)\', param2 MEDIUMTEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Second  optional parameter the user will be prompt for if no empty (the text will be displayed)\', LogMe VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'False\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Wether the use of thsi query should be logged or not\', DefValueParam1 MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The default value for param 1\', DefValueParam2 MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The default value for param 2\', Param1Type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'inputtext\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The form of display for param1\', Param2Type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'inputtext\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The form of display for param2\', param3 MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'a possible parameter\', DefValueParam3 MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The default value of a parameter\', Param3Type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'inputtext\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'the type of a parameter\', param4 MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'a possible parameter\', DefValueParam4 MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The default value of a parameter\', Param4Type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'inputtext\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'the type of a parameter\', param5 MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'a possible parameter\', DefValueParam5 MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The default value of a parameter\', Param5Type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'inputtext\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'the type of a parameter\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Queries made for volunteers in AdminQuery\' ');
        $this->addSql('CREATE TABLE suggestions (id INT AUTO_INCREMENT NOT NULL COMMENT \'The primary key\', summary VARCHAR(80) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'A short summary of the suggestions objective (no HTML)\', description LONGTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The description of the objective of the decision (HTML)\', salt CHAR(64) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, state SMALLINT NOT NULL, flags INT DEFAULT 0 COMMENT \'Versatile field. Currently used to store if the voting start message was already posted. \', threadId INT DEFAULT NULL, created DATE NOT NULL COMMENT \'Creation date of the decision\', createdby INT NOT NULL COMMENT \'Member (id( that created the suggestion\', modified DATE DEFAULT \'NULL\' COMMENT \'Last time the suggestion was updated\', modifiedby INT DEFAULT NULL, laststatechanged DATE DEFAULT \'NULL\' COMMENT \'Stores the last state change to be able to calculate the start of the next phase\', votingend DATE DEFAULT \'NULL\' COMMENT \'Stores the date when the voting ended. Might be useful information.\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Posed problems in the suggestion process\' ');
        $this->addSql('CREATE TABLE suggestions_option_ranks (optionid INT NOT NULL COMMENT \'option that got ranked\', memberhash CHAR(64) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'member who ranked (obfuscated)\', vote INT NOT NULL COMMENT \'vote\', PRIMARY KEY(optionid, memberhash)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Up and downvoting on accepted solutions\' ');
        $this->addSql('CREATE TABLE suggestions_options (id INT AUTO_INCREMENT NOT NULL, suggestionId INT NOT NULL, state INT DEFAULT 0 NOT NULL COMMENT \'1 = Ranking; 2 = In Implementation; 4 = Implemented;\', summary VARCHAR(160) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, description LONGTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, created DATE NOT NULL, createdBy INT NOT NULL, modified DATE DEFAULT \'NULL\', modifiedBy INT DEFAULT NULL, deleted DATE DEFAULT \'NULL\', deletedBy INT DEFAULT NULL, mutuallyExclusiveWith LONGTEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The list of mutually exclusion options. Comma separated.\', `rank` TINYINT(1) DEFAULT \'NULL\' COMMENT \'The resulting rank of the option.\', orderHint INT DEFAULT NULL COMMENT \'The option\'\'s position in the resulting ranks.\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Suggested solutions for problems\' ');
        $this->addSql('CREATE TABLE suggestions_votes (id INT AUTO_INCREMENT NOT NULL, suggestionId INT NOT NULL, optionId INT NOT NULL, `rank` INT NOT NULL, memberHash VARCHAR(64) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Acceptance votes for solutions\' ');
        $this->addSql('CREATE TABLE t_countries (id INT NOT NULL COMMENT \'id and primary key of the table\', Name VARCHAR(50) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Name of the country\', isoalpha2 VARCHAR(4) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, isoalpha3 VARCHAR(4) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, isonumeric INT NOT NULL, fipscode VARCHAR(2) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, capital VARCHAR(50) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, areaInSqKm INT NOT NULL, population INT NOT NULL, continent VARCHAR(2) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, languages VARCHAR(100) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, regionopen TINYINT(1) DEFAULT \'0\' NOT NULL, countadmin1 INT DEFAULT 0 NOT NULL, NbMembers INT DEFAULT 0 NOT NULL COMMENT \'Number of active members in this country\', UNIQUE INDEX Name (Name), UNIQUE INDEX isoalpha2 (isoalpha2), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'built from geonames countryInfo.txt\' ');
        $this->addSql('CREATE TABLE tags (id INT AUTO_INCREMENT NOT NULL COMMENT \'id of the tag\', Name INT NOT NULL COMMENT \'Name of the tag ( this is in members trads or in words depend on the category)\', Description INT NOT NULL COMMENT \'description of the tag purpose( this is in members trads or in words depend on the category)\', Type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'UserTag\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Type of the tag\', Position INT DEFAULT 200 NOT NULL COMMENT \'Position of the tag\', created DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'when the tag was created\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Tag definitions used by forum, groups, etc.\' ');
        $this->addSql('CREATE TABLE tags_threads (IdTag INT NOT NULL COMMENT \'The tag\', IdThread INT NOT NULL COMMENT \'The thread\', INDEX IdTag (IdTag), INDEX IdThread (IdThread), PRIMARY KEY(IdTag, IdThread)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'link between tags and threads\' ');
        $this->addSql('CREATE TABLE tantable (Username VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT \'\'\'nobody\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, OnePad BIGINT UNSIGNED DEFAULT 0 NOT NULL, UNIQUE INDEX Username (Username)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED\' ');
        $this->addSql('CREATE TABLE timezone (tzname MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, Offset INT DEFAULT 0 NOT NULL, DayLightSaving VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Yes\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Wether daylight saving applies in the area\', FULLTEXT INDEX tzname (tzname)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Correspondance for timezones in geonames\' ');
        $this->addSql('CREATE TABLE trip (trip_id INT UNSIGNED NOT NULL, trip_options BLOB NOT NULL, trip_touched DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, IdMember INT DEFAULT NULL COMMENT \'References members table\', INDEX IdMember (IdMember), PRIMARY KEY(trip_id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Trip references and technical data\' ');
        $this->addSql('CREATE TABLE trip_data (trip_id INT UNSIGNED NOT NULL, edited DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, trip_name VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, trip_text LONGTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, trip_descr LONGTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, FULLTEXT INDEX trip_text (trip_text), FULLTEXT INDEX trip_descr (trip_descr), FULLTEXT INDEX trip_name (trip_name), PRIMARY KEY(trip_id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Trip articles and metadata\' ');
        $this->addSql('CREATE TABLE trip_to_gallery (trip_id_foreign INT UNSIGNED NOT NULL, gallery_id_foreign INT UNSIGNED NOT NULL, INDEX trip_id_foreign (trip_id_foreign), INDEX gallery_id_foreign (gallery_id_foreign)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'Binding a trip to an album\' ');
        $this->addSql('CREATE TABLE urlheader_languages (urlheader VARCHAR(10) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'url header (www / fr / de ...)\', IdLanguage INT NOT NULL COMMENT \'Id of the language\', updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'when the record was updated\', created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL COMMENT \'when the record was created\', UNIQUE INDEX urlheader (urlheader), INDEX IdLanguage (IdLanguage)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED\' ');
        $this->addSql('CREATE TABLE user_friends (user_id_foreign INT UNSIGNED NOT NULL, user_id_foreign_friend INT UNSIGNED NOT NULL, INDEX user_id_foreign (user_id_foreign), INDEX user_id_foreign_friend (user_id_foreign_friend)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED\' ');
        $this->addSql('CREATE TABLE user_inbox (user_id_foreign INT UNSIGNED DEFAULT 0 NOT NULL, message_id_foreign INT UNSIGNED DEFAULT 0 NOT NULL, seen TINYINT(1) DEFAULT \'0\' NOT NULL, replied TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'1 if user sent a reply\', INDEX user_id_foreign (user_id_foreign), INDEX message_id_foreign (message_id_foreign)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED, use messages\' ');
        $this->addSql('CREATE TABLE user_outbox (user_id_foreign INT UNSIGNED DEFAULT 0 NOT NULL, message_id_foreign INT UNSIGNED DEFAULT 0 NOT NULL, INDEX user_id_foreign (user_id_foreign), INDEX message_id_foreign (message_id_foreign)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED, use messages\' ');
        $this->addSql('CREATE TABLE user_seq (id INT UNSIGNED AUTO_INCREMENT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE user_settings (user_id INT UNSIGNED DEFAULT 0 NOT NULL, setting VARCHAR(25) CHARACTER SET utf8mb4 DEFAULT \'\'\'\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, value MEDIUMTEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci`, valueint INT DEFAULT NULL, valuedate DATETIME DEFAULT \'NULL\', INDEX valueint (valueint), INDEX member_id (user_id), INDEX setting (setting)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED, use memberpreferences\' ');
        $this->addSql('CREATE TABLE verifiedmembers (id INT AUTO_INCREMENT NOT NULL COMMENT \'Id of the record\', updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'When the record was updated\', created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL COMMENT \'When the record was created\', IdVerifier INT NOT NULL COMMENT \'Id of the member who make the verification\', IdVerified INT NOT NULL COMMENT \'Id of the verified member\', AddressVerified VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'False\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'True if the address was verified\', NameVerified VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'False\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'True if the Name was verified\', Comment MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'This is a comment the verifier can enter\', Type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'VerifiedByNormal\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'This is the type of verification (ex : done by an ApprovedVerifier)\', INDEX IdVerifier (IdVerifier, IdVerified), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED, feature no longer in use\' ');
        $this->addSql('CREATE TABLE volunteer_boards (id INT AUTO_INCREMENT NOT NULL COMMENT \'The id of the record\', Name VARCHAR(64) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The name of the board (this is an index)\', updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'When the board was updated\', PurposeComment LONGTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'A comment about the purpose of this board\', TextContent LONGTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The content of the board\', created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL COMMENT \'When the board was created\', UNIQUE INDEX Name (Name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB COMMENT = \'DEPRECATED, feature no longer in use\' ');
        $this->addSql('ALTER TABLE geonamesalternatenames_new ADD CONSTRAINT geonamesalternatenames_new_ibfk_1 FOREIGN KEY (geonameid) REFERENCES geonames (geonameid) ON DELETE CASCADE');
        $this->addSql('ALTER TABLE group_membership_trads ADD CONSTRAINT group_membership_trads_ibfk_1 FOREIGN KEY (group_membership_id) REFERENCES membersgroups (id) ON DELETE CASCADE');
        $this->addSql('ALTER TABLE group_membership_trads ADD CONSTRAINT group_membership_trads_ibfk_2 FOREIGN KEY (members_trad_id) REFERENCES memberstrads (id) ON DELETE CASCADE');
        $this->addSql('ALTER TABLE poll_choices_translations ADD CONSTRAINT poll_choices_translations_ibfk_1 FOREIGN KEY (poll_choice_id) REFERENCES polls_choices (id)');
        $this->addSql('ALTER TABLE poll_choices_translations ADD CONSTRAINT poll_choices_translations_ibfk_2 FOREIGN KEY (translation_id) REFERENCES translations (id)');
        $this->addSql('ALTER TABLE polls_list_allowed_locations ADD CONSTRAINT polls_list_allowed_locations_ibfk_1 FOREIGN KEY (IdPoll) REFERENCES polls (id)');
        $this->addSql('ALTER TABLE polls_translations ADD CONSTRAINT polls_translations_ibfk_1 FOREIGN KEY (poll_id) REFERENCES polls (id)');
        $this->addSql('ALTER TABLE polls_translations ADD CONSTRAINT polls_translations_ibfk_2 FOREIGN KEY (translation_id) REFERENCES translations (id)');
        $this->addSql('DROP TABLE geonames_admincodes');
        $this->addSql('ALTER TABLE activities DROP FOREIGN KEY FK_B5F1AFE5BC06EA63');
        $this->addSql('ALTER TABLE activities DROP FOREIGN KEY FK_B5F1AFE596D7286D');
        $this->addSql('DROP INDEX UNIQ_B5F1AFE5BC06EA63 ON activities');
        $this->addSql('DROP INDEX UNIQ_B5F1AFE596D7286D ON activities');
        $this->addSql('ALTER TABLE activities CHANGE id id BIGINT AUTO_INCREMENT NOT NULL, CHANGE creator creator BIGINT NOT NULL, CHANGE dateTimeEnd dateTimeEnd DATETIME DEFAULT \'NULL\', CHANGE address address VARCHAR(320) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci`, CHANGE public public SMALLINT DEFAULT NULL, CHANGE locationId locationId BIGINT NOT NULL');
        $this->addSql('ALTER TABLE activitiesattendees DROP FOREIGN KEY FK_430BE90A1335E2FC');
        $this->addSql('ALTER TABLE activitiesattendees DROP FOREIGN KEY FK_430BE90AF6B88999');
        $this->addSql('DROP INDEX IDX_430BE90A1335E2FC ON activitiesattendees');
        $this->addSql('DROP INDEX IDX_430BE90AF6B88999 ON activitiesattendees');
        $this->addSql('ALTER TABLE activitiesattendees ADD id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'Primary key\', CHANGE activityId activityId BIGINT NOT NULL, CHANGE attendeeId attendeeId BIGINT NOT NULL, DROP PRIMARY KEY, ADD PRIMARY KEY (id)');
        $this->addSql('CREATE UNIQUE INDEX id_UNIQUE ON activitiesattendees (id)');
        $this->addSql('ALTER TABLE addresses DROP FOREIGN KEY FK_6FCA7516EA8330B4');
        $this->addSql('ALTER TABLE addresses DROP FOREIGN KEY FK_6FCA7516590A599C');
        $this->addSql('ALTER TABLE addresses CHANGE HouseNumber HouseNumber INT NOT NULL COMMENT \'house member of the member\', CHANGE StreetName StreetName INT NOT NULL COMMENT \'Name of the street where the address is, this is a crypted field which the member can choose to hide\', CHANGE Zip Zip INT NOT NULL COMMENT \'Zip of the address, this is a crypted field which the member can choose to hide\', CHANGE Explanation Explanation INT NOT NULL COMMENT \'Explanation about the current address (useful for secundary addresses) this is a translatable field\', CHANGE `Rank` `Rank` TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'rank of the address (0 being the main address of the member)\', CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE updated updated DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE IdGettingThere IdGettingThere INT DEFAULT 0 NOT NULL COMMENT \'This is and extra field which allow the member how to get to this address, this field can be translated\', CHANGE IdMember IdMember INT NOT NULL COMMENT \'Member who own this address\', CHANGE IdCity IdCity INT NOT NULL COMMENT \'City where the address is\'');
        $this->addSql('ALTER TABLE addresses RENAME INDEX address_city TO IdCity');
        $this->addSql('ALTER TABLE addresses RENAME INDEX address_member TO IdMember');
        $this->addSql('ALTER TABLE broadcast DROP FOREIGN KEY FK_9BF17CF52E4E0332');
        $this->addSql('DROP INDEX UNIQ_9BF17CF52E4E0332 ON broadcast');
        $this->addSql('ALTER TABLE broadcast CHANGE id id INT AUTO_INCREMENT NOT NULL COMMENT \'primary key\', CHANGE Name Name MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Name of the mass mail\', CHANGE created created DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'creation date\', CHANGE Status Status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Created\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Said if the campaign to send the broacast message has been triggered or not\', CHANGE Type Type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci`, CHANGE EmailFrom EmailFrom MEDIUMTEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'can be null, if not will be used as teh email from when message is sent\', CHANGE IdCreator IdCreator INT NOT NULL COMMENT \'Id of the member who created the massmail\'');
        $this->addSql('ALTER TABLE broadcastmessages DROP FOREIGN KEY FK_3F59625A3351FC26');
        $this->addSql('ALTER TABLE broadcastmessages DROP FOREIGN KEY FK_3F59625AE187D874');
        $this->addSql('ALTER TABLE broadcastmessages DROP FOREIGN KEY FK_3F59625A2146A51D');
        $this->addSql('DROP INDEX UNIQ_3F59625A3351FC26 ON broadcastmessages');
        $this->addSql('DROP INDEX IDX_3F59625AE187D874 ON broadcastmessages');
        $this->addSql('DROP INDEX IDX_3F59625A2146A51D ON broadcastmessages');
        $this->addSql('ALTER TABLE broadcastmessages CHANGE Status Status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'ToApprove\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Status of the message\', CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'last update\', CHANGE unsubscribe_key unsubscribe_key TINYTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, CHANGE IdEnqueuer IdEnqueuer INT NOT NULL COMMENT \'Id of the volunteer who enqueue the message\', CHANGE IdBroadcast IdBroadcast INT NOT NULL COMMENT \'id of the broadcast entry\', CHANGE IdReceiver IdReceiver INT NOT NULL COMMENT \'Id of the receiver\'');
        $this->addSql('CREATE INDEX idxStatus ON broadcastmessages (Status)');
        $this->addSql('ALTER TABLE comments CHANGE relations Relations VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, CHANGE Quality Quality VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Neutral\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, CHANGE updated updated DATETIME DEFAULT \'NULL\', CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE AdminAction AdminAction VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'NothingNeeded\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, CHANGE DisplayableInCommentOfTheMonth DisplayableInCommentOfTheMonth VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Yes\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'State wethere thsi comment can be allowed to be display in comment of the month\', CHANGE DisplayInPublic DisplayInPublic TINYINT(1) DEFAULT \'1\' NOT NULL, CHANGE AllowEdit AllowEdit TINYINT(1) DEFAULT \'0\' NOT NULL, CHANGE IdToMember IdToMember INT NOT NULL, CHANGE IdFromMember IdFromMember INT NOT NULL');
        $this->addSql('ALTER TABLE comments RENAME INDEX comments_ibfk_1 TO IdFromMember');
        $this->addSql('ALTER TABLE community_news DROP FOREIGN KEY FK_DC82739ADE12AB56');
        $this->addSql('ALTER TABLE community_news DROP FOREIGN KEY FK_DC82739A16FE72E1');
        $this->addSql('DROP INDEX UNIQ_DC82739ADE12AB56 ON community_news');
        $this->addSql('DROP INDEX UNIQ_DC82739A16FE72E1 ON community_news');
        $this->addSql('ALTER TABLE community_news ADD deleted_at DATETIME DEFAULT \'NULL\' COMMENT \'Eloquent standard column\', ADD deleted_by BIGINT DEFAULT NULL COMMENT \'Stores the member who deleted the news\', CHANGE created_by created_by BIGINT NOT NULL COMMENT \'Stores the member who created the news\', CHANGE updated_by updated_by BIGINT DEFAULT NULL COMMENT \'Stores the member who updated the news\', CHANGE title title VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Stores the title of the community news\', CHANGE text text MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Stores the text of the community news\', CHANGE public public TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'Controls if the community news is shown to all users yet\', CHANGE created_at created_at DATETIME DEFAULT \'current_timestamp()\' COMMENT \'Eloquent standard column\', CHANGE updated_at updated_at DATETIME DEFAULT \'current_timestamp()\' COMMENT \'Eloquent standard column\'');
        $this->addSql('ALTER TABLE community_news_comment DROP INDEX UNIQ_9C81F615F675F31B, ADD INDEX author_id (author_id)');
        $this->addSql('ALTER TABLE community_news_comment CHANGE community_news_id community_news_id INT NOT NULL, CHANGE author_id author_id INT NOT NULL, CHANGE text text VARCHAR(1000) CHARACTER SET utf8 NOT NULL COLLATE `utf8_general_ci`');
        $this->addSql('ALTER TABLE community_news_comment RENAME INDEX idx_9c81f615916130f3 TO community_news_id');
        $this->addSql('ALTER TABLE cryptedfields DROP FOREIGN KEY FK_8280104CEA8330B4');
        $this->addSql('ALTER TABLE cryptedfields CHANGE IsCrypted IsCrypted VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'crypted\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, CHANGE ToDo ToDo VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'nothing\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, CHANGE temporary_uncrypted_buffer temporary_uncrypted_buffer MEDIUMTEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'This is used when no encryption is working\', CHANGE IdRecord IdRecord INT DEFAULT 0 NOT NULL COMMENT \'Security redudancy : This is the id of the record for the corresponding TableColumn\', CHANGE TableColumn TableColumn VARCHAR(200) CHARACTER SET utf8mb4 DEFAULT \'\'\'NotSet\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Security redudancy : This define the Table and the column wich is the pointer to the current record\', CHANGE IdMember IdMember INT NOT NULL COMMENT \'Member who is affected to the data\'');
        $this->addSql('ALTER TABLE cryptedfields RENAME INDEX cryptedfields_member TO IdMember');
        $this->addSql('ALTER TABLE donations DROP INDEX UNIQ_CDE98962EA8330B4, ADD INDEX IdMember (IdMember)');
        $this->addSql('ALTER TABLE donations DROP FOREIGN KEY FK_CDE98962EA8330B4');
        $this->addSql('ALTER TABLE donations DROP FOREIGN KEY FK_CDE98962C13B2037');
        $this->addSql('DROP INDEX UNIQ_CDE98962C13B2037 ON donations');
        $this->addSql('ALTER TABLE donations CHANGE Email Email TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'email used by the member if any\', CHANGE StatusPrivate StatusPrivate VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'showamountonly\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, CHANGE created created DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'when the donation occurs\', CHANGE Amount Amount NUMERIC(10, 2) NOT NULL COMMENT \'amount of money\', CHANGE Money Money VARCHAR(10) CHARACTER SET utf8mb4 DEFAULT \'\'\'€\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'$ euros ...\', CHANGE namegiven namegiven MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'name given by the user (if any)\', CHANGE referencepaypal referencepaypal MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'paypal reference\', CHANGE membercomment membercomment MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'comment of the member if any\', CHANGE SystemComment SystemComment MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'system comment\', CHANGE IdMember IdMember INT DEFAULT 0 NOT NULL COMMENT \'Id of the member (if any)\', CHANGE IdCountry IdCountry INT NOT NULL COMMENT \'country where the member was at donation time\'');
        $this->addSql('ALTER TABLE ewiki CHANGE version version INT UNSIGNED DEFAULT 0 NOT NULL, CHANGE flags flags INT UNSIGNED DEFAULT 0, CHANGE author author VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT \'\'\'ewiki\'\'\' COLLATE `utf8mb4_unicode_520_ci`, CHANGE created created INT UNSIGNED DEFAULT 1168175948, CHANGE lastmodified lastmodified INT UNSIGNED DEFAULT 0, CHANGE hits hits INT UNSIGNED DEFAULT 0');
        $this->addSql('ALTER TABLE failure_login_attempt CHANGE username username VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci`');
        $this->addSql('ALTER TABLE faq DROP FOREIGN KEY FK_E8FF75CC1AB2304A');
        $this->addSql('ALTER TABLE faq CHANGE QandA QandA VARCHAR(40) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The question/answer (associated to a word) produced as FaqQ_xxx for question and FaqA_xxxx for answer\', CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE Active Active VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Active\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'wethere the current faq is to show to member or not\', CHANGE SortOrder SortOrder INT DEFAULT 0 NOT NULL COMMENT \'The sort order of teh Faq (0 appearring first)\', CHANGE IdCategory IdCategory INT DEFAULT 0 NOT NULL COMMENT \'Category the Faq refer to\'');
        $this->addSql('ALTER TABLE faqcategories CHANGE description Description VARCHAR(40) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Description of the category (this is a word)\', CHANGE SortOrder SortOrder INT DEFAULT 0 NOT NULL COMMENT \'Sort order of teh category (0 the first)\', CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL');
        $this->addSql('ALTER TABLE feedbackcategories CHANGE Name Name TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The name of the category (this is a word)\', CHANGE CategoryDescription CategoryDescription TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The description of the feedback category (this is a word)\', CHANGE created created DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE EmailToNotify EmailToNotify MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The list of the email to notify in case a feedback is sent in this category, these are dor comma separated\', CHANGE IdVolunteer IdVolunteer INT DEFAULT 0 NOT NULL COMMENT \'Default volunteer in charge of this feedback\', CHANGE sortOrder sortOrder INT DEFAULT 0 NOT NULL, CHANGE visible visible INT DEFAULT 0 NOT NULL');
        $this->addSql('ALTER TABLE feedbacks DROP FOREIGN KEY FK_7E6C3F89EA8330B4');
        $this->addSql('ALTER TABLE feedbacks DROP FOREIGN KEY FK_7E6C3F89C825583E');
        $this->addSql('DROP INDEX UNIQ_7E6C3F89EA8330B4 ON feedbacks');
        $this->addSql('DROP INDEX UNIQ_7E6C3F89C825583E ON feedbacks');
        $this->addSql('ALTER TABLE feedbacks ADD IdVolunteer INT DEFAULT 0 NOT NULL COMMENT \'The volunteer in charge of the next action for this feedback\', ADD Status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'open\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'this is the status of the feedback\', CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE IdMember idMember INT DEFAULT NULL, CHANGE IdLanguage IdLanguage INT DEFAULT 0 NOT NULL COMMENT \'Language of the member when the feedback was entered\', CHANGE IdFeedbackCategory IdFeedbackCategory INT DEFAULT 1 NOT NULL COMMENT \'category of the feedback\'');
        $this->addSql('CREATE INDEX IdMember ON feedbacks (idMember, IdFeedbackCategory, IdVolunteer)');
        $this->addSql('CREATE INDEX IdVolunteer ON feedbacks (IdVolunteer)');
        $this->addSql('ALTER TABLE feedbacks RENAME INDEX idx_7e6c3f89c4d75d60 TO IdFeedbackCategory');
        $this->addSql('ALTER TABLE flags DROP updated, CHANGE Relevance Relevance INT NOT NULL COMMENT \'Relevance > 0 means the flag is in use.\', CHANGE created created DATETIME DEFAULT \'current_timestamp()\' NOT NULL');
        $this->addSql('ALTER TABLE flagsmembers CHANGE Level Level INT DEFAULT 0 NOT NULL, CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL');
        $this->addSql('ALTER TABLE flagsmembers RENAME INDEX flagsmembers_members TO IdMember');
        $this->addSql('ALTER TABLE forums_posts DROP FOREIGN KEY FK_12D7365FD0FD9043');
        $this->addSql('ALTER TABLE forums_posts DROP FOREIGN KEY FK_12D7365FDC7124E');
        $this->addSql('ALTER TABLE forums_posts DROP FOREIGN KEY FK_12D7365FDF8D7ABF');
        $this->addSql('DROP INDEX IDX_12D7365FDF8D7ABF ON forums_posts');
        $this->addSql('ALTER TABLE forums_posts ADD authorid INT UNSIGNED NOT NULL, ADD HasVotes VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'States if there is a vote connected to this post\', ADD IdLocalVolMessage INT DEFAULT 0 NOT NULL COMMENT \'Connection with a possible Message to send to a location (to manage thump up/down)\', ADD IdLocalEvent INT DEFAULT 0 NOT NULL COMMENT \'States if there is a local event connected to this posts\', ADD IdPoll INT DEFAULT 0 NOT NULL COMMENT \'optional id of a poll connected to this forum post\', CHANGE id id INT AUTO_INCREMENT NOT NULL COMMENT \'id of the  posts (this will be the primary key) currently redudant with postid\', CHANGE threadid threadid INT UNSIGNED DEFAULT NULL, CHANGE PostVisibility PostVisibility VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'NoRestriction\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'States who can read this post (usually same value as parent thread)\', CHANGE message message MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Obsolete, refer to IdContent\', CHANGE IdContent IdContent INT DEFAULT 0 NOT NULL COMMENT \'Corresponding record for post message in translations\', CHANGE OwnerCanStillEdit OwnerCanStillEdit VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Yes\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Wether the user can still edit this post\', CHANGE last_edittime last_edittime DATETIME DEFAULT \'NULL\', CHANGE last_editorid last_editorid INT UNSIGNED DEFAULT NULL, CHANGE edit_count edit_count TINYINT(1) DEFAULT \'0\' NOT NULL, CHANGE PostDeleted PostDeleted VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'NotDeleted\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'tells if the post was deleted\', CHANGE IdWriter IdWriter INT DEFAULT 0 NOT NULL COMMENT \'This is the member who write the post, this is th index to use to retrieve the member data in Members table\', CHANGE IdFirstLanguageUsed IdFirstLanguageUsed INT DEFAULT 0 NOT NULL COMMENT \'This is the id of the first language used for this post, which allows to consider the "reference language" for it\'');
        $this->addSql('CREATE INDEX IdLocalEvent ON forums_posts (IdLocalEvent)');
        $this->addSql('CREATE INDEX IdPoll ON forums_posts (IdPoll)');
        $this->addSql('CREATE INDEX authorid ON forums_posts (authorid)');
        $this->addSql('CREATE INDEX IdLocalVolMessage ON forums_posts (IdLocalVolMessage)');
        $this->addSql('CREATE INDEX id ON forums_posts (id)');
        $this->addSql('ALTER TABLE forums_threads DROP FOREIGN KEY FK_58F020F095E45CB7');
        $this->addSql('ALTER TABLE forums_threads DROP FOREIGN KEY FK_58F020F0FF177475');
        $this->addSql('ALTER TABLE forums_threads DROP FOREIGN KEY FK_58F020F0DF8D7ABF');
        $this->addSql('ALTER TABLE forums_threads DROP FOREIGN KEY FK_58F020F0B5B93E44');
        $this->addSql('DROP INDEX UNIQ_58F020F095E45CB7 ON forums_threads');
        $this->addSql('DROP INDEX UNIQ_58F020F0FF177475 ON forums_threads');
        $this->addSql('DROP INDEX IDX_58F020F0DF8D7ABF ON forums_threads');
        $this->addSql('ALTER TABLE forums_threads ADD geonameid INT UNSIGNED DEFAULT NULL, ADD admincode CHAR(2) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci`, ADD countrycode CHAR(2) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci`, ADD continent VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci`, ADD tag1 INT UNSIGNED DEFAULT NULL, ADD tag2 INT UNSIGNED DEFAULT NULL, ADD tag3 INT UNSIGNED DEFAULT NULL, ADD tag4 INT UNSIGNED DEFAULT NULL, ADD tag5 INT UNSIGNED DEFAULT NULL, ADD created_at DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, ADD updated_at DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, ADD deleted_at DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, ADD created DATETIME NOT NULL, ADD updated DATETIME NOT NULL, CHANGE id id INT AUTO_INCREMENT NOT NULL COMMENT \'This is aime to be the primary key (currently redudnant with threadid)\', CHANGE first_postid first_postid INT UNSIGNED DEFAULT NULL, CHANGE last_postid last_postid INT UNSIGNED DEFAULT NULL, CHANGE expiredate expiredate DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' COMMENT \'When the thread will expire\', CHANGE IdTitle IdTitle INT DEFAULT 0 NOT NULL COMMENT \'Corresponding record for text title in forum_trads\', CHANGE replies replies SMALLINT UNSIGNED DEFAULT 0 NOT NULL, CHANGE views views INT UNSIGNED DEFAULT 0 NOT NULL, CHANGE stickyvalue stickyvalue INT DEFAULT 0 NOT NULL COMMENT \'This field is used for sticky thread, default is 0, if negative then it become sticky, the more negative, the one at the top\', CHANGE ThreadVisibility ThreadVisibility VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'NoRestriction\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Visibility for this thread\', CHANGE WhoCanReply WhoCanReply VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'MembersOnly\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Who is allowed to reply in this thread\', CHANGE ThreadDeleted ThreadDeleted VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'NotDeleted\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'tells if the thread was deleted\', CHANGE IdFirstLanguageUsed IdFirstLanguageUsed INT DEFAULT 0 NOT NULL COMMENT \'This is the id of the first language used for this thread title, which allows to consider the "reference language" for this forum title\', CHANGE IdGroup IdGroup INT DEFAULT NULL COMMENT \'Optional Id of the group the thread depens on\'');
        $this->addSql('CREATE INDEX continent ON forums_threads (continent)');
        $this->addSql('CREATE INDEX geonameid ON forums_threads (geonameid)');
        $this->addSql('CREATE INDEX admincode ON forums_threads (admincode)');
        $this->addSql('CREATE INDEX countrycode ON forums_threads (countrycode)');
        $this->addSql('ALTER TABLE gallery DROP FOREIGN KEY FK_472B783ABD0881BC');
        $this->addSql('ALTER TABLE gallery CHANGE id id INT UNSIGNED NOT NULL, CHANGE user_id_foreign user_id_foreign INT UNSIGNED NOT NULL');
        $this->addSql('ALTER TABLE gallery RENAME INDEX gallery_user_id_foreign TO user_id_foreign');
        $this->addSql('ALTER TABLE gallery_comments DROP FOREIGN KEY FK_6A134491F858910A');
        $this->addSql('ALTER TABLE gallery_comments DROP FOREIGN KEY FK_6A134491BD0881BC');
        $this->addSql('DROP INDEX UNIQ_6A134491F858910A ON gallery_comments');
        $this->addSql('ALTER TABLE gallery_comments CHANGE id id INT UNSIGNED AUTO_INCREMENT NOT NULL, CHANGE gallery_items_id_foreign gallery_items_id_foreign INT UNSIGNED DEFAULT 0 NOT NULL, CHANGE user_id_foreign user_id_foreign INT UNSIGNED DEFAULT 0 NOT NULL, CHANGE gallery_id_foreign gallery_id_foreign INT UNSIGNED DEFAULT 0 NOT NULL, CHANGE title title VARCHAR(75) CHARACTER SET utf8mb4 DEFAULT \'\'\'\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`');
        $this->addSql('ALTER TABLE gallery_comments RENAME INDEX gallery_comments_user_id_foreign TO user_id_foreign');
        $this->addSql('ALTER TABLE gallery_comments RENAME INDEX gallery_comments_blog_id_foreign TO blog_id_foreign');
        $this->addSql('ALTER TABLE gallery_items DROP FOREIGN KEY FK_583396EBD0881BC');
        $this->addSql('ALTER TABLE gallery_items CHANGE user_id_foreign user_id_foreign INT UNSIGNED NOT NULL, CHANGE file file VARCHAR(50) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, CHANGE width width INT UNSIGNED NOT NULL, CHANGE height height INT UNSIGNED NOT NULL');
        $this->addSql('ALTER TABLE gallery_items RENAME INDEX gallery_items_user_id_foreign TO user_id_foreign');
        $this->addSql('ALTER TABLE gallery_items RENAME INDEX gallery_items_file TO file');
        $this->addSql('ALTER TABLE gallery_items_to_gallery DROP FOREIGN KEY FK_2B8493957583B656');
        $this->addSql('ALTER TABLE gallery_items_to_gallery DROP FOREIGN KEY FK_2B849395A7DE6F5A');
        $this->addSql('ALTER TABLE gallery_items_to_gallery DROP PRIMARY KEY');
        $this->addSql('ALTER TABLE gallery_items_to_gallery CHANGE gallery_id_foreign gallery_id_foreign INT UNSIGNED NOT NULL, CHANGE item_id_foreign item_id_foreign INT UNSIGNED NOT NULL');
        $this->addSql('ALTER TABLE gallery_items_to_gallery RENAME INDEX idx_2b849395a7de6f5a TO item_id_foreign');
        $this->addSql('ALTER TABLE gallery_items_to_gallery RENAME INDEX idx_2b8493957583b656 TO gallery_id_foreign');
        $this->addSql('ALTER TABLE geonames DROP FOREIGN KEY FK_AB31165B5373C966');
        $this->addSql('ALTER TABLE geonames CHANGE country country VARCHAR(2) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, CHANGE name name VARCHAR(200) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, CHANGE latitude latitude NUMERIC(10, 7) DEFAULT \'NULL\', CHANGE longitude longitude NUMERIC(10, 7) DEFAULT \'NULL\', CHANGE fclass fclass CHAR(1) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, CHANGE fcode fcode VARCHAR(10) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, CHANGE admin1 admin1 VARCHAR(20) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, CHANGE population population INT DEFAULT NULL, CHANGE moddate moddate DATE DEFAULT \'NULL\', CHANGE geonameId geonameId INT NOT NULL');
        $this->addSql('ALTER TABLE geonames RENAME INDEX geonames_idx_latitude TO idx_latitude');
        $this->addSql('ALTER TABLE geonames RENAME INDEX geonames_idx_country TO idx_country');
        $this->addSql('ALTER TABLE geonames RENAME INDEX geonames_idx_longitude TO idx_longitude');
        $this->addSql('ALTER TABLE geonames RENAME INDEX geonames_idx_admin1 TO idx_admin1');
        $this->addSql('ALTER TABLE geonames RENAME INDEX geonames_idx_fclass TO idx_fclass');
        $this->addSql('ALTER TABLE geonames RENAME INDEX geonames_idx_name TO idx_name');
        $this->addSql('ALTER TABLE geonames RENAME INDEX geonames_idx_fcode TO idx_fcode');
        $this->addSql('ALTER TABLE geonamesadminunits DROP PRIMARY KEY');
        $this->addSql('ALTER TABLE geonamesadminunits CHANGE country country VARCHAR(2) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, CHANGE admin1 admin1 VARCHAR(20) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, CHANGE name name VARCHAR(200) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, CHANGE fclass fclass CHAR(1) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, CHANGE fcode fcode VARCHAR(10) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, CHANGE moddate moddate DATE DEFAULT \'NULL\'');
        $this->addSql('ALTER TABLE geonamesadminunits ADD PRIMARY KEY (geonameId)');
        $this->addSql('ALTER TABLE geonamesalternatenames DROP FOREIGN KEY FK_7DBD41E641662DDF');
        $this->addSql('ALTER TABLE geonamesalternatenames CHANGE isolanguage isolanguage VARCHAR(7) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, CHANGE alternatename alternatename VARCHAR(200) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, CHANGE ispreferred ispreferred TINYINT(1) DEFAULT \'NULL\', CHANGE isshort isshort TINYINT(1) DEFAULT \'NULL\', CHANGE iscolloquial iscolloquial TINYINT(1) DEFAULT \'NULL\', CHANGE ishistoric ishistoric TINYINT(1) DEFAULT \'NULL\', CHANGE alternatenameId alternatenameId INT NOT NULL, CHANGE geonameId geonameId INT NOT NULL');
        $this->addSql('ALTER TABLE geonamesalternatenames ADD CONSTRAINT geonamesalternatenames_ibfk_1 FOREIGN KEY (geonameId) REFERENCES geonames (geonameId) ON DELETE CASCADE');
        $this->addSql('ALTER TABLE geonamescountries CHANGE geonameId geonameId INT DEFAULT NULL, CHANGE name name VARCHAR(200) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`, CHANGE continent continent VARCHAR(2) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_general_ci`');
        $this->addSql('ALTER TABLE `groups` ADD HasMembers VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'HasMember\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Specify wether this group can have member or not\', ADD NbChilds INT DEFAULT 0 NOT NULL COMMENT \'The number of childs this group has\', ADD DisplayedOnProfile VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Yes\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'State wether the membership in this group is displayed in the profile\', ADD VisibleComments VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'no\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'If comments in groups are shown or not.\', CHANGE Name Name VARCHAR(40) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Name of the group (this is a word)\', CHANGE Type Type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Public\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Defines how public group is\', CHANGE created created DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE Picture Picture MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'this a link to a picture associated with the group\', CHANGE MoreInfo MoreInfo MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'this is a link to a forum page or a wiki page associated with the group\', CHANGE IdDescription IdDescription INT DEFAULT NULL COMMENT \'Foreign key to memberstrads table\', CHANGE VisiblePosts VisiblePosts VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'yes\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'If the groups posts should be displayed in the public forum\', CHANGE approved approved TINYINT(1) NOT NULL');
        $this->addSql('ALTER TABLE groups_trads DROP FOREIGN KEY FK_DB6D9193FE54D947');
        $this->addSql('ALTER TABLE groups_trads DROP FOREIGN KEY FK_DB6D91934AB7A507');
        $this->addSql('ALTER TABLE groups_trads RENAME INDEX uniq_db6d91934ab7a507 TO trad_id');
        $this->addSql('ALTER TABLE groups_trads RENAME INDEX idx_db6d9193fe54d947 TO group_id');
        $this->addSql('ALTER TABLE hosting_eagerness_slider DROP FOREIGN KEY FK_6DDF26E77597D3FE');
        $this->addSql('ALTER TABLE hosting_eagerness_slider ADD initialized DATETIME DEFAULT \'current_timestamp()\' COMMENT \'The date when the slider was last initialized\', DROP created, CHANGE member_id member_id INT NOT NULL COMMENT \'Foreign key into the members table\', CHANGE updated updated DATETIME DEFAULT \'NULL\' COMMENT \'The date when the slider was last initialized\', CHANGE current current INT NOT NULL COMMENT \'Current value used in search result to adapt order\', CHANGE step step INT NOT NULL COMMENT \'Daily increment defined on initialization of slider\', CHANGE remaining remaining INT NOT NULL COMMENT \'The remaining hours for the boost\', CHANGE enddate enddate DATETIME NOT NULL COMMENT \'Only used for display purposes, stores the originally selected date the boost ends\'');
        $this->addSql('ALTER TABLE hosting_eagerness_slider RENAME INDEX idx_6ddf26e77597d3fe TO member_id_foreign_idx');
        $this->addSql('ALTER TABLE languages CHANGE id id INT NOT NULL COMMENT \'id of the language\', CHANGE ShortCode ShortCode CHAR(16) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, CHANGE WordCode wordcode VARCHAR(16) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci`, CHANGE FlagSortCriteria FlagSortCriteria INT DEFAULT 0 NOT NULL COMMENT \'The criteria for showing the flags first\', CHANGE IsWrittenLanguage IsWrittenLanguage TINYINT(1) DEFAULT \'0\' NOT NULL, CHANGE IsSpokenLanguage IsSpokenLanguage TINYINT(1) DEFAULT \'0\' NOT NULL, CHANGE IsSignLanguage IsSignLanguage TINYINT(1) DEFAULT \'0\' NOT NULL');
        $this->addSql('CREATE INDEX language_by_wordcode ON languages (wordcode)');
        $this->addSql('ALTER TABLE login_messages CHANGE text text TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, CHANGE created created DATETIME DEFAULT \'current_timestamp()\' NOT NULL');
        $this->addSql('ALTER TABLE login_messages_acknowledged DROP FOREIGN KEY FK_D6A0E5F131478478');
        $this->addSql('ALTER TABLE login_messages_acknowledged DROP FOREIGN KEY FK_D6A0E5F15B7FF48');
        $this->addSql('DROP INDEX IDX_D6A0E5F131478478 ON login_messages_acknowledged');
        $this->addSql('DROP INDEX IDX_D6A0E5F15B7FF48 ON login_messages_acknowledged');
        $this->addSql('ALTER TABLE logs DROP FOREIGN KEY FK_F08FC65C13F552E2');
        $this->addSql('ALTER TABLE logs CHANGE created created DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE idMember IdMember INT NOT NULL');
        $this->addSql('CREATE INDEX logs_by_time ON logs (created)');
        $this->addSql('ALTER TABLE logs RENAME INDEX idx_f08fc65c13f552e2 TO IdMember');
        $this->addSql('ALTER TABLE members DROP FOREIGN KEY FK_45A0D2FF590A599C');
        $this->addSql('ALTER TABLE members ADD Id4City INT NOT NULL COMMENT \'This is the deprecated IdCIty\', CHANGE id id INT AUTO_INCREMENT NOT NULL COMMENT \'IdMember\', CHANGE Username Username VARCHAR(32) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'This is the username of the member its a unique field (shared with the user table)\', CHANGE LastLogin LastLogin DATETIME DEFAULT \'NULL\', CHANGE PassWord PassWord VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT \'\'\'ENCRYPT(\'\'\'\'password\'\'\'\')\'\'\' COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The password of the member (encrypted of course), this is typically a field of the users table\', CHANGE ex_user_id ex_user_id INT NOT NULL COMMENT \'Temporary key to save the calues of corresponding user.id\', CHANGE Status Status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'MailToConfirm\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Status of the member (if just subscribed, mail confimed or not, accepted, etc) the usual being &amp;quot;Active&amp;quot;) \', CHANGE ChangedId ChangedId INT DEFAULT 0 NOT NULL COMMENT \'Used in case the member had a Username renamed (CurrentId is then the id of the members entry to use)\', CHANGE Latitude Latitude NUMERIC(10, 7) DEFAULT \'NULL\', CHANGE Longitude Longitude NUMERIC(10, 7) DEFAULT \'NULL\', CHANGE NbRemindWithoutLogingIn NbRemindWithoutLogingIn INT NOT NULL COMMENT \'This counter stores the number of time a member has been reminded to use BeWelcome\', CHANGE HomePhoneNumber HomePhoneNumber INT NOT NULL COMMENT \'This is the phone number of the member its a field the member can choose to display or not , it is Crypted\', CHANGE CellPhoneNumber CellPhoneNumber INT NOT NULL COMMENT \'This is the cell phone number of the member its a field the member can choose to display or not , it is Crypted\', CHANGE WorkPhoneNumber WorkPhoneNumber INT NOT NULL COMMENT \'This is the work phone number of the member its a field the member can choose to display or not , it is Crypted\', CHANGE SecEmail SecEmail INT NOT NULL COMMENT \'This is an eventual second email for contacting the member it is crypted\', CHANGE SecondName SecondName VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci`, CHANGE Accomodation Accomodation VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, CHANGE AdditionalAccomodationInfo AdditionalAccomodationInfo INT NOT NULL COMMENT \'Here the member can enter as text more precision about his accomodation possibilities;, this is can be translated\', CHANGE ILiveWith ILiveWith INT NOT NULL COMMENT \'Here the member can describe has text the people who he live with, this can be translated\', CHANGE IdentityCheckLevel IdentityCheckLevel TINYINT(1) DEFAULT \'000\' NOT NULL COMMENT \'Futur Use, will define how far the identity of the member can be certified\', CHANGE InformationToGuest InformationToGuest INT NOT NULL COMMENT \'Here the member can enter specific information that may be of general interest for his guest, this can be translated\', CHANGE TypicOffer TypicOffer VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Other typical offer that a member can choose to propose\', CHANGE Offer Offer INT NOT NULL COMMENT \'Here the member can describe additional things he can offer, this can be translated\', CHANGE MaxGuest MaxGuest INT DEFAULT 0 NOT NULL, CHANGE MaxLenghtOfStay MaxLenghtOfStay INT DEFAULT 0 NOT NULL COMMENT \'Max lenght of stay, this is a text field that can be translated\', CHANGE Organizations Organizations INT NOT NULL COMMENT \'Here the member can list in text the organization he belongs to, this can be translated\', CHANGE Restrictions Restrictions VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Standard usual restriction, the member can choose several of them\', CHANGE OtherRestrictions OtherRestrictions INT NOT NULL COMMENT \'Additional non usual restriction that the member can enter as text, this can be translated\', CHANGE bday bday INT NOT NULL COMMENT \'day of birth for the member (not mandatory)\', CHANGE bmonth bmonth INT NOT NULL COMMENT \'lonth of birth for the member (not mandatory)\', CHANGE byear byear INT NOT NULL COMMENT \'year of birth for the member (not mandatory)\', CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'last time the profile was updated\', CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE SecurityFlag SecurityFlag INT DEFAULT 0 NOT NULL COMMENT \'not yet use\', CHANGE Quality Quality VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'NeverLog\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Specific quality flags (several of them possible at the same time) which will be used to compute a "member quality" (big discussion in pespective !)\', CHANGE ProfileSummary ProfileSummary INT NOT NULL COMMENT \'Very important field, he the member can fill as text a summary description of her/himself.  This information will be used for short summary of profile on search page results for example. This will be translatable\', CHANGE Occupation Occupation INT NOT NULL COMMENT \'Occupation of the member , free text the member can enter, it will be translatable\', CHANGE CounterGuests CounterGuests INT DEFAULT 0 NOT NULL COMMENT \'Counter of guest (for performance when displaying profile)\', CHANGE CounterHosts CounterHosts INT DEFAULT 0 NOT NULL COMMENT \'Counter of hosts (for performance when displaying profile)\', CHANGE CounterTrusts CounterTrusts INT DEFAULT 0 NOT NULL COMMENT \'Counter of trusts(for performance when displaying profile)\', CHANGE Gender Gender VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'IDontTell\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The gender of the member\', CHANGE HideGender HideGender VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, CHANGE GenderOfGuest GenderOfGuest VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'any\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The prfered gender for guest\', CHANGE MotivationForHospitality MotivationForHospitality INT DEFAULT NULL COMMENT \'Allow member to describe why he has subscribe to this web site(can be translated)\', CHANGE HideBirthDate HideBirthDate VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'wether the member want\'\'s to hide his birthdate or not\', CHANGE BirthDate BirthDate DATE DEFAULT \'NULL\' COMMENT \'birthdate of the member\', CHANGE AdressHidden AdressHidden VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Yes\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Wether the first address of a member is hidden\', CHANGE WebSite WebSite TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'optional website of the member\', CHANGE chat_SKYPE chat_SKYPE TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Optionnal SKYPE address\', CHANGE chat_ICQ chat_ICQ TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Optionnal ICQ address\', CHANGE chat_AOL chat_AOL TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Optionnal AOL address\', CHANGE chat_MSN chat_MSN TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Optionnal MSN address\', CHANGE chat_YAHOO chat_YAHOO TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Optionnal YAHOO address\', CHANGE chat_Others chat_Others TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Optionnal others Chat address\', CHANGE FutureTrips FutureTrips INT DEFAULT 0 NOT NULL COMMENT \'This is a translatable word for when a member want to describe his furture trips\', CHANGE OldTrips OldTrips INT DEFAULT 0 NOT NULL COMMENT \'This is a translatable sentence where a member can describe his past trips\', CHANGE LogCount LogCount INT DEFAULT 0 NOT NULL COMMENT \'This is the counter of number of time a member logged in\', CHANGE LastSwitchToActive LastSwitchToActive DATETIME DEFAULT \'NULL\' COMMENT \'Stores the last time profile was set to \'\'Active\'\'.  Needed to limit switches between \'\'ChoiceInactive\'\' and \'\'Active\'\'.\', CHANGE HideAttribute HideAttribute BIGINT NOT NULL, CHANGE hosting_interest hosting_interest INT DEFAULT 0 NOT NULL, CHANGE IdCity IdCity INT NOT NULL COMMENT \'This is the city the members leaves in (redundancy with address)\'');
        $this->addSql('CREATE INDEX index_by_created ON members (created)');
        $this->addSql('CREATE INDEX StatusIdCity ON members (Status, IdCity)');
        $this->addSql('CREATE INDEX ex_user_id ON members (ex_user_id)');
        $this->addSql('CREATE UNIQUE INDEX i_Username ON members (Username)');
        $this->addSql('CREATE INDEX Status ON members (Status)');
        $this->addSql('ALTER TABLE members RENAME INDEX idx_45a0d2ff590a599c TO Id2City');
        $this->addSql('ALTER TABLE members_threads_subscribed DROP FOREIGN KEY FK_3A1A005C37C59E7B');
        $this->addSql('ALTER TABLE members_threads_subscribed DROP FOREIGN KEY FK_3A1A005CAB47864F');
        $this->addSql('DROP INDEX IDX_3A1A005C37C59E7B ON members_threads_subscribed');
        $this->addSql('DROP INDEX IDX_3A1A005CAB47864F ON members_threads_subscribed');
        $this->addSql('ALTER TABLE members_threads_subscribed CHANGE id id INT AUTO_INCREMENT NOT NULL COMMENT \'primary key\', CHANGE created created DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'when the subscription was created\', CHANGE ActionToWatch ActionToWatch VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'replies\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'type/scope of subscription\', CHANGE UnSubscribeKey UnSubscribeKey VARCHAR(20) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Key to check when someone click on unsubscribe (to be sure he has ridght to do so)\', CHANGE notificationsEnabled notificationsEnabled TINYINT(1) DEFAULT \'1\' NOT NULL, CHANGE IdSubscriber IdSubscriber INT NOT NULL COMMENT \'Id of the member who is subscribing\', CHANGE IdThread IdThread INT NOT NULL COMMENT \'Id of the thread the member is subscribing to\'');
        $this->addSql('CREATE INDEX IdSubscriber ON members_threads_subscribed (IdSubscriber, IdThread)');
        $this->addSql('ALTER TABLE membersgroups DROP FOREIGN KEY FK_DCA6E8ABEA8330B4');
        $this->addSql('ALTER TABLE membersgroups DROP FOREIGN KEY FK_DCA6E8ABB5B93E44');
        $this->addSql('ALTER TABLE membersgroups CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE comment Comment INT NOT NULL COMMENT \'Comment filled by the member\', CHANGE Status Status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'WantToBeIn\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Describes the connection between a member and a group\', CHANGE IacceptMassMailFromThisGroup IacceptMassMailFromThisGroup VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'no\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Wether the member of this group accept massmail from this group\', CHANGE CanSendGroupMessage CanSendGroupMessage VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'yes\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Wether this member is authorize to send message to this group\', CHANGE IdMember IdMember INT NOT NULL COMMENT \'Id of the concerned member\', CHANGE IdGroup IdGroup INT NOT NULL COMMENT \'group the member belong to\'');
        $this->addSql('ALTER TABLE membersgroups RENAME INDEX membersgroups_groups TO IdGroup');
        $this->addSql('ALTER TABLE membersgroups RENAME INDEX membersgroups_members TO IdMember');
        $this->addSql('ALTER TABLE memberslanguageslevel DROP FOREIGN KEY FK_BC0143C6EA8330B4');
        $this->addSql('ALTER TABLE memberslanguageslevel DROP FOREIGN KEY FK_BC0143C6C825583E');
        $this->addSql('DROP INDEX IDX_BC0143C6EA8330B4 ON memberslanguageslevel');
        $this->addSql('DROP INDEX IDX_BC0143C6C825583E ON memberslanguageslevel');
        $this->addSql('ALTER TABLE memberslanguageslevel CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE Level Level VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Beginner\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'language level\', CHANGE IdMember IdMember INT NOT NULL COMMENT \'concerned member\', CHANGE IdLanguage IdLanguage INT NOT NULL COMMENT \'concerned language\'');
        $this->addSql('ALTER TABLE memberslanguageslevel RENAME INDEX members_languages TO IdMember');
        $this->addSql('ALTER TABLE membersphotos DROP FOREIGN KEY FK_24BD3102EA8330B4');
        $this->addSql('DROP INDEX UNIQ_24BD3102EA8330B4 ON membersphotos');
        $this->addSql('ALTER TABLE membersphotos CHANGE FilePath FilePath TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'path where the photo is stored, can be a local server path or some www place\', CHANGE SortOrder SortOrder TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'Sort order of the picture (0 teh first one which will be displayed,1 the second, etc)\', CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE Comment Comment INT NOT NULL COMMENT \'translatable comment associated with the picture \', CHANGE IdMember IdMember INT NOT NULL');
        $this->addSql('ALTER TABLE membersphotos RENAME INDEX membersphotos_members TO IdMember');
        $this->addSql('ALTER TABLE memberspreferences DROP FOREIGN KEY FK_2D37244EEA8330B4');
        $this->addSql('ALTER TABLE memberspreferences DROP FOREIGN KEY FK_2D37244EC7AC7541');
        $this->addSql('DROP INDEX IDX_2D37244EEA8330B4 ON memberspreferences');
        $this->addSql('ALTER TABLE memberspreferences CHANGE Value Value MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Current value that the member has choose for his preference\', CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE IdMember IdMember INT NOT NULL COMMENT \'Member who the preference belong to\', CHANGE IdPreference IdPreference INT NOT NULL COMMENT \'preference which is concerned by ythis record\'');
        $this->addSql('ALTER TABLE memberspreferences RENAME INDEX memberspreferences_preferences TO IdPreference');
        $this->addSql('ALTER TABLE memberspreferences RENAME INDEX memberspreferences_members TO IdMember');
        $this->addSql('DROP INDEX memberstrads_trad_language ON memberstrads');
        $this->addSql('ALTER TABLE memberstrads CHANGE IdOwner IdOwner INT NOT NULL COMMENT \'id of the member who own the translation\', CHANGE IdTrad IdTrad INT NOT NULL COMMENT \'Id of the translation as it is refered in the source table (the one needed a translatable sentence)\', CHANGE IdTranslator IdTranslator INT NOT NULL COMMENT \'Id of the authorized translator\', CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE Type Type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'member\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, CHANGE Sentence Sentence MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Sentence translated\', CHANGE IdRecord IdRecord INT DEFAULT -1 NOT NULL COMMENT \'Security redudancy : This is the id of the record for the corresponding TableColumn\', CHANGE TableColumn TableColumn VARCHAR(200) CHARACTER SET utf8mb4 DEFAULT \'\'\'NotSet\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Security redudancy : This define the Table and the column wich is the pointer to the current record\', CHANGE IdLanguage IdLanguage INT DEFAULT 0 NOT NULL COMMENT \'refer to the langauge the sentence is supposed to be translated in. Default to english\'');
        $this->addSql('ALTER TABLE memberstrads RENAME INDEX memberstrads_trads TO IdTrad');
        $this->addSql('ALTER TABLE memberstrads RENAME INDEX memberstrads_language TO IdLanguage');
        $this->addSql('ALTER TABLE messages DROP FOREIGN KEY FK_DB021E965E9FC8D5');
        $this->addSql('ALTER TABLE messages DROP FOREIGN KEY FK_DB021E967DB3B714');
        $this->addSql('ALTER TABLE messages DROP FOREIGN KEY FK_DB021E966E1BA6CD');
        $this->addSql('ALTER TABLE messages DROP FOREIGN KEY FK_DB021E963C11E255');
        $this->addSql('ALTER TABLE messages DROP FOREIGN KEY FK_DB021E9623EDC87');
        $this->addSql('ALTER TABLE messages DROP FOREIGN KEY FK_DB021E96427EB8A5');
        $this->addSql('DROP INDEX UNIQ_DB021E965E9FC8D5 ON messages');
        $this->addSql('DROP INDEX IDX_DB021E967DB3B714 ON messages');
        $this->addSql('DROP INDEX IDX_DB021E9623EDC87 ON messages');
        $this->addSql('DROP INDEX IDX_DB021E96427EB8A5 ON messages');
        $this->addSql('ALTER TABLE messages ADD IdMessageFromLocalVol INT DEFAULT 0 NOT NULL COMMENT \'Id of to the localvol messages if this is a type LocalVolToMember\', ADD IdentityInformation MEDIUMTEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Passport num or id document num that the sender can add with the message if he wants to reassure the guy he contact. Note that this field will need to be erased periodically (after 40 days ?)\', ADD SendConfirmation VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'wether a confirmation must be sent to the Sende  when messahe is delivered\', ADD IdChecker INT DEFAULT 0 NOT NULL COMMENT \'Id of the eventual checker (if manual check occured)\', ADD IdTriggerer INT DEFAULT 0 NOT NULL COMMENT \'Id of the triggerer (may be 0 if mailbot)\', ADD JoinMemberPict VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'no\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Wethher the picture of the send is to be joined\', ADD CheckerComment MEDIUMTEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Comment from the checker or the autocheck tools\', CHANGE initiator_id initiator_id INT DEFAULT NULL, CHANGE subject_id subject_id INT DEFAULT NULL, CHANGE request_id request_id INT DEFAULT NULL, CHANGE MessageType MessageType VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'MemberToMember\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Type of the message, state if it is a memner to member message or something else\', CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL COMMENT \'When the message was first sent\', CHANGE DateSent DateSent DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE DeleteRequest DeleteRequest VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Mark who has ask to deleted/purged the message (and thus will not be able to see it anymore)
                    both values can coexist\', CHANGE SpamInfo SpamInfo VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'NotSpam\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Spam information, to be filled by the automatic tools for spam filtering\', CHANGE Status Status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'ToCheck\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Status for sending attempts\', CHANGE Message Message MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'text of the message\', CHANGE InFolder InFolder VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Normal\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The folder where the message is to be stored, note that Comment, Broadcast, evaluate, meeting will be sent through notifications\', CHANGE WhenFirstRead WhenFirstRead DATETIME DEFAULT \'NULL\', CHANGE idParent IdParent INT DEFAULT NULL, CHANGE idReceiver IdReceiver INT NOT NULL COMMENT \'Id of the receiver\', CHANGE idSender IdSender INT NOT NULL COMMENT \'Id of the sender\'');
        $this->addSql('CREATE INDEX FK_DB021E967DB3B714_idx ON messages (id, initiator_id)');
        $this->addSql('ALTER TABLE mycontacts DROP FOREIGN KEY FK_CDF15822EA8330B4');
        $this->addSql('ALTER TABLE mycontacts DROP FOREIGN KEY FK_CDF15822DE2A0F69');
        $this->addSql('DROP INDEX UNIQ_CDF15822EA8330B4 ON mycontacts');
        $this->addSql('DROP INDEX UNIQ_CDF15822DE2A0F69 ON mycontacts');
        $this->addSql('ALTER TABLE mycontacts CHANGE id id INT AUTO_INCREMENT NOT NULL COMMENT \'primary key\', CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE Category Category TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'category of the contact (can be used as a sort otion)\', CHANGE Comment Comment MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'comment of the member about contact\', CHANGE IdMember Idmember INT NOT NULL COMMENT \'member who own the contact\', CHANGE IdContact IdContact INT NOT NULL COMMENT \'id of the contact\'');
        $this->addSql('ALTER TABLE notes DROP FOREIGN KEY FK_11BA68CEA8330B4');
        $this->addSql('ALTER TABLE notes DROP FOREIGN KEY FK_11BA68C50BD8DDF');
        $this->addSql('DROP INDEX IDX_11BA68CEA8330B4 ON notes');
        $this->addSql('DROP INDEX IDX_11BA68C50BD8DDF ON notes');
        $this->addSql('ALTER TABLE notes CHANGE Checked Checked TINYINT(1) DEFAULT \'0\' NOT NULL, CHANGE SendMail SendMail TINYINT(1) DEFAULT \'0\' NOT NULL, CHANGE created created DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE TranslationParams TranslationParams MEDIUMTEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Serialised array of wordcode and params for translation\', CHANGE IdMember IdMember INT NOT NULL, CHANGE IdRelMember IdRelMember INT NOT NULL');
        $this->addSql('ALTER TABLE params CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE IsRealProductionDatabase IsRealProductionDatabase VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Says if it is the real website or not\', CHANGE recordonline recordonline INT DEFAULT 0 NOT NULL COMMENT \'This parameter contains the number max of members seen online\', CHANGE ToggleDonateBar ToggleDonateBar INT DEFAULT 0 NOT NULL COMMENT \'This field is used for the donate bar in the teaser, default is 0, if one, it shows up on the mainpage\', CHANGE neededperyear neededperyear INT DEFAULT 1260 NOT NULL COMMENT \'Amount needed per year as shown during the donation campaign.\', CHANGE campaignstartdate campaignstartdate DATE DEFAULT \'\'\'2012-10-11\'\'\' NOT NULL COMMENT \'The date the donation campaign started, used to gather the donated amount in this campaign.\', CHANGE MailToNotifyWhenNewMemberSignup MailToNotifyWhenNewMemberSignup MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'these are the mail addresses which receive notification about new people who have signup\', CHANGE FeatureForumClosed FeatureForumClosed VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'This will allow to close the forum\', CHANGE FeatureAjaxChatClosed FeatureAjaxChatClosed VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'This will allow to close the Ajax chat\', CHANGE FeatureSignupClose FeatureSignupClose VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'This will allow to close the Signup\', CHANGE FeatureSearchPageIsClosed FeatureSearchPageIsClosed VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'allow to disbale the main search page\', CHANGE FeatureQuickSearchIsClosed FeatureQuickSearchIsClosed VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'allows to disable teh quick search feature\', CHANGE RssFeedIsClosed RssFeedIsClosed VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Allow to disable the RSS feature\', CHANGE AjaxChatSpecialAllowedList AjaxChatSpecialAllowedList MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'This is a special list  of usernames for  admin/prog able to use chat even if it is closed\', CHANGE AjaxChatDebuLevel AjaxChatDebuLevel INT DEFAULT 0 NOT NULL COMMENT \'If greater than 0 this value allow to add debug logs in the AjaxChat \', CHANGE ReloadRightsAndFlags ReloadRightsAndFlags VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Must be set to No, if Yes force the reload of Flags and Rights for online users\', CHANGE logs_id_midnight logs_id_midnight INT NOT NULL COMMENT \'id of logs table at previous midnight\', CHANGE previous_logs_id_midnight previous_logs_id_midnight INT NOT NULL COMMENT \'id of logs table at midnight day before\', CHANGE memcache memcache VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'False\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Used to enable the use of memcache\', CHANGE DayLightOffset DayLightOffset INT DEFAULT 0 NOT NULL COMMENT \'This is the Day light Offset  to be added to display dates tiem for members who chose this preference\', CHANGE NbCommentsInLastComments NbCommentsInLastComments INT DEFAULT 20 NOT NULL COMMENT \'This is the number of comments to display in the lastcomments page\', CHANGE IdCommentOfTheMoment IdCommentOfTheMoment INT DEFAULT 0 NOT NULL COMMENT \'Id of the comment of the moment (updated by lastcomments votes)\', CHANGE MailBotMode MailBotMode VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Manual\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'State whether mail bot is running or not\', CHANGE ToggleStatsForWordsUsage ToggleStatsForWordsUsage VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'This toggle statistics about words usage, becareful it can affect performances\'');
        $this->addSql('ALTER TABLE passwordreset DROP FOREIGN KEY FK_9FEDC81D7597D3FE');
        $this->addSql('DROP INDEX UNIQ_9FEDC81D7597D3FE ON passwordreset');
        $this->addSql('ALTER TABLE passwordreset CHANGE member_id member_id INT NOT NULL, CHANGE token token VARCHAR(128) CHARACTER SET utf8 NOT NULL COLLATE `utf8_general_ci`');
        $this->addSql('ALTER TABLE polls DROP FOREIGN KEY FK_1D3CC6EECAF43085');
        $this->addSql('DROP INDEX UNIQ_1D3CC6EECAF43085 ON polls');
        $this->addSql('DROP INDEX UNIQ_1D3CC6EE2E4E0332 ON polls');
        $this->addSql('ALTER TABLE polls CHANGE id id INT AUTO_INCREMENT NOT NULL COMMENT \'Primary key\', CHANGE Status Status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Project\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Status of the poll\', CHANGE ResultsVisibility ResultsVisibility VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'VisibleAfterVisit\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Wether the results are  visible or not (usually we wait for the end of the poll)\', CHANGE Type Type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'MemberPoll\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The kind of poll\', CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'When teh poll was updated\', CHANGE Started Started DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL COMMENT \'When the poll will start\', CHANGE Ended Ended DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL COMMENT \'When the poll will close\', CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL COMMENT \'when the poll was created\', CHANGE title Title INT NOT NULL COMMENT \'Title of the poll, this is a forum_trad\', CHANGE ForMembersOnly ForMembersOnly VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Yes\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'define if only members can contribute to this poll\', CHANGE IdLocationsList IdLocationsList INT DEFAULT 0 NOT NULL COMMENT \'for future, Id of a location list for people who are allowed to contribute to this poll\', CHANGE IdGroupsList IdGroupsList INT DEFAULT 0 NOT NULL COMMENT \'useless to remove\', CHANGE IdCountriesList IdCountriesList INT DEFAULT 0 NOT NULL COMMENT \'for future, Id of a country list for people who are allowed to contribute to this poll\', CHANGE OpenToSubGroups OpenToSubGroups VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Yes\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'wether subgroups of teh group list (if any) can contribute \', CHANGE TypeOfChoice TypeOfChoice VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Type of the possibel choice for answer (one, several, sorted)\', CHANGE CanChangeVote CanChangeVote VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'State wether member can change their votes for this poll\', CHANGE AllowComment AllowComment VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'wether the contributor can make an additional comment or not\', CHANGE Description Description INT NOT NULL COMMENT \'This is a forum_trad which allows to describe the poll\', CHANGE WhereToRestrictMember WhereToRestrictMember MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'This can be a SQL text usable to restrict the member allow to contribute to the poll\', CHANGE Anonym Anonym VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Yes\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'wether the poll is made anonymously\', CHANGE IdGroupCreator IdGroupCreator INT DEFAULT 0 NOT NULL COMMENT \'Id of the group(if any) who created the poll \', CHANGE IdCreator IdCreator INT DEFAULT 0 NOT NULL COMMENT \'Id of the member(if any) who created the poll\'');
        $this->addSql('ALTER TABLE polls_choices CHANGE id id INT AUTO_INCREMENT NOT NULL COMMENT \'primary key\', CHANGE IdChoiceText IdChoiceText INT NOT NULL COMMENT \'forum_trad Id\', CHANGE Counter Counter INT DEFAULT 0 NOT NULL COMMENT \'counter of choice for this record\', CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'when it was updated\', CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL COMMENT \'when it was updated\', CHANGE IdPoll IdPoll INT NOT NULL COMMENT \'Id of the poll\'');
        $this->addSql('ALTER TABLE polls_contributions DROP INDEX polls_contributions_email, ADD INDEX idEmail (Email(6))');
        $this->addSql('ALTER TABLE polls_contributions CHANGE id id INT AUTO_INCREMENT NOT NULL COMMENT \'primary key\', CHANGE `Email` Email TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'email of the external contributor (if open to not logged people)\', CHANGE EmailIsConfirmed EmailIsConfirmed VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'State wether the email is confirmed or not\', CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'when teh record was updated\', CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL COMMENT \'when the record was created\', CHANGE comment comment MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'possible common (depend on option polls.AllowComment)\', CHANGE IdPoll IdPoll INT NOT NULL COMMENT \'reference of the poll\', CHANGE IdMember IdMember INT DEFAULT 0 NOT NULL COMMENT \'Id of the member if not anonym\'');
        $this->addSql('ALTER TABLE polls_contributions RENAME INDEX polls_contributions_poll TO IdPoll');
        $this->addSql('ALTER TABLE polls_contributions RENAME INDEX polls_contributions_members TO IdMember');
        $this->addSql('ALTER TABLE polls_list_allowed_groups DROP INDEX primary, ADD INDEX IdPoll (IdPoll, IdGroup)');
        $this->addSql('ALTER TABLE polls_list_allowed_groups CHANGE IdPoll IdPoll INT NOT NULL COMMENT \'id of the poll\', CHANGE IdGroup IdGroup INT NOT NULL COMMENT \'id of the group\'');
        $this->addSql('ALTER TABLE polls_list_allowed_groups RENAME INDEX idx_b72f84b5b93e44 TO IdGroup');
        $this->addSql('ALTER TABLE polls_record_of_choices DROP INDEX polls_record_of_choices_email, ADD INDEX idEmail (Email(6))');
        $this->addSql('ALTER TABLE polls_record_of_choices DROP FOREIGN KEY FK_807EBBBDB04B0BEB');
        $this->addSql('DROP INDEX UNIQ_807EBBBDEA8330B4 ON polls_record_of_choices');
        $this->addSql('ALTER TABLE polls_record_of_choices ADD HierarchyValue INT NOT NULL COMMENT \'Thi is use to store the hierarchy value (if it is a hierarchic choice)\', CHANGE id id INT AUTO_INCREMENT NOT NULL COMMENT \'primary key\', CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'when the record was updated\', CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL COMMENT \'when the record was created\', CHANGE Email Email TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'email of the contributor (if not logged in)\', CHANGE IdPollChoice IdPollChoice INT NOT NULL COMMENT \'the id of the choice made\', CHANGE IdPoll IdPoll INT DEFAULT 0 NOT NULL COMMENT \'I of the poll (needed because of blank vote)\', CHANGE IdMember IdMember INT NOT NULL COMMENT \'Id of the member (if logged in)\'');
        $this->addSql('ALTER TABLE polls_record_of_choices RENAME INDEX polls_record_of_choices_poll TO IdPoll');
        $this->addSql('ALTER TABLE polls_record_of_choices RENAME INDEX polls_record_of_choices_poll_choice TO IdPollChoice');
        $this->addSql('ALTER TABLE polls_record_of_choices RENAME INDEX polls_record_of_choices_members TO IdMember');
        $this->addSql('ALTER TABLE posts_notificationqueue DROP FOREIGN KEY FK_D2884CD3EA8330B4');
        $this->addSql('ALTER TABLE posts_notificationqueue DROP FOREIGN KEY FK_D2884CD32EDB3725');
        $this->addSql('DROP INDEX IDX_D2884CD3EA8330B4 ON posts_notificationqueue');
        $this->addSql('DROP INDEX IDX_D2884CD32EDB3725 ON posts_notificationqueue');
        $this->addSql('ALTER TABLE posts_notificationqueue CHANGE Status Status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'ToSend\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'wether the notification was sent or not\', CHANGE Type Type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'buggy\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'the type of the notification\', CHANGE IdSubscription IdSubscription INT DEFAULT 0 NOT NULL COMMENT \'Id of the subsrciption (if any) to allow efficient unsubscribe procedure\', CHANGE TableSubscription TableSubscription VARCHAR(64) CHARACTER SET utf8mb4 DEFAULT \'\'\'NotSet\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'The name of the subscription table this notification is caused by\', CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE updated updated DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE IdMember IdMember INT NOT NULL COMMENT \'The member to notify\', CHANGE IdPost IdPost INT NOT NULL COMMENT \'The post to notify about\'');
        $this->addSql('ALTER TABLE posts_notificationqueue RENAME INDEX posts_notificationqueue_status TO IdxStatus');
        $this->addSql('ALTER TABLE preferences ADD EvalString MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'eval string which will be used to build layout choice\', CHANGE codeName codeName VARCHAR(30) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Word code of the preference to find a name to display for members\', CHANGE codeDescription codeDescription VARCHAR(30) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'word code for description (translatable) of the preferences to explain memebr what it is use for\', CHANGE Description Description MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Description of the preferences (to be used for volunteers)\', CHANGE created created DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE Status Status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Inactive\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'This is the Status/Category of preferences\'');
        $this->addSql('ALTER TABLE privileges CHANGE id id INT AUTO_INCREMENT NOT NULL COMMENT \'Primary key for privileges\', CHANGE controller controller VARCHAR(64) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Name of the controller the privilege ties to\', CHANGE method method VARCHAR(64) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Name of the controllers method the privilege ties to\', CHANGE type type VARCHAR(64) CHARACTER SET utf8mb4 DEFAULT \'\'\'\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Type of the object for which the privilege can be scoped, if any\'');
        $this->addSql('ALTER TABLE privilegescopes DROP FOREIGN KEY FK_D89F5ADAEA8330B4');
        $this->addSql('ALTER TABLE privilegescopes DROP FOREIGN KEY FK_D89F5ADA2338D1C2');
        $this->addSql('ALTER TABLE privilegescopes DROP FOREIGN KEY FK_D89F5ADAFD563E06');
        $this->addSql('DROP INDEX IDX_D89F5ADAEA8330B4 ON privilegescopes');
        $this->addSql('DROP INDEX IDX_D89F5ADA2338D1C2 ON privilegescopes');
        $this->addSql('DROP INDEX IDX_D89F5ADAFD563E06 ON privilegescopes');
        $this->addSql('ALTER TABLE privilegescopes CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE IdType IdType VARCHAR(32) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Id of the scope - either and id or *\', CHANGE IdMember IdMember INT NOT NULL COMMENT \'Foreign key to the members table\', CHANGE IdRole IdRole INT NOT NULL COMMENT \'Foreign key to the roles table\', CHANGE IdPrivilege IdPrivilege INT NOT NULL COMMENT \'Foreign key to the privileges table\'');
        $this->addSql('ALTER TABLE profilesvisits DROP FOREIGN KEY FK_247F0D65EA8330B4');
        $this->addSql('ALTER TABLE profilesvisits DROP FOREIGN KEY FK_247F0D6558AD08CE');
        $this->addSql('DROP INDEX IDX_247F0D65EA8330B4 ON profilesvisits');
        $this->addSql('ALTER TABLE profilesvisits CHANGE created created DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'date of first visit\', CHANGE updated updated DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL COMMENT \'date of last visit\', CHANGE IdMember IdMember INT NOT NULL COMMENT \'id of the visited profile\', CHANGE IdVisitor IdVisitor INT NOT NULL COMMENT \'id of the visitor\'');
        $this->addSql('ALTER TABLE reports_to_moderators DROP FOREIGN KEY FK_4DD28F876A28C979');
        $this->addSql('ALTER TABLE reports_to_moderators DROP FOREIGN KEY FK_4DD28F87104616E9');
        $this->addSql('DROP INDEX IDX_4DD28F876A28C979 ON reports_to_moderators');
        $this->addSql('DROP INDEX IDX_4DD28F87104616E9 ON reports_to_moderators');
        $this->addSql('ALTER TABLE reports_to_moderators CHANGE PostComment PostComment MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Comment of the reporter\', CHANGE ModeratorComment ModeratorComment MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Moderator comment\', CHANGE Status Status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Open\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Status of the report\', CHANGE IdPost IdPost INT NOT NULL COMMENT \'Concerned post\', CHANGE IdThread IdThread INT NOT NULL COMMENT \'Concerned \', CHANGE Type Type VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Type of report\', CHANGE LastWhoSpoke LastWhoSpoke VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'Member\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'This field says if it is the member or the moderator who spoke in last\', CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL COMMENT \'when the report was created\', CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'When the report was updated\', CHANGE IdReporter IdReporter INT NOT NULL COMMENT \'Id Of the reporter\', CHANGE IdModerator IdModerator INT NOT NULL COMMENT \'Id Of the moderator\'');
        $this->addSql('ALTER TABLE request DROP INDEX UNIQ_3B978F9F9B262DC, ADD INDEX IDX_3B978F9F9B262DC (invite_for_leg)');
        $this->addSql('ALTER TABLE request CHANGE invite_for_leg invite_for_leg INT DEFAULT NULL, CHANGE departure departure DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\', CHANGE flexible flexible TINYINT(1) NOT NULL, CHANGE number_of_travellers number_of_travellers INT UNSIGNED NOT NULL, CHANGE status status INT UNSIGNED DEFAULT 0 NOT NULL, CHANGE created created DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE updated updated DATETIME DEFAULT \'NULL\'');
        $this->addSql('ALTER TABLE rights CHANGE created created DATETIME DEFAULT \'current_timestamp()\' NOT NULL');
        $this->addSql('CREATE INDEX Name ON rights (Name(10))');
        $this->addSql('ALTER TABLE rightsvolunteers DROP FOREIGN KEY FK_9489C1FFEA8330B4');
        $this->addSql('ALTER TABLE rightsvolunteers DROP FOREIGN KEY FK_9489C1FF6CB30F95');
        $this->addSql('DROP INDEX IDX_9489C1FFEA8330B4 ON rightsvolunteers');
        $this->addSql('DROP INDEX IDX_9489C1FF6CB30F95 ON rightsvolunteers');
        $this->addSql('ALTER TABLE rightsvolunteers CHANGE Level Level INT DEFAULT 0 NOT NULL, CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE IdMember IdMember INT NOT NULL, CHANGE IdRight IdRight INT NOT NULL');
        $this->addSql('ALTER TABLE rightsvolunteers RENAME INDEX rightsvolunteers_members TO IdMember');
        $this->addSql('ALTER TABLE roles CHANGE id id INT AUTO_INCREMENT NOT NULL COMMENT \'Primary key for roles\', CHANGE name name VARCHAR(128) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Name of the role, must be unique\', CHANGE description description VARCHAR(256) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Short description of role\'');
        $this->addSql('ALTER TABLE shouts DROP FOREIGN KEY FK_261633DAF12159B9');
        $this->addSql('DROP INDEX UNIQ_261633DAF12159B9 ON shouts');
        $this->addSql('ALTER TABLE shouts CHANGE id id INT DEFAULT 0 NOT NULL, CHANGE member_id_foreign member_id_foreign INT DEFAULT 0 NOT NULL, CHANGE table_id table_id INT DEFAULT 0 NOT NULL');
        $this->addSql('ALTER TABLE specialrelations DROP FOREIGN KEY FK_BA11918F17199CFD');
        $this->addSql('ALTER TABLE specialrelations DROP FOREIGN KEY FK_BA11918F7E776EC2');
        $this->addSql('DROP INDEX UNIQ_BA11918F17199CFD ON specialrelations');
        $this->addSql('DROP INDEX UNIQ_BA11918F7E776EC2 ON specialrelations');
        $this->addSql('DROP INDEX UniqueRelation ON specialrelations');
        $this->addSql('ALTER TABLE specialrelations CHANGE Type Type VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Type of the relation\', CHANGE Comment Comment INT NOT NULL COMMENT \'Comment about the relation this is a translatable field\', CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE updated updated DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE Confirmed Confirmed VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'No\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'relation will be confirmed if both member say so\', CHANGE IdOwner IdOwner INT NOT NULL COMMENT \'owner of the relation\', CHANGE IdRelation IdRelation INT NOT NULL COMMENT \'other member in the relation\'');
        $this->addSql('CREATE UNIQUE INDEX UniqueRelation ON specialrelations (IdRelation, IdOwner)');
        $this->addSql('ALTER TABLE stats CHANGE created created DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'date of the stat\', CHANGE NbActiveMembers NbActiveMembers INT NOT NULL COMMENT \'Number of active members\', CHANGE NbMessageSent NbMessageSent INT NOT NULL COMMENT \'Nb message sent\', CHANGE NbMessageRead NbMessageRead INT NOT NULL COMMENT \'Nb Messages read\', CHANGE NbMemberWithOneTrust NbMemberWithOneTrust INT NOT NULL COMMENT \'Nb Member with at least one trust\', CHANGE NbMemberWhoLoggedToday NbMemberWhoLoggedToday INT NOT NULL COMMENT \'Nb members who logged today\'');
        $this->addSql('ALTER TABLE sub_trips DROP FOREIGN KEY FK_463714635E9E89CB');
        $this->addSql('ALTER TABLE sub_trips DROP FOREIGN KEY FK_46371463A5BC2E0E');
        $this->addSql('DROP INDEX IDX_463714635E9E89CB ON sub_trips');
        $this->addSql('ALTER TABLE sub_trips CHANGE location location INT DEFAULT NULL, CHANGE invited_by invited_by INT DEFAULT NULL, CHANGE trip_id trip_id INT DEFAULT NULL, CHANGE arrival arrival DATE DEFAULT \'NULL\', CHANGE departure departure DATE DEFAULT \'NULL\', CHANGE options options SET(\'Private\', \'MeetLocals\', \'LookingForHosts\') CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci` COMMENT \'(DC2Type:subtrip_options)\'');
        $this->addSql('ALTER TABLE sub_trips ADD CONSTRAINT tripId FOREIGN KEY (trip_id) REFERENCES trips (id) ON UPDATE NO ACTION ON DELETE CASCADE');
        $this->addSql('ALTER TABLE sub_trips RENAME INDEX idx_46371463a5bc2e0e TO trip_id_idx');
        $this->addSql('ALTER TABLE subject CHANGE subject subject TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`');
        $this->addSql('ALTER TABLE translations DROP FOREIGN KEY FK_C6B7DA87C825583E');
        $this->addSql('ALTER TABLE translations DROP FOREIGN KEY FK_C6B7DA8717199CFD');
        $this->addSql('ALTER TABLE translations DROP FOREIGN KEY FK_C6B7DA87C20826F9');
        $this->addSql('DROP INDEX IDX_C6B7DA87C825583E ON translations');
        $this->addSql('DROP INDEX IDX_C6B7DA8717199CFD ON translations');
        $this->addSql('DROP INDEX IDX_C6B7DA87C20826F9 ON translations');
        $this->addSql('ALTER TABLE translations CHANGE id id INT AUTO_INCREMENT NOT NULL COMMENT \'id of the record\', CHANGE IdTrad IdTrad INT NOT NULL COMMENT \'Unique IdTrad (with the IdLa,gauge) for this record\', CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL COMMENT \'when the record was updated\', CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL COMMENT \'when the record was created\', CHANGE Type Type VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Type of translation\', CHANGE Sentence Sentence MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'Text in one language\', CHANGE IdRecord IdRecord INT NOT NULL COMMENT \'Id of the record in the foreign table\', CHANGE TableColumn TableColumn VARCHAR(200) CHARACTER SET utf8mb4 DEFAULT \'\'\'NotSet\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci` COMMENT \'name of the table and field (linked with this record)\', CHANGE IdLanguage IdLanguage INT NOT NULL COMMENT \'supposed language of the Sentence\', CHANGE IdOwner IdOwner INT NOT NULL COMMENT \'owner of the record (guy who created it)\', CHANGE IdTranslator IdTranslator INT NOT NULL COMMENT \'Id of the translator\'');
        $this->addSql('CREATE INDEX IdTrad ON translations (IdTrad)');
        $this->addSql('CREATE UNIQUE INDEX unique_entry ON translations (IdTrad, IdOwner, IdLanguage)');
        $this->addSql('ALTER TABLE trips DROP FOREIGN KEY FK_AA7370DADE12AB56');
        $this->addSql('ALTER TABLE trips CHANGE created_by created_by INT NOT NULL, CHANGE summary summary VARCHAR(150) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci`, CHANGE description description VARCHAR(4096) CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci`, CHANGE countOfTravellers countOfTravellers INT DEFAULT NULL, CHANGE invitation_radius invitation_radius INT DEFAULT 20 NOT NULL, CHANGE created created DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE updated updated DATETIME DEFAULT \'NULL\', CHANGE deleted deleted DATETIME DEFAULT \'NULL\', CHANGE additionalInfo additionalInfo ENUM(\'none\', \'single\', \'couple\', \'friends_mixed\', \'friends_same\', \'family\') CHARACTER SET utf8mb4 DEFAULT \'NULL\' COLLATE `utf8mb4_unicode_520_ci` COMMENT \'(DC2Type:trip_additional_info)\'');
        $this->addSql('ALTER TABLE trips ADD CONSTRAINT created_by FOREIGN KEY (created_by) REFERENCES members (id) ON UPDATE NO ACTION ON DELETE CASCADE');
        $this->addSql('ALTER TABLE uploaded_image CHANGE size size INT DEFAULT NULL, CHANGE fileinfo fileinfo TINYTEXT CHARACTER SET utf8 DEFAULT NULL COLLATE `utf8_general_ci`, CHANGE filehash filehash TINYTEXT CHARACTER SET utf8 DEFAULT NULL COLLATE `utf8_general_ci`');
        $this->addSql('ALTER TABLE user ADD auth_id INT UNSIGNED DEFAULT NULL, ADD pw MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, ADD active INT UNSIGNED DEFAULT 0 NOT NULL, DROP PassWord, CHANGE id id INT UNSIGNED AUTO_INCREMENT NOT NULL, CHANGE handle handle VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'\'\'\'\'\' NOT NULL COLLATE `utf8mb4_unicode_520_ci`, CHANGE email email VARCHAR(75) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_520_ci`, CHANGE LastLogin lastlogin DATETIME DEFAULT \'NULL\', CHANGE location location INT UNSIGNED DEFAULT NULL');
        $this->addSql('CREATE INDEX handle ON user (handle(191))');
        $this->addSql('CREATE INDEX email ON user (email)');
        $this->addSql('CREATE INDEX location ON user (location)');
        $this->addSql('CREATE INDEX user_id ON user (auth_id)');
        $this->addSql('ALTER TABLE words DROP FOREIGN KEY FK_717D1E8CEA8330B4');
        $this->addSql('ALTER TABLE words DROP FOREIGN KEY FK_717D1E8CC825583E');
        $this->addSql('DROP INDEX IDX_717D1E8CEA8330B4 ON words');
        $this->addSql('DROP INDEX IDX_717D1E8CC825583E ON words');
        $this->addSql('ALTER TABLE words CHANGE code code VARCHAR(256) CHARACTER SET utf8 NOT NULL COLLATE `utf8_unicode_ci` COMMENT \'Key code used in php programs to retrieve the matching translation\', CHANGE domain domain VARCHAR(255) CHARACTER SET utf8 DEFAULT \'\'\'messages\'\'\' NOT NULL COLLATE `utf8_unicode_ci`, CHANGE ShortCode ShortCode CHAR(16) CHARACTER SET utf8 DEFAULT \'\'\'en\'\'\' NOT NULL COLLATE `utf8_unicode_ci` COMMENT \'This is used by MOD_words keep in sync with IdLanguage\', CHANGE Sentence Sentence TEXT CHARACTER SET utf8 NOT NULL COLLATE `utf8_unicode_ci` COMMENT \'Content of the translation\', CHANGE updated updated DATETIME DEFAULT \'current_timestamp()\' NOT NULL, CHANGE donottranslate donottranslate VARCHAR(255) CHARACTER SET utf8 DEFAULT \'\'\'no\'\'\' NOT NULL COLLATE `utf8_unicode_ci` COMMENT \'set to \'\'yes\'\' to prevent translators volunteers to translate\', CHANGE Description Description TEXT CHARACTER SET utf8 NOT NULL COLLATE `utf8_unicode_ci` COMMENT \'This field is used to describe the usage of the current Sentence. It is only fill by programmers and for english language\', CHANGE created created DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE TranslationPriority TranslationPriority INT DEFAULT 5 NOT NULL COMMENT \'Priority to give for the translation 1=to urgent, 10 lesser emergency\', CHANGE isarchived isarchived TINYINT(1) DEFAULT \'NULL\', CHANGE majorupdate majorupdate DATETIME DEFAULT \'\'\'0000-00-00 00:00:00\'\'\' NOT NULL, CHANGE IdMember IdMember INT DEFAULT 0 NOT NULL COMMENT \'member who created or updated the word\', CHANGE IdLanguage IdLanguage INT DEFAULT 0 NOT NULL COMMENT \'The link with the IdLanguage table\'');
    }
}
