{% import 'macros.twig' as macros %}
<!DOCTYPE html>
<html lang="{{ app.request.locale }}">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="{{ asset('favicon.ico') }}"/>

    <title>BeWelcome - {{ 'home.headline.bewelcome.cultural' | trans }}</title>
    <meta name="description" content="{{ 'default_meta_description' | trans }}"/>
    <meta name="keywords" content="{{ 'default_meta_keyword' | trans }}"/>

    {% include 'webpreview.html.twig' %}

    {{ encore_entry_link_tags('bewelcome') }}
    {{ encore_entry_link_tags('tailwind') }}
    {{ encore_entry_link_tags('floating_labels') }}
    {{ encore_entry_link_tags('jquery_ui') }}
    <link rel='manifest' href='{{ asset('manifest.webmanifest') }}'>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js').then(registration => {
                    console.log('SW registered: ', registration);
                }).catch(registrationError => {
                    console.log('SW registration failed: ', registrationError);
                });
            });
        }
    </script>
</head>
<body>
{% block content %}
{% include 'loginbar.html.twig' %}
<!-- Section #1 -->
<!-- first section - Home -->
<div id="parallax-home">
    <div class="parallax">
        <img class="parallax--img"
            srcset="{{ asset('/images/homepicture-1200px_1-min.jpg') }} 1200w, {{ asset('/images/homepicture-576px_1-min.jpg') }} 576w"
            src="{{ asset('/images/homepicture-1200px_1-min.jpg') }}"
            alt="{{ 'home.headline.bewelcome.cultural' | trans }}">
        <div class="parallax--shadow">
            <div id="trigger-fade-1"></div>
            <div id="fade-animation-1" class="parallax--fixed parallax--fixed-abovethefold justify-content-center">
                <div class="col-12 col-lg-12 text-center px-5">
                    <h1 class="parallax--h parallax--fixed--letteranim py-2">{{ 'home.headline.bewelcome.cultural' | trans }}</h1>
                </div>
                <div class="col-auto text-center home-button-center">
                    <p class="p-4 parallax--fixed--button"><a href="{{ url('signup') }}"
                                                              class="btn btn-primary btn-lg p-3 font-weight-bold home-button-shadow parallax--fixed--buttonanim">{{ 'home.button.join' | trans }}</a>
                    </p>
                    <h2 class="parallax--numsubh parallax--fixed--letteranim d-md-block py-2">{{ 'home.abstract.bewelcome.cultural' | trans }}
                        {{ 'home.bewelcome.free' | trans | escape |replace({'%link_start%': '<a class="parallax--fixed--linkanim bold" href="'~path('wiki_page', { 'pageTitle': 'Can BeWelcome be sold'})~'" class="parallax--a bold">', '%link_end%': '</a>'})|raw }}
                    </h2>
                    <!-- <p class="parallax--fixed--letteranim py-2">{{ 'home.bewelcome.free' | trans | escape |replace({'%link_start%': '<a href="'~path('wiki_page', { 'pageTitle': 'Can BeWelcome be sold'})~'" class="text-primary bold">', '%link_end%': '</a>'})|raw }}</p> -->
                </div>
            </div>
        </div>
    </div>
    {# about #}
    <div id="about">
        <div class="container my-5 py-5">
            <div class="row justify-content-center">
                <div class="col-12 col-lg-10 mb-5"><h3 class="parallax--h my-2">{{ 'tourpage' | trans }}</h3></div>
            </div>
            <div id="trigger-icon-animation-1"></div>
            <div id="icon-animation-1" class="row justify-content-center text-center">
                <div class="col-12 col-md-6 col-lg-3 mb-5">
                    <p><i class="far fa-3x fa-handshake" aria-hidden="true"></i></p>
                    <h4 class="parallax--smallsubh">{{ 'tour_link_meet' | trans }}</h4>
                    <p>{{ 'tourpage_text3' | trans }}</p>
                </div>
                <div class="col-12 col-md-6 col-lg-3 mb-5">
                    <p><i class="fa fa-3x fa-map-signs" aria-hidden="true"></i></p>
                    <h4 class="parallax--smallsubh">{{ 'tour_link_travel' | trans }}</h4>
                    <p>{{ 'tourpage_text4' | trans }}</p>
                </div>
                <div class="col-12 col-md-6 col-lg-3 mb-5">
                    <p><i class="fa fa-3x fa-home" aria-hidden="true"></i></p>
                    <h4 class="parallax--smallsubh">{{ 'tour_link_host' | trans }}</h4>
                    <p>{{ 'tourpage_text5' | trans }}</p>
                </div>
                <div class="col-12 col-md-6 col-lg-3 mb-5">
                    <p><i class="far fa-3x fa-heart" aria-hidden="true"></i></p>
                    <h4 class="parallax--smallsubh">{{ 'tour_link_share' | trans }}</h4>
                    <p>{{ 'tourpage_text2' | trans }}</p></div>
            </div>
        </div>
    </div>
    {# end about #}
    <div class="parallax">
        <img class="parallax--img"
            srcset="{{ asset('/images/homepicture-1200px_2-min.jpg') }} 1200w, {{ asset('/images/homepicture-576px_2-min.jpg') }} 576w"
            src="{{ asset('/images/homepicture-1200px_2-min.jpg') }}"
            alt="{{ 'home.headline.find.hosts' | trans }}">
        <div class="parallax--shadow">
            <div id="trigger-fade-2"></div>
            <div id="fade-animation-2" class="parallax--fixed row justify-content-center">
                <div class="col-12 text-center">
                    <h3 class="parallax--h parallax--fixed--letteranim">{{ 'home.headline.find.hosts' | trans }}</h3>
                </div>
            </div>
        </div>
    </div>
    {# statistics #}
    <div id="statistics">
        <div class="container-fluid my-5 py-5">
            <div class="row justify-content-center mb-5">
                <div class="col-12">
                    <h3 class="parallax--h text-center">{{ 'home.header.statistics' | trans }}</h3>
                </div>
            </div>
            <div id="trigger-icon-animation-2"></div>
            <div class="row justify-content-center text-center" id="icon-animation-2">
                <div class="col-12 col-md-6 col-lg-2 mx-3 mb-5">
                    <p><i class="far fa-3x fa-user" aria-hidden="true"></i></p>
                    <p class="parallax--subh">{{ stats.members }}</p>
                    <p class="parallax--numsubh text-capitalize">{{ 'home.stats.members' | trans }}</p></div>
                <div class="col-12 col-md-6 col-lg-2 mx-3 mb-5">
                    <p><i class="far fa-3x fa-flag" aria-hidden="true"></i></p>
                    <p class="parallax--subh">{{ stats.countries }}</p>
                    <p class="parallax--numsubh text-capitalize">{{ 'home.stats.countries' | trans }}</p></div>
                <div class="col-12 col-md-6 col-lg-2 mx-3 mb-5">
                    <p><i class="fa fa-3x fa-language" aria-hidden="true"></i></p>
                    <p class="parallax--subh">{{ stats.languages }}</p>
                    <p class="parallax--numsubh text-capitalize">{{ 'home.stats.languages' | trans }}</p></div>
                <div class="col-12 col-md-6 col-lg-2 mx-3 mb-5">
                    <p><i class="far fa-3x fa-smile" aria-hidden="true"></i></p>
                    <p class="parallax--subh">{{ stats.comments }}</p>
                    <p class="parallax--numsubh text-capitalize">{{ 'home.stats.positive_comments' | trans }}</p></div>
                <div class="col-12 col-md-6 col-lg-2 mx-3 mb-5">
                    <p><i class="far fa-3x fa-calendar-check" aria-hidden="true"></i></p>
                    <p class="parallax--subh">{{ stats.activities }}</p>
                    <p class="parallax--numsubh text-capitalize">{{ 'home.stats.activities' | trans }}</p></div>
            </div>
        </div>
    </div>
    {# end statistics #}
    <div class="parallax">
        <img class="parallax--img"
            srcset="{{ asset('/images/homepicture-1200px_3-min.jpg') }} 1200w, {{ asset('/images/homepicture-576px_3-min.jpg') }} 576w"
            src="{{ asset('/images/homepicture-1200px_3-min.jpg') }}"
            alt="{{ 'home.title.onestep' | trans }}">
        <div class="parallax--shadow">
            <div id="trigger-fade-3"></div>
            <div id="fade-animation-3" class="parallax--fixed row w-100 justify-content-center text-center">
                <div class="col-12 mb-2">
                    <h1 class="parallax--h parallax--fixed--letteranim mb-4">{{ 'home.title.onestep' | trans }}</h1>
                    <p class="text-white">{{ 'home.title.onestep.sub' | trans }}</p>
                </div>
                <div class="col-12 col-md-6 col-lg-5">
                    {{ form_start(username) }}
                    {# {{ postHandler.registerCallbackMethod('SignupController', 'signupFormCallback')|raw }} #}
                    <div class="o-form-group">
                        <p class="parallax--numsubh text-uppercase text-md-left">{{ 'indexpageword_share' | trans }}</p>
                    </div>
                    <label for="{{ username.username.vars.id }}"
                           class="sr-only">{{ 'choose.username' | trans }}</label>
                    <div class="input-group mb-2">
                        <div class="input-group-prepend">
                            <span class="input-group-text text-primary">
                                <i class="fa fa-lg fa-user" aria-hidden="true"></i></span></div>
                        <input type="text" class="o-input" name="{{ username.username.vars.name }}"
                               id="{{ username.username.vars.id }}"
                               placeholder="{{ 'home.username' | trans }}"
                               value="{{ username.username.vars.value }}"/>
                        <span class="input-group-append p-0">
                            <button class="btn btn-primary border-0" type="submit">
                                <i class="fa fa-lg fa-chevron-right" aria-hidden="true"></i>
                                <span class="sr-only">{{ 'home.username.signup' | trans }}</span>
                            </button>
                            {% do username.username.setRendered %}
                        </span>
                    </div>
                    <p class="text-white text-md-left">{{ 'home.username.subheader' | trans }}</p>
                    {{ form_end(username) }}
                </div>

                <div class="col-12 col-md-6 col-lg-5">
                    {{ form_start( search ) }}
                    <div class="o-form-group">
                        <p class="parallax--numsubh text-uppercase text-md-left">{{ 'home.searchplace' | trans }}</p>
                    </div>
                    <label for="location" class="sr-only">{{ 'home.searchplace.question' | trans }}</label>
                    <div class="input-group mb-2">
                        <div class="input-group-prepend">
                            <span class="input-group-text text-primary">
                                <i class="fas fa-lg fa-map-marker-alt" aria-hidden="true"></i>
                            </span>
                        </div>
                        {{ form_widget( search.location, { 'attr' : { 'class' : 'js-search-picker form-control' } } ) }}
                        <span class="input-group-append p-0">
                            <button id="{{ search.updateMap.vars.id }}" name="updateMap" type="submit"
                                    class="btn btn-primary border-0">
                                    <i class="fa fa-lg fa-chevron-right" aria-hidden="true"></i>
                                    <span class="sr-only">{{ 'search' | trans }}</span>
                            </button>
                            {% do search.updateMap.setRendered %}
                        </span>
                    </div>
                    <p class="text-white text-md-left">{{ 'home.searchplace.subheader' | trans }}</p>
                    <div class="d-none invisible">{{ form_rest( search ) }}</div>
                    {{ form_end( search ) }}
                </div>
            </div>
        </div>
    </div>
<div id="footer">
    <div class="container-lg">
        <div class="row">
            <div class="col-12 text-left">
                <a href="{{ url('about') }}"><strong>{{ 'aboutuspage' | trans }}</strong></a> •
                <a href="{{ url('safety') }}">{{ 'safety' | trans }}</a> •
                <a href="{{ url('terms_of_use') }}" target="new">{{ 'termsofuse' | trans }}</a> •
                <a href="{{ url('privacy_policy') }}" target="new">{{ 'privacy' | trans }}</a> •
                <a href="{{ url('data_rights') }}" target="new">{{ 'datarights' | trans }}</a> •
                <a href="{{ url('imprint') }}">{{ 'impressum' | trans }}</a> •
                <a href="{{ url('about_faq') }}">{{ 'faq' | trans }}</a> •
                <a href="{{ url('feedback') }}">{{ 'footer.contactus' | trans }}</a> •
                <a href="{{ url('feedback', {'IdCategory': 1, 'RequestUri': url('homepage')}) }}">{{ 'footer.reportbug' | trans }}</a><br>
                &copy;2007
                &mdash; {{ "now" | date("Y") }} {{ 'copyrightbybv' | trans | escape | replace({'%link_start%': '<a href="https://bevolunteer.org">', '%link_end%': '</a>'})| raw }}
                - {{ 'runningon' | trans }} BW Rox rev. {{ version }} ({{ version_dt }})
            </div>
        </div>
    </div>
</div>
</div>
{{ encore_entry_script_tags('bewelcome') }}
{{ encore_entry_script_tags('jquery_ui') }}
{{ encore_entry_script_tags('search/loadpicker') }}
{{ encore_entry_script_tags('scrollmagic') }}
<script type="application/javascript">
    $(".select2").select2({
        theme: 'bootstrap4',
        width: 'auto',
        dropdownAutoWidth: true
    });
</script>
<script>
    $('[data-toggle="dropdown"]').bootstrapDropdownHover({
        clickBehavior: 'sticky',
        hideTimeout: 1000
    });

    window.addEventListener("load", function () {
        let locale = document.getElementsByTagName('html')[0].getAttribute('lang');
        let privacyUrl = "/privacy";
        if ('fr' === locale) {
            privacyUrl += "/fr";
        }
        window.cookieconsent.initialise({
            "palette": {
                "popup": {
                    "background": "#efefef",
                    "text": "#404040"
                },
                "button": {
                    "background": "#f37000"
                }
            },
            "theme": "classic",
            "position": "bottom-right",
            "content": {
                "href": privacyUrl,
                message: "{{ 'cookie.consent.message'|trans }}",
                dismiss: "{{ 'cookie.consent.dismiss'|trans }}",
                link: "{{ 'cookie.consent.learnmore'|trans }}"
            }
        })
    });
</script>
{% endblock content %}
</body>
</html>
