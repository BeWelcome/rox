{% extends 'trips.html.twig' %}

{% block title %}
	{{ 'trip.mytrips' | trans }}
{% endblock %}

{% block stylesheets %}
	{{ encore_entry_link_tags('tailwind') }}
{% endblock %}

{% block content %}
	<!-- <h1>{{ 'trip.mytrips' | trans }}</h1> -->
	{% if trips.nbResults != 0 %}
		{% set myself = app.user %}
		{% if trips.haveToPaginate %}
		<div class="row">
			<div class="col-12">
				<div class="pull-right">{{ pagerfanta( trips, 'rox_default', { routeName: 'mytrips' }) }}</div>
			</div>
		</div>
		{% endif %}

			{% for trip in trips %}
			<div class="c-trip-card">
				<div class="c-trip-card__wrapper">
					<a class="u-text-white hover:u-text-gray-20 u-text-24 u-font-display u-font-700 u-col-span-full u-mb-8" href="{{ path('trip_show', { 'id': trip.id } ) }}">{{ trip.summary }}</a>
					<div>
						<p class="u-text-white u-mb-8">{{ trip.description | purify | truncate(200) }}</p>
						<p class="u-text-white u-font-display"><strong>{{ trip.subtrips|length }} {{ 'trip.legs'|trans }}</strong></p>
					</div>
					<div>
						<div class="c-trip-card__icon-grid">
							<i class="fa fa-users u-text-white u-text-16 u-justify-self-center u-self-center u-text-gray-20"></i>
							<p class="u-text-white" aria-label="{{ 'trip.count.of.travellers'|trans }}"><strong>{{ trip.countOfTravellers }}</strong> {{ 'trip.count.of.travellers'|trans }}</p>
						</div>
						<div class="c-trip-card__icon-grid">
							<i class="fa fa-info-circle u-text-white u-text-16 u-justify-self-center u-self-center u-text-gray-20"></i>
							<p class="u-text-white" aria-label="{{ 'trip.additional.info'|trans }}">{{ trip.additionalInfo }}</p>
						</div>
					</div>
				</div>
				<div class="u-flex u-justify-between u-items-center">
					<a class="o-rounded o-rounded--l u-text-18" 
					   href="{{ path('trip_edit', {'id': trip.id}) }}">
						<i class="far fa-edit"></i>
					</a>
					<a class="o-rounded o-rounded--l"
						 href="{{ path('trip_remove', {'id': trip.id}) }}">
					  <i class="fa fa-times"></i>
					</a>
				</div>
			</div>
			{% else %}
				<div class="col-12">{{ 'trip.no_trips_found'|trans }}</div>
			{% endfor %}

		{% if trips.haveToPaginate %}
		<div class="row">
			<div class="col-12">
				<div class="pull-right">{{ pagerfanta( trips, 'rox_default', { routeName: 'mytrips' }) }}</div>
			</div>
		</div>
		{% endif %}
	{% else %}
		{{ 'trip.no.trips'|trans }}
	{% endif %}
{% endblock content %}
